%
\begin{isabellebody}%
\setisabellecontext{Maximum{\isacharunderscore}{\kern0pt}Parallel{\isacharunderscore}{\kern0pt}Composition}%
%
\isadelimdocument
\isanewline
%
\endisadelimdocument
%
\isatagdocument
\isanewline
\isanewline
%
\isamarkupsection{Maximum Parallel Composition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Maximum{\isacharunderscore}{\kern0pt}Parallel{\isacharunderscore}{\kern0pt}Composition\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}Basic{\isacharunderscore}{\kern0pt}Modules{\isacharslash}{\kern0pt}Component{\isacharunderscore}{\kern0pt}Types{\isacharslash}{\kern0pt}Maximum{\isacharunderscore}{\kern0pt}Aggregator{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ Parallel{\isacharunderscore}{\kern0pt}Composition\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
This is a family of parallel compositions. It composes a new electoral module
from two electoral modules combined with the maximum aggregator. Therein, the
two modules each make a decision and then a partition is returned where every
alternative receives the maximum result of the two input partitions. This means
that, if any alternative is elected by at least one of the modules, then it
gets elected, if any non-elected alternative is deferred by at least one of the
modules, then it gets deferred, only alternatives rejected by both modules get
rejected.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition\ m\ n\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}let\ a\ {\isacharequal}{\kern0pt}\ max{\isacharunderscore}{\kern0pt}aggregator\ in\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub a\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}parallel\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymparallel}\isactrlsub {\isasymup}{\isachardoublequoteclose}\ {\isadigit{5}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n\ {\isacharequal}{\kern0pt}{\isacharequal}{\kern0pt}\ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition\ m\ n{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Soundness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{theorem}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mod{\isacharunderscore}{\kern0pt}m\ mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Lemmata%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}result{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ m\ A\ p\ x\ {\isasymor}\isanewline
\ \ \ \ \ \ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ n\ A\ p\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}let\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ m\ A\ p{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ A\ p\ in\isanewline
\ \ \ \ \ \ x\ {\isasymin}\ e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}elect\ n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ IntI\ Un{\isacharunderscore}{\kern0pt}iff\ a{\isadigit{1}}\ empty{\isacharunderscore}{\kern0pt}iff\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ in{\isacharunderscore}{\kern0pt}A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}sound\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ CollectD\ DiffD{\isadigit{1}}\ DiffD{\isadigit{2}}\ max{\isacharunderscore}{\kern0pt}aggregator{\isachardot}{\kern0pt}simps\ Un{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ case{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}conv\ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ prod{\isachardot}{\kern0pt}collapse\ f{\isacharunderscore}{\kern0pt}prof\ sndI\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Int{\isacharunderscore}{\kern0pt}iff\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}set\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}a{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}a{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ a{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\ in{\isacharunderscore}{\kern0pt}A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}sound\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ f{\isacharunderscore}{\kern0pt}prof\ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}let\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ m\ A\ p{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ A\ p\ in\isanewline
\ \ \ \ \ \ \ \ x\ {\isasymin}\ fst\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}max{\isacharunderscore}{\kern0pt}aggregator\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ case{\isacharunderscore}{\kern0pt}prod{\isacharunderscore}{\kern0pt}unfold\ parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ surjective{\isacharunderscore}{\kern0pt}pairing\ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}let\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ m\ A\ p{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ A\ p\ in\isanewline
\ \ \ \ \ \ \ \ x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}iff\ combine{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}def\ agg{\isacharunderscore}{\kern0pt}conservative{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ contra{\isacharunderscore}{\kern0pt}subsetD\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\ in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}consv\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ f{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}set\ not{\isacharunderscore}{\kern0pt}a{\isadigit{1}}\ not{\isacharunderscore}{\kern0pt}a{\isadigit{2}}\ Int{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}reject{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}x\ {\isasymin}\ reject\ m\ A\ p\ {\isasymand}\ x\ {\isasymin}\ reject\ n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}x\ {\isasymin}\ reject\ m\ A\ p\ {\isasymand}\ x\ {\isasymin}\ reject\ n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}let\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ m\ A\ p{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ A\ p\ in\isanewline
\ \ \ \ \ \ \ \ x\ {\isasymin}\ fst\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}max{\isacharunderscore}{\kern0pt}aggregator\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ case{\isacharunderscore}{\kern0pt}prodI{\isadigit{2}}\ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ split{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ prod{\isachardot}{\kern0pt}collapse\ split{\isacharunderscore}{\kern0pt}beta\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}let\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ m\ A\ p{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ A\ p\ in\isanewline
\ \ \ \ \ \ \ \ x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ A\ p\ {\isasymand}\ x\ {\isasymin}\ reject\ n\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}{\kern0pt}iff\ a\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}set\ module{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}n\ parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ surjective{\isacharunderscore}{\kern0pt}pairing\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x\ {\isasymin}\ reject\ m\ A\ p\ {\isasymand}\ x\ {\isasymin}\ reject\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ x\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ A\ p\ {\isasymand}\ x\ {\isasymin}\ reject\ n\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isasymnotin}\ elect\ m\ A\ p\ {\isasymand}\ x\ {\isasymnotin}\ defer\ m\ A\ p\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ x\ {\isasymnotin}\ elect\ n\ A\ p\ {\isasymand}\ x\ {\isasymnotin}\ defer\ n\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IntI\ empty{\isacharunderscore}{\kern0pt}iff\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ CollectD\ DiffD{\isadigit{1}}\ max{\isacharunderscore}{\kern0pt}aggregator{\isachardot}{\kern0pt}simps\ Un{\isacharunderscore}{\kern0pt}iff\ a\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\ prod{\isachardot}{\kern0pt}simps\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ old{\isachardot}{\kern0pt}prod{\isachardot}{\kern0pt}inject\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}collapse\ parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rejected{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ n\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Set{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}insert\ contra{\isacharunderscore}{\kern0pt}subsetD\ disjoint{\isacharunderscore}{\kern0pt}insert\isanewline
\ \ \ \ \ \ \ \ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}comm\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}result\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}reject\isanewline
\ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ rejected\isanewline
\ \ \ \ \ \ \ \ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rejected{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ n\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ m\ A\ p\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}comm\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ rejected\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rejected{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ contra{\isacharunderscore}{\kern0pt}subsetD\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \ \ \ \ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}comm\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}result\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}reject\isanewline
\ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ rejected\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{4}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rejected{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ n\ A\ p\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}comm\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{3}}\isanewline
\ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ rejected\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}intersect{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}reject\ n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ A\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}elect\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}reject\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}defer\ n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}elect\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}defer\ n\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}reject\ n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}elect\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}defer\ n\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}reject\ n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}let\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ m\ A\ p{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ A\ p\ in\isanewline
\ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isadigit{1}}\ {\isasyminter}\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ dcompat{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}mod{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ compatible{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ m\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ DiffI\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ in{\isacharunderscore}{\kern0pt}A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{1}}\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{3}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Composition Rules%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{theorem}\isamarkupfalse%
\ conserv{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ compatible{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ m\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ defer{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ lifted{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Profile{\isachardot}{\kern0pt}lifted\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}profs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ compatible\ \isacommand{obtain}\isamarkupfalse%
\ A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\ A{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ x\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ x\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ x\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ x\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}x\ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ n\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}profs\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{4}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ n\ S\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{4}}\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}n\ lifted{\isacharunderscore}{\kern0pt}x\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ monotone{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{3}}\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ m\ S\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{2}}\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ lifted{\isacharunderscore}{\kern0pt}x\ a{\isadigit{0}}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ f{\isacharunderscore}{\kern0pt}profs\ IntI\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\ empty{\isacharunderscore}{\kern0pt}iff\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{1}}\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}{\isadigit{0}}\ {\isadigit{0}}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymnotin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ DiffI\ lifted{\isacharunderscore}{\kern0pt}x\ compatible\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ n\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}x\ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ m\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ DiffD{\isadigit{1}}\ DiffD{\isadigit{2}}\ compatible\ dcompat{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}mod\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ not{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}sound\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ n\ S\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{4}}\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ lifted{\isacharunderscore}{\kern0pt}x\ a{\isadigit{1}}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{3}}\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ m\ S\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{2}}\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}profs\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}x\ defer{\isacharunderscore}{\kern0pt}n\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ monotone{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}profs\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{1}}\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}profs\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}\ {\isadigit{1}}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ eq{\isacharunderscore}{\kern0pt}alts{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}profs{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}results\ max{\isacharunderscore}{\kern0pt}par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ compatible{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ x\ y{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ reject{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ x\ S\ p{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}reject\ y\ S\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ S\ {\isacharplus}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ {\isacharparenleft}{\kern0pt}x\ {\isasymparallel}\isactrlsub {\isasymup}\ y{\isacharparenright}{\kern0pt}\ S\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ compatible\ \isacommand{obtain}\isamarkupfalse%
\ A\ \isakeyword{where}\ A{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ x\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ x\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ y\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ y\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}prof\ compatible\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ reject{\isacharunderscore}{\kern0pt}representation{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}reject\ {\isacharparenleft}{\kern0pt}x\ {\isasymparallel}\isactrlsub {\isasymup}\ y{\isacharparenright}{\kern0pt}\ S\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}reject\ x\ S\ p{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}reject\ y\ S\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}intersect\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ x\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ subsets{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}reject\ x\ S\ p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ S\ {\isasymand}\ {\isacharparenleft}{\kern0pt}reject\ y\ S\ p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}reject\ x\ S\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ finite\ {\isacharparenleft}{\kern0pt}reject\ y\ S\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rev{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subset\ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ {\isacharparenleft}{\kern0pt}x\ {\isasymparallel}\isactrlsub {\isasymup}\ y{\isacharparenright}{\kern0pt}\ S\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ S\ {\isacharplus}{\kern0pt}\ n\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}reject\ x\ S\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}reject\ y\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}Int\ reject{\isacharunderscore}{\kern0pt}representation\ reject{\isacharunderscore}{\kern0pt}sum\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a\ {\isasymin}\ S{\isachardot}{\kern0pt}\ a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}reject\ x\ S\ p{\isacharparenright}{\kern0pt}\ {\isasymor}\ a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}reject\ y\ S\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}reject\ x\ S\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}reject\ y\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ subsets\ subset{\isacharunderscore}{\kern0pt}eq\ sup{\isachardot}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}iff{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isachardot}{\kern0pt}cobounded{\isadigit{1}}\ sup{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}commute\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ {\isacharparenleft}{\kern0pt}x\ {\isasymparallel}\isactrlsub {\isasymup}\ y{\isacharparenright}{\kern0pt}\ S\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}one{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ defers{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rejec{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rejects\ {\isadigit{2}}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ disj{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ m\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eliminates\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ eliminates{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rejec{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ rejects{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ min{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isacharless}{\kern0pt}\ card\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ A\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}card\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{2}}\ less{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ module{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ elec{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ non{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}m\ card{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ module\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defers{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ A\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}A{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}well{\isacharunderscore}{\kern0pt}formed\ A\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharcomma}{\kern0pt}\ reject\ m\ A\ p{\isacharcomma}{\kern0pt}\ defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ module\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ A\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ result{\isacharunderscore}{\kern0pt}count\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ elec{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ case{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ A\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ case{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ rejec{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ rejects{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}m\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}reject\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ A\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ disj{\isacharunderscore}{\kern0pt}comp\ prof{\isacharunderscore}{\kern0pt}A\ fin{\isacharunderscore}{\kern0pt}A\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}m\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/old_theories/Compositional_Structures/Maximum_Parallel_Composition.thy%:%
%:%6=3%:%
%:%11=4%:%
%:%12=5%:%
%:%14=8%:%
%:%30=10%:%
%:%31=10%:%
%:%32=11%:%
%:%33=12%:%
%:%34=13%:%
%:%43=16%:%
%:%44=17%:%
%:%45=18%:%
%:%46=19%:%
%:%47=20%:%
%:%48=21%:%
%:%49=22%:%
%:%50=23%:%
%:%59=25%:%
%:%69=27%:%
%:%70=27%:%
%:%71=28%:%
%:%72=29%:%
%:%73=30%:%
%:%74=31%:%
%:%75=32%:%
%:%76=32%:%
%:%77=33%:%
%:%78=34%:%
%:%85=36%:%
%:%95=38%:%
%:%96=38%:%
%:%97=39%:%
%:%98=40%:%
%:%99=41%:%
%:%100=42%:%
%:%103=43%:%
%:%107=43%:%
%:%108=43%:%
%:%109=44%:%
%:%110=44%:%
%:%124=46%:%
%:%134=48%:%
%:%135=48%:%
%:%136=49%:%
%:%137=50%:%
%:%138=51%:%
%:%139=52%:%
%:%140=53%:%
%:%141=54%:%
%:%142=55%:%
%:%143=56%:%
%:%150=57%:%
%:%151=57%:%
%:%152=58%:%
%:%153=58%:%
%:%154=59%:%
%:%155=59%:%
%:%156=60%:%
%:%158=62%:%
%:%159=63%:%
%:%160=63%:%
%:%161=64%:%
%:%162=64%:%
%:%163=65%:%
%:%164=65%:%
%:%165=66%:%
%:%166=66%:%
%:%167=67%:%
%:%168=67%:%
%:%169=68%:%
%:%170=69%:%
%:%171=70%:%
%:%172=70%:%
%:%173=71%:%
%:%174=71%:%
%:%175=72%:%
%:%176=72%:%
%:%177=73%:%
%:%178=73%:%
%:%179=74%:%
%:%180=74%:%
%:%181=75%:%
%:%182=75%:%
%:%183=76%:%
%:%184=76%:%
%:%185=77%:%
%:%186=77%:%
%:%187=78%:%
%:%188=79%:%
%:%189=80%:%
%:%190=81%:%
%:%191=82%:%
%:%192=83%:%
%:%193=83%:%
%:%194=84%:%
%:%195=84%:%
%:%196=85%:%
%:%197=85%:%
%:%198=86%:%
%:%199=86%:%
%:%200=86%:%
%:%201=87%:%
%:%202=88%:%
%:%203=88%:%
%:%204=89%:%
%:%205=90%:%
%:%206=90%:%
%:%207=91%:%
%:%208=91%:%
%:%209=92%:%
%:%211=94%:%
%:%212=95%:%
%:%213=95%:%
%:%214=96%:%
%:%215=97%:%
%:%216=97%:%
%:%217=98%:%
%:%218=98%:%
%:%219=99%:%
%:%221=101%:%
%:%222=102%:%
%:%223=102%:%
%:%224=103%:%
%:%225=103%:%
%:%226=104%:%
%:%227=104%:%
%:%228=105%:%
%:%229=106%:%
%:%230=107%:%
%:%231=108%:%
%:%232=109%:%
%:%233=110%:%
%:%234=111%:%
%:%235=111%:%
%:%236=112%:%
%:%237=112%:%
%:%238=113%:%
%:%244=113%:%
%:%247=114%:%
%:%248=115%:%
%:%249=115%:%
%:%250=116%:%
%:%251=117%:%
%:%252=118%:%
%:%253=119%:%
%:%254=120%:%
%:%255=121%:%
%:%256=122%:%
%:%263=123%:%
%:%264=123%:%
%:%265=124%:%
%:%266=124%:%
%:%267=125%:%
%:%268=126%:%
%:%269=127%:%
%:%270=127%:%
%:%271=128%:%
%:%272=128%:%
%:%273=129%:%
%:%274=129%:%
%:%275=130%:%
%:%277=132%:%
%:%278=133%:%
%:%279=133%:%
%:%280=134%:%
%:%281=135%:%
%:%282=135%:%
%:%283=136%:%
%:%284=136%:%
%:%285=137%:%
%:%287=139%:%
%:%288=140%:%
%:%289=140%:%
%:%290=141%:%
%:%291=141%:%
%:%292=142%:%
%:%293=142%:%
%:%294=143%:%
%:%295=144%:%
%:%296=145%:%
%:%297=145%:%
%:%298=146%:%
%:%299=146%:%
%:%300=147%:%
%:%301=147%:%
%:%302=147%:%
%:%303=148%:%
%:%304=149%:%
%:%305=150%:%
%:%306=150%:%
%:%307=151%:%
%:%308=151%:%
%:%309=152%:%
%:%310=152%:%
%:%311=153%:%
%:%312=154%:%
%:%313=155%:%
%:%314=155%:%
%:%315=156%:%
%:%316=156%:%
%:%317=157%:%
%:%318=157%:%
%:%319=158%:%
%:%320=158%:%
%:%321=159%:%
%:%322=160%:%
%:%323=161%:%
%:%324=162%:%
%:%325=163%:%
%:%326=163%:%
%:%327=164%:%
%:%328=164%:%
%:%329=165%:%
%:%330=165%:%
%:%331=165%:%
%:%332=166%:%
%:%333=166%:%
%:%334=167%:%
%:%340=167%:%
%:%343=168%:%
%:%344=169%:%
%:%345=169%:%
%:%346=170%:%
%:%347=171%:%
%:%348=172%:%
%:%349=173%:%
%:%350=174%:%
%:%351=175%:%
%:%352=176%:%
%:%355=177%:%
%:%359=177%:%
%:%360=177%:%
%:%361=178%:%
%:%362=179%:%
%:%363=180%:%
%:%364=181%:%
%:%365=182%:%
%:%366=182%:%
%:%371=182%:%
%:%374=183%:%
%:%375=184%:%
%:%376=184%:%
%:%377=185%:%
%:%378=186%:%
%:%379=187%:%
%:%380=188%:%
%:%381=189%:%
%:%382=190%:%
%:%383=191%:%
%:%386=192%:%
%:%390=192%:%
%:%391=192%:%
%:%392=193%:%
%:%393=194%:%
%:%394=194%:%
%:%399=194%:%
%:%402=195%:%
%:%403=196%:%
%:%404=196%:%
%:%405=197%:%
%:%406=198%:%
%:%407=199%:%
%:%408=200%:%
%:%409=201%:%
%:%410=202%:%
%:%411=203%:%
%:%414=204%:%
%:%418=204%:%
%:%419=204%:%
%:%420=205%:%
%:%421=206%:%
%:%422=207%:%
%:%423=208%:%
%:%424=208%:%
%:%429=208%:%
%:%432=209%:%
%:%433=210%:%
%:%434=210%:%
%:%435=211%:%
%:%436=212%:%
%:%437=213%:%
%:%438=214%:%
%:%439=215%:%
%:%440=216%:%
%:%441=217%:%
%:%444=218%:%
%:%448=218%:%
%:%449=218%:%
%:%450=219%:%
%:%451=220%:%
%:%452=220%:%
%:%457=220%:%
%:%460=221%:%
%:%461=222%:%
%:%462=222%:%
%:%463=223%:%
%:%464=224%:%
%:%465=225%:%
%:%466=226%:%
%:%467=227%:%
%:%468=228%:%
%:%469=229%:%
%:%476=230%:%
%:%477=230%:%
%:%478=231%:%
%:%479=231%:%
%:%480=232%:%
%:%481=233%:%
%:%482=234%:%
%:%483=234%:%
%:%484=235%:%
%:%485=235%:%
%:%486=236%:%
%:%487=237%:%
%:%488=238%:%
%:%489=238%:%
%:%490=239%:%
%:%491=239%:%
%:%492=240%:%
%:%493=240%:%
%:%494=241%:%
%:%495=242%:%
%:%496=243%:%
%:%497=243%:%
%:%498=244%:%
%:%499=244%:%
%:%500=245%:%
%:%502=247%:%
%:%503=248%:%
%:%504=248%:%
%:%505=249%:%
%:%506=249%:%
%:%507=250%:%
%:%508=250%:%
%:%509=251%:%
%:%515=251%:%
%:%518=252%:%
%:%519=253%:%
%:%520=253%:%
%:%521=254%:%
%:%522=255%:%
%:%523=256%:%
%:%524=257%:%
%:%525=258%:%
%:%528=261%:%
%:%531=262%:%
%:%535=262%:%
%:%536=262%:%
%:%537=263%:%
%:%538=264%:%
%:%539=264%:%
%:%553=266%:%
%:%563=272%:%
%:%564=272%:%
%:%565=273%:%
%:%566=274%:%
%:%567=275%:%
%:%568=276%:%
%:%571=277%:%
%:%575=277%:%
%:%576=277%:%
%:%577=278%:%
%:%578=278%:%
%:%583=278%:%
%:%586=279%:%
%:%587=283%:%
%:%588=284%:%
%:%589=284%:%
%:%590=285%:%
%:%591=286%:%
%:%592=287%:%
%:%593=288%:%
%:%594=289%:%
%:%597=290%:%
%:%601=290%:%
%:%602=290%:%
%:%603=291%:%
%:%604=291%:%
%:%605=292%:%
%:%606=292%:%
%:%607=293%:%
%:%608=293%:%
%:%609=294%:%
%:%610=294%:%
%:%611=295%:%
%:%612=295%:%
%:%613=296%:%
%:%614=296%:%
%:%615=297%:%
%:%616=297%:%
%:%617=298%:%
%:%618=298%:%
%:%619=299%:%
%:%620=299%:%
%:%621=300%:%
%:%622=300%:%
%:%623=301%:%
%:%624=301%:%
%:%625=302%:%
%:%626=302%:%
%:%627=303%:%
%:%628=304%:%
%:%629=305%:%
%:%630=306%:%
%:%631=307%:%
%:%632=307%:%
%:%633=308%:%
%:%634=309%:%
%:%635=310%:%
%:%636=310%:%
%:%637=311%:%
%:%638=311%:%
%:%639=312%:%
%:%640=312%:%
%:%641=312%:%
%:%642=313%:%
%:%645=316%:%
%:%646=317%:%
%:%647=317%:%
%:%648=318%:%
%:%649=318%:%
%:%650=319%:%
%:%651=319%:%
%:%652=320%:%
%:%653=321%:%
%:%654=321%:%
%:%655=322%:%
%:%656=322%:%
%:%657=323%:%
%:%658=323%:%
%:%659=324%:%
%:%660=324%:%
%:%661=325%:%
%:%662=325%:%
%:%663=326%:%
%:%664=326%:%
%:%665=326%:%
%:%666=327%:%
%:%667=327%:%
%:%668=328%:%
%:%669=329%:%
%:%670=329%:%
%:%671=330%:%
%:%672=330%:%
%:%673=331%:%
%:%674=332%:%
%:%675=332%:%
%:%676=333%:%
%:%677=334%:%
%:%678=334%:%
%:%679=335%:%
%:%680=335%:%
%:%681=335%:%
%:%682=336%:%
%:%683=336%:%
%:%684=337%:%
%:%685=338%:%
%:%686=338%:%
%:%687=339%:%
%:%688=339%:%
%:%689=339%:%
%:%690=340%:%
%:%691=341%:%
%:%692=341%:%
%:%693=342%:%
%:%694=343%:%
%:%695=343%:%
%:%696=344%:%
%:%697=344%:%
%:%698=344%:%
%:%699=345%:%
%:%700=346%:%
%:%701=346%:%
%:%702=347%:%
%:%703=347%:%
%:%704=348%:%
%:%705=349%:%
%:%706=349%:%
%:%707=350%:%
%:%708=351%:%
%:%709=351%:%
%:%710=352%:%
%:%711=352%:%
%:%712=352%:%
%:%713=353%:%
%:%714=353%:%
%:%715=354%:%
%:%716=355%:%
%:%717=356%:%
%:%718=356%:%
%:%719=357%:%
%:%720=357%:%
%:%721=357%:%
%:%722=358%:%
%:%723=359%:%
%:%724=359%:%
%:%725=360%:%
%:%726=361%:%
%:%727=361%:%
%:%728=362%:%
%:%729=362%:%
%:%730=362%:%
%:%731=363%:%
%:%732=364%:%
%:%733=364%:%
%:%734=365%:%
%:%735=365%:%
%:%736=366%:%
%:%737=366%:%
%:%738=367%:%
%:%739=367%:%
%:%740=368%:%
%:%741=368%:%
%:%742=369%:%
%:%743=369%:%
%:%744=370%:%
%:%745=370%:%
%:%746=371%:%
%:%747=371%:%
%:%748=372%:%
%:%749=373%:%
%:%750=373%:%
%:%751=374%:%
%:%752=374%:%
%:%753=375%:%
%:%754=375%:%
%:%755=376%:%
%:%756=376%:%
%:%757=377%:%
%:%758=377%:%
%:%759=377%:%
%:%760=378%:%
%:%761=378%:%
%:%762=379%:%
%:%763=380%:%
%:%764=381%:%
%:%765=382%:%
%:%766=383%:%
%:%767=383%:%
%:%768=384%:%
%:%769=384%:%
%:%770=385%:%
%:%771=386%:%
%:%772=386%:%
%:%773=387%:%
%:%774=388%:%
%:%775=388%:%
%:%776=389%:%
%:%777=389%:%
%:%778=389%:%
%:%779=390%:%
%:%780=390%:%
%:%781=391%:%
%:%782=392%:%
%:%783=393%:%
%:%784=393%:%
%:%785=394%:%
%:%786=394%:%
%:%787=394%:%
%:%788=395%:%
%:%789=396%:%
%:%790=396%:%
%:%791=397%:%
%:%792=398%:%
%:%793=398%:%
%:%794=399%:%
%:%795=399%:%
%:%796=399%:%
%:%797=400%:%
%:%798=401%:%
%:%799=401%:%
%:%800=402%:%
%:%801=402%:%
%:%802=403%:%
%:%803=404%:%
%:%804=404%:%
%:%805=405%:%
%:%806=406%:%
%:%807=406%:%
%:%808=407%:%
%:%809=407%:%
%:%810=407%:%
%:%811=408%:%
%:%812=408%:%
%:%813=409%:%
%:%814=410%:%
%:%815=410%:%
%:%816=411%:%
%:%817=411%:%
%:%818=411%:%
%:%819=412%:%
%:%820=413%:%
%:%821=413%:%
%:%822=414%:%
%:%823=415%:%
%:%824=415%:%
%:%825=416%:%
%:%826=416%:%
%:%827=416%:%
%:%828=417%:%
%:%829=418%:%
%:%830=418%:%
%:%831=419%:%
%:%832=419%:%
%:%833=420%:%
%:%834=420%:%
%:%835=421%:%
%:%836=421%:%
%:%837=422%:%
%:%838=422%:%
%:%839=423%:%
%:%840=423%:%
%:%841=424%:%
%:%842=424%:%
%:%843=425%:%
%:%844=425%:%
%:%845=426%:%
%:%846=427%:%
%:%847=427%:%
%:%848=428%:%
%:%854=428%:%
%:%857=429%:%
%:%858=430%:%
%:%859=430%:%
%:%860=431%:%
%:%861=432%:%
%:%862=433%:%
%:%863=434%:%
%:%864=435%:%
%:%871=436%:%
%:%872=436%:%
%:%873=437%:%
%:%874=437%:%
%:%875=437%:%
%:%876=438%:%
%:%880=442%:%
%:%881=443%:%
%:%882=443%:%
%:%883=444%:%
%:%884=444%:%
%:%885=445%:%
%:%886=445%:%
%:%887=446%:%
%:%888=446%:%
%:%889=447%:%
%:%890=448%:%
%:%891=448%:%
%:%892=449%:%
%:%893=449%:%
%:%894=450%:%
%:%895=450%:%
%:%896=451%:%
%:%897=451%:%
%:%898=452%:%
%:%899=452%:%
%:%900=453%:%
%:%901=453%:%
%:%902=454%:%
%:%903=454%:%
%:%904=455%:%
%:%905=455%:%
%:%906=456%:%
%:%907=456%:%
%:%908=457%:%
%:%909=457%:%
%:%910=458%:%
%:%911=458%:%
%:%912=459%:%
%:%914=461%:%
%:%915=462%:%
%:%916=462%:%
%:%917=463%:%
%:%918=463%:%
%:%919=464%:%
%:%920=464%:%
%:%921=465%:%
%:%922=465%:%
%:%923=466%:%
%:%924=466%:%
%:%925=467%:%
%:%926=467%:%
%:%927=468%:%
%:%928=468%:%
%:%929=469%:%
%:%930=470%:%
%:%931=470%:%
%:%932=471%:%
%:%933=471%:%
%:%934=472%:%
%:%935=472%:%
%:%936=473%:%
%:%937=473%:%
%:%938=474%:%
%:%944=474%:%
%:%947=475%:%
%:%948=481%:%
%:%949=482%:%
%:%950=482%:%
%:%951=483%:%
%:%952=484%:%
%:%953=485%:%
%:%954=486%:%
%:%955=487%:%
%:%956=488%:%
%:%959=489%:%
%:%963=489%:%
%:%964=489%:%
%:%965=490%:%
%:%966=490%:%
%:%967=491%:%
%:%968=491%:%
%:%969=492%:%
%:%970=492%:%
%:%971=493%:%
%:%972=493%:%
%:%973=494%:%
%:%974=494%:%
%:%975=495%:%
%:%976=495%:%
%:%977=496%:%
%:%978=496%:%
%:%979=497%:%
%:%980=497%:%
%:%981=498%:%
%:%982=498%:%
%:%983=499%:%
%:%984=499%:%
%:%985=500%:%
%:%986=500%:%
%:%987=501%:%
%:%988=501%:%
%:%989=502%:%
%:%990=503%:%
%:%991=504%:%
%:%992=504%:%
%:%993=505%:%
%:%994=506%:%
%:%995=507%:%
%:%996=508%:%
%:%997=508%:%
%:%998=509%:%
%:%999=509%:%
%:%1000=510%:%
%:%1001=510%:%
%:%1002=511%:%
%:%1003=511%:%
%:%1004=512%:%
%:%1005=512%:%
%:%1006=513%:%
%:%1007=513%:%
%:%1008=514%:%
%:%1009=514%:%
%:%1010=515%:%
%:%1011=515%:%
%:%1012=516%:%
%:%1013=516%:%
%:%1014=517%:%
%:%1015=517%:%
%:%1016=518%:%
%:%1017=518%:%
%:%1018=518%:%
%:%1019=519%:%
%:%1020=520%:%
%:%1021=520%:%
%:%1022=521%:%
%:%1023=521%:%
%:%1024=522%:%
%:%1025=522%:%
%:%1026=522%:%
%:%1027=523%:%
%:%1028=524%:%
%:%1029=524%:%
%:%1030=525%:%
%:%1031=525%:%
%:%1032=526%:%
%:%1033=526%:%
%:%1034=527%:%
%:%1035=527%:%
%:%1036=527%:%
%:%1037=528%:%
%:%1038=529%:%
%:%1039=530%:%
%:%1040=530%:%
%:%1041=531%:%
%:%1042=531%:%
%:%1043=532%:%
%:%1044=532%:%
%:%1045=532%:%
%:%1046=533%:%
%:%1048=535%:%
%:%1049=536%:%
%:%1050=536%:%
%:%1051=537%:%
%:%1052=537%:%
%:%1053=538%:%
%:%1054=538%:%
%:%1055=539%:%
%:%1056=539%:%
%:%1057=540%:%
%:%1058=540%:%
%:%1059=541%:%
%:%1060=541%:%
%:%1061=542%:%
%:%1062=542%:%
%:%1063=543%:%
%:%1064=543%:%
%:%1065=544%:%
%:%1066=544%:%
%:%1067=545%:%
%:%1068=545%:%
%:%1069=545%:%
%:%1070=546%:%
%:%1071=547%:%
%:%1072=547%:%
%:%1073=548%:%
%:%1074=548%:%
%:%1075=549%:%
%:%1076=549%:%
%:%1077=550%:%
%:%1078=550%:%
%:%1079=551%:%
%:%1080=552%:%
%:%1081=553%:%
%:%1082=553%:%
%:%1083=554%:%
%:%1084=554%:%
%:%1085=555%:%
%:%1086=555%:%
%:%1087=556%:%
%:%1088=556%:%
%:%1089=557%:%
%:%1090=558%:%
%:%1091=558%:%
%:%1092=559%:%
%:%1093=559%:%
%:%1094=560%:%
%:%1100=560%:%
%:%1105=561%:%
%:%1110=562%:%