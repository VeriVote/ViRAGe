%
\begin{isabellebody}%
\setisabellecontext{Profile}%
%
\isadelimdocument
\isanewline
%
\endisadelimdocument
%
\isatagdocument
\isanewline
\isanewline
\isanewline
%
\isamarkupsection{Preference Profile%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Profile\isanewline
\ \ \isakeyword{imports}\ Preference{\isacharunderscore}{\kern0pt}Relation\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
Preference profiles denote the decisions made by the individual voters on
the eligible alternatives. They are represented in the form of one preference
relation (e.g., selected on a ballot) per voter, collectively captured in a
list of such preference relations.
Unlike a the common preference profiles in the social-choice sense, the
profiles described here considers only the (sub-)set of alternatives that are
received.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharprime}{\kern0pt}a\ Profile\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ Preference{\isacharunderscore}{\kern0pt}Relation{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ profile\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}profile\ A\ p\ {\isasymequiv}\ {\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\ linear{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ profile{\isacharunderscore}{\kern0pt}set\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymforall}b\ {\isasymin}\ {\isacharparenleft}{\kern0pt}set\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ linear{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on\ A\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}nth\ profile{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymequiv}\ finite\ A\ {\isasymand}\ profile\ A\ p{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Preference Counts and Comparisons%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ win{\isacharunderscore}{\kern0pt}count\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count\ p\ a\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ Nil\ a\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharhash}{\kern0pt}ps{\isacharparenright}{\kern0pt}\ a\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isacharparenleft}{\kern0pt}above\ p\ a\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ ps\ a{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ prefer{\isacharunderscore}{\kern0pt}count\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ Nil\ x\ y\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharhash}{\kern0pt}ps{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ y\ {\isasympreceq}\isactrlsub p\ x\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ ps\ x\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}compr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ f\ x\ {\isacharbar}{\kern0pt}\ x\ {\isachardot}{\kern0pt}\ x\ {\isasymin}\ S\ {\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharbackquote}{\kern0pt}\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}compr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharbar}{\kern0pt}\ y\ {\isachardot}{\kern0pt}\ y\ {\isasymin}\ A{\isacharminus}{\kern0pt}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A{\isacharminus}{\kern0pt}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ neq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}size\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ y\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ size\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\ linear{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prof\ profile{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\ connex\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lin{\isacharunderscore}{\kern0pt}ord{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}connex{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ connex{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\ antisym\ \ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lin{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ antisymD\ neq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{2}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{3}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ card{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ size\ p\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ y\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{2}}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{3}}{\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}sym{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \isakeyword{assumes}\ p{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ a\ x\ {\isasymge}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ b{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ neq{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymnoteq}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ neq{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x\ {\isasymge}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ prof\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ neq{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ a\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}size\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ prof\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ b{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ neq{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}size\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}size\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isacharparenright}{\kern0pt}\ {\isasymge}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}size\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ p{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}size\ p{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}size\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ diff{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq\ diff{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}self\ neq{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ pref{\isacharunderscore}{\kern0pt}count\ prof\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardoublequoteclose}\ calculation\ p{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}pref{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}\ x\ y{\isachardot}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}incr{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ ps\ x\ y\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}y\ {\isasympreceq}\isactrlsub p\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharhash}{\kern0pt}ps{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\ n{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}smaller{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}constant{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ ps\ x\ y\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub p\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharhash}{\kern0pt}ps{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ wins\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}wins\ x\ p\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isachargreater}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ y\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ wins{\isacharunderscore}{\kern0pt}code\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}wins{\isacharunderscore}{\kern0pt}code\ x\ p\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ y\ {\isachargreater}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ y\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wins{\isacharunderscore}{\kern0pt}antisym{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wins\ a\ p\ b{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ wins\ b\ p\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wins{\isacharunderscore}{\kern0pt}irreflex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ wins\ w\ p\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ wins{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Condorcet Winner%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}winner\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ \ w\ {\isasymin}\ A\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ {\isachardot}{\kern0pt}\ wins\ w\ p\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}code\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}code\ A\ p\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ \ w\ {\isasymin}\ A\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ {\isachardot}{\kern0pt}\ wins{\isacharunderscore}{\kern0pt}code\ w\ p\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ winner{\isacharunderscore}{\kern0pt}c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ c{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ winner{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ assumption{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymnoteq}\ c{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ winner{\isacharunderscore}{\kern0pt}w\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wins\ w\ p\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assumption\ insert{\isacharunderscore}{\kern0pt}Diff\ insert{\isacharunderscore}{\kern0pt}iff\ winner{\isacharunderscore}{\kern0pt}c\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ wins\ c\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ wins{\isacharunderscore}{\kern0pt}antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ winner{\isacharunderscore}{\kern0pt}c\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ c{\isacharunderscore}{\kern0pt}wins{\isacharunderscore}{\kern0pt}against{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wins\ c\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}iff\ assumption\isanewline
\ \ \ \ \ \ \ \ \ \ singletonD\ winner{\isacharunderscore}{\kern0pt}w\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ winner{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ not{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}x\ {\isasymnoteq}\ w{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}w\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique\ winner\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}wins{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}xa\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ xa{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}xa{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ \ w\ {\isasymin}\ A\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}beats{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymnoteq}\ w\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ assm\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ assm\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}beats{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymnoteq}\ w\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}wins\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}beats{\isacharunderscore}{\kern0pt}x\ x{\isacharunderscore}{\kern0pt}beats{\isacharunderscore}{\kern0pt}w\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ xa{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xa\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}wins{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ xa{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}xa{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ \ w\ {\isasymin}\ A\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ {\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xa\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xa{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}wins\ insert{\isacharunderscore}{\kern0pt}Diff\ insert{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Limited Profile%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}profile\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}limit\ A{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}B\ {\isasymsubseteq}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}C\ {\isasymsubseteq}\ B{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ C\ p\ {\isacharequal}{\kern0pt}\ limit{\isacharunderscore}{\kern0pt}profile\ C\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ B\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ profile{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ profile\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}limit\ A{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}map\ limit{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}lin{\isacharunderscore}{\kern0pt}ord\ nth{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \ \ profile{\isacharunderscore}{\kern0pt}def\ subset\ infinite{\isacharunderscore}{\kern0pt}super\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}size{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ subset{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}size\ p\ {\isacharequal}{\kern0pt}\ size\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Lifting Property%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ p\ q\ a\ {\isasymequiv}\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ q\ {\isasymand}\ a\ {\isasymin}\ A\ {\isasymand}\ size\ p\ {\isacharequal}{\kern0pt}\ size\ q\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ lifted\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}lifted\ A\ p\ q\ a\ {\isasymequiv}\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ q\ {\isasymand}\ a\ {\isasymin}\ A\ {\isasymand}\ size\ p\ {\isacharequal}{\kern0pt}\ size\ q\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ {\isasymnot}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymand}\ Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ lifted{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lifted\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}ok{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ size\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ i{\isacharunderscore}{\kern0pt}ok\ lifted\ profile{\isacharunderscore}{\kern0pt}def\ trivial{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ lifted\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ negl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}limit{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ change{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ S\ p\ q\ a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ notInA{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymnotin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isacharequal}{\kern0pt}\ limit{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ S\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ change\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\ limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ notInA\ negl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}limit\ subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}limit\ A{\isacharparenright}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}limit\ A{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ change\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ length{\isacharunderscore}{\kern0pt}map\ nth{\isacharunderscore}{\kern0pt}equalityI\ nth{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}lifted{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ lifted{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lifted\ S\ p\ q\ a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isacharequal}{\kern0pt}\ limit{\isacharunderscore}{\kern0pt}profile\ A\ q\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ lifted\ A\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ A\ q{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ inA{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ S\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isasymor}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ lifted\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ one{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ a\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}lifted\ subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}map\ lifted\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile{\isachardot}{\kern0pt}simps\ nth{\isacharunderscore}{\kern0pt}equalityI\ nth{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ p\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}q\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}profile\ A\ {\isacharquery}{\kern0pt}p\ {\isasymand}\ profile\ A\ {\isacharquery}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ lifted\ limit{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}sound\ subset\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}size\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ size\ {\isacharquery}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ lifted\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ {\isacharquery}{\kern0pt}p\ {\isasymand}\ Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ lifted{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}map\ lifted\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile{\isachardot}{\kern0pt}simps\ nth{\isacharunderscore}{\kern0pt}map\ one\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}i\ {\isacharless}{\kern0pt}\ size\ {\isacharquery}{\kern0pt}p\ {\isasymand}\ {\isasymnot}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}map\ lifted\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile{\isachardot}{\kern0pt}simps\ nth{\isacharunderscore}{\kern0pt}map\ one\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}lifted\ A\ {\isacharquery}{\kern0pt}p\ {\isacharquery}{\kern0pt}q\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ inA\ lifted\ rev{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subset\ subset\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymnotin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted\ negl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}limit{\isacharunderscore}{\kern0pt}prof\ subset\isanewline
\ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/old_theories/Compositional_Structures/Basic_Modules/Component_Types/Social_Choice_Types/Profile.thy%:%
%:%6=3%:%
%:%11=4%:%
%:%12=5%:%
%:%13=6%:%
%:%15=9%:%
%:%31=11%:%
%:%32=11%:%
%:%33=12%:%
%:%34=13%:%
%:%43=16%:%
%:%44=17%:%
%:%45=18%:%
%:%46=19%:%
%:%47=20%:%
%:%48=21%:%
%:%49=22%:%
%:%58=24%:%
%:%68=27%:%
%:%69=27%:%
%:%70=28%:%
%:%71=32%:%
%:%72=33%:%
%:%73=33%:%
%:%74=34%:%
%:%75=35%:%
%:%76=36%:%
%:%77=36%:%
%:%80=37%:%
%:%84=37%:%
%:%85=37%:%
%:%90=37%:%
%:%93=38%:%
%:%94=39%:%
%:%95=39%:%
%:%96=40%:%
%:%103=42%:%
%:%113=48%:%
%:%114=48%:%
%:%115=49%:%
%:%116=50%:%
%:%117=51%:%
%:%118=52%:%
%:%119=52%:%
%:%120=53%:%
%:%121=54%:%
%:%122=55%:%
%:%123=56%:%
%:%124=57%:%
%:%125=57%:%
%:%126=58%:%
%:%127=59%:%
%:%128=60%:%
%:%129=61%:%
%:%130=61%:%
%:%131=62%:%
%:%132=63%:%
%:%133=64%:%
%:%134=65%:%
%:%135=66%:%
%:%136=66%:%
%:%139=67%:%
%:%143=67%:%
%:%144=67%:%
%:%149=67%:%
%:%152=68%:%
%:%153=69%:%
%:%154=69%:%
%:%155=70%:%
%:%158=71%:%
%:%162=71%:%
%:%163=71%:%
%:%168=71%:%
%:%171=72%:%
%:%172=73%:%
%:%173=73%:%
%:%174=74%:%
%:%175=75%:%
%:%176=76%:%
%:%177=77%:%
%:%178=78%:%
%:%185=79%:%
%:%186=79%:%
%:%187=80%:%
%:%188=80%:%
%:%189=81%:%
%:%190=81%:%
%:%191=82%:%
%:%192=82%:%
%:%193=83%:%
%:%195=85%:%
%:%196=86%:%
%:%197=86%:%
%:%198=87%:%
%:%199=87%:%
%:%200=88%:%
%:%201=88%:%
%:%202=89%:%
%:%203=89%:%
%:%204=90%:%
%:%205=90%:%
%:%206=91%:%
%:%207=91%:%
%:%208=92%:%
%:%209=92%:%
%:%210=93%:%
%:%211=94%:%
%:%212=94%:%
%:%213=95%:%
%:%214=95%:%
%:%215=96%:%
%:%216=96%:%
%:%217=96%:%
%:%218=97%:%
%:%219=98%:%
%:%220=98%:%
%:%221=99%:%
%:%222=99%:%
%:%223=100%:%
%:%224=100%:%
%:%225=101%:%
%:%226=101%:%
%:%227=102%:%
%:%228=102%:%
%:%229=103%:%
%:%230=103%:%
%:%231=104%:%
%:%232=105%:%
%:%233=105%:%
%:%234=106%:%
%:%235=106%:%
%:%236=106%:%
%:%237=107%:%
%:%238=108%:%
%:%239=109%:%
%:%240=109%:%
%:%241=110%:%
%:%242=110%:%
%:%243=111%:%
%:%244=112%:%
%:%245=113%:%
%:%246=113%:%
%:%247=114%:%
%:%248=114%:%
%:%249=115%:%
%:%250=116%:%
%:%251=117%:%
%:%252=117%:%
%:%253=118%:%
%:%254=118%:%
%:%255=119%:%
%:%256=119%:%
%:%257=120%:%
%:%258=120%:%
%:%259=121%:%
%:%260=121%:%
%:%261=122%:%
%:%264=125%:%
%:%265=126%:%
%:%266=126%:%
%:%267=127%:%
%:%268=127%:%
%:%269=128%:%
%:%270=129%:%
%:%271=129%:%
%:%272=130%:%
%:%273=130%:%
%:%274=130%:%
%:%275=131%:%
%:%276=132%:%
%:%277=133%:%
%:%278=133%:%
%:%279=134%:%
%:%280=134%:%
%:%281=135%:%
%:%282=135%:%
%:%283=135%:%
%:%284=136%:%
%:%285=137%:%
%:%286=138%:%
%:%287=138%:%
%:%288=139%:%
%:%289=139%:%
%:%290=140%:%
%:%291=140%:%
%:%292=140%:%
%:%293=141%:%
%:%294=142%:%
%:%295=142%:%
%:%296=143%:%
%:%297=143%:%
%:%298=143%:%
%:%299=144%:%
%:%300=144%:%
%:%301=145%:%
%:%307=145%:%
%:%310=146%:%
%:%311=147%:%
%:%312=147%:%
%:%313=148%:%
%:%314=149%:%
%:%315=150%:%
%:%316=151%:%
%:%317=152%:%
%:%318=153%:%
%:%319=154%:%
%:%320=155%:%
%:%327=156%:%
%:%328=156%:%
%:%329=157%:%
%:%330=157%:%
%:%331=157%:%
%:%332=158%:%
%:%333=159%:%
%:%334=159%:%
%:%335=160%:%
%:%336=160%:%
%:%337=161%:%
%:%338=161%:%
%:%339=161%:%
%:%340=161%:%
%:%341=162%:%
%:%342=163%:%
%:%343=163%:%
%:%344=164%:%
%:%345=164%:%
%:%346=165%:%
%:%347=165%:%
%:%348=166%:%
%:%349=167%:%
%:%350=167%:%
%:%351=168%:%
%:%352=168%:%
%:%353=169%:%
%:%354=169%:%
%:%355=170%:%
%:%356=171%:%
%:%357=171%:%
%:%358=172%:%
%:%359=173%:%
%:%360=173%:%
%:%361=174%:%
%:%362=174%:%
%:%363=175%:%
%:%364=175%:%
%:%365=176%:%
%:%366=176%:%
%:%367=177%:%
%:%368=177%:%
%:%369=178%:%
%:%370=178%:%
%:%371=179%:%
%:%377=179%:%
%:%380=180%:%
%:%381=181%:%
%:%382=181%:%
%:%383=182%:%
%:%384=183%:%
%:%387=184%:%
%:%391=184%:%
%:%392=184%:%
%:%393=185%:%
%:%394=185%:%
%:%399=185%:%
%:%402=186%:%
%:%403=187%:%
%:%404=187%:%
%:%405=188%:%
%:%406=189%:%
%:%407=190%:%
%:%408=191%:%
%:%411=192%:%
%:%415=192%:%
%:%416=192%:%
%:%417=193%:%
%:%418=193%:%
%:%423=193%:%
%:%426=194%:%
%:%427=195%:%
%:%428=195%:%
%:%429=196%:%
%:%430=197%:%
%:%431=198%:%
%:%432=199%:%
%:%435=200%:%
%:%439=200%:%
%:%440=200%:%
%:%441=201%:%
%:%442=201%:%
%:%447=201%:%
%:%450=202%:%
%:%451=203%:%
%:%452=203%:%
%:%453=204%:%
%:%454=205%:%
%:%455=206%:%
%:%456=207%:%
%:%457=207%:%
%:%458=208%:%
%:%459=209%:%
%:%460=210%:%
%:%461=211%:%
%:%462=212%:%
%:%463=212%:%
%:%464=213%:%
%:%465=214%:%
%:%468=215%:%
%:%472=215%:%
%:%473=215%:%
%:%474=216%:%
%:%475=216%:%
%:%480=216%:%
%:%483=217%:%
%:%484=218%:%
%:%485=218%:%
%:%488=219%:%
%:%492=219%:%
%:%493=219%:%
%:%494=220%:%
%:%495=220%:%
%:%509=222%:%
%:%519=224%:%
%:%520=224%:%
%:%521=225%:%
%:%522=226%:%
%:%523=227%:%
%:%524=228%:%
%:%525=228%:%
%:%526=229%:%
%:%528=231%:%
%:%529=232%:%
%:%530=233%:%
%:%531=233%:%
%:%532=234%:%
%:%533=235%:%
%:%534=236%:%
%:%541=237%:%
%:%542=237%:%
%:%543=238%:%
%:%544=238%:%
%:%545=239%:%
%:%546=240%:%
%:%547=240%:%
%:%548=241%:%
%:%549=241%:%
%:%550=242%:%
%:%551=242%:%
%:%552=243%:%
%:%553=243%:%
%:%554=244%:%
%:%555=244%:%
%:%556=245%:%
%:%557=245%:%
%:%558=246%:%
%:%559=246%:%
%:%560=246%:%
%:%561=247%:%
%:%562=247%:%
%:%563=248%:%
%:%564=249%:%
%:%565=249%:%
%:%566=250%:%
%:%567=251%:%
%:%568=251%:%
%:%569=252%:%
%:%570=252%:%
%:%571=252%:%
%:%572=253%:%
%:%573=253%:%
%:%574=254%:%
%:%580=254%:%
%:%583=255%:%
%:%584=256%:%
%:%585=256%:%
%:%586=257%:%
%:%587=258%:%
%:%588=259%:%
%:%589=260%:%
%:%592=261%:%
%:%596=261%:%
%:%597=261%:%
%:%598=262%:%
%:%599=262%:%
%:%604=262%:%
%:%607=263%:%
%:%608=264%:%
%:%609=264%:%
%:%610=265%:%
%:%611=266%:%
%:%618=267%:%
%:%619=267%:%
%:%620=268%:%
%:%621=268%:%
%:%622=269%:%
%:%623=270%:%
%:%624=270%:%
%:%625=271%:%
%:%626=272%:%
%:%627=273%:%
%:%628=274%:%
%:%629=275%:%
%:%631=277%:%
%:%632=278%:%
%:%633=278%:%
%:%634=278%:%
%:%635=279%:%
%:%638=282%:%
%:%639=283%:%
%:%640=283%:%
%:%641=284%:%
%:%642=284%:%
%:%643=285%:%
%:%645=287%:%
%:%646=288%:%
%:%647=288%:%
%:%648=289%:%
%:%649=289%:%
%:%650=290%:%
%:%652=292%:%
%:%653=293%:%
%:%654=293%:%
%:%655=294%:%
%:%656=294%:%
%:%657=295%:%
%:%658=295%:%
%:%659=295%:%
%:%660=295%:%
%:%661=296%:%
%:%662=297%:%
%:%663=297%:%
%:%664=298%:%
%:%665=298%:%
%:%666=298%:%
%:%667=298%:%
%:%668=299%:%
%:%669=300%:%
%:%670=300%:%
%:%671=301%:%
%:%672=301%:%
%:%673=302%:%
%:%675=304%:%
%:%676=305%:%
%:%677=305%:%
%:%678=306%:%
%:%679=306%:%
%:%680=307%:%
%:%681=307%:%
%:%682=307%:%
%:%683=308%:%
%:%684=309%:%
%:%685=309%:%
%:%686=310%:%
%:%687=310%:%
%:%688=311%:%
%:%689=311%:%
%:%690=312%:%
%:%691=313%:%
%:%692=313%:%
%:%693=313%:%
%:%694=314%:%
%:%695=314%:%
%:%696=315%:%
%:%697=315%:%
%:%698=316%:%
%:%699=316%:%
%:%700=317%:%
%:%701=318%:%
%:%702=318%:%
%:%703=318%:%
%:%704=319%:%
%:%705=319%:%
%:%706=320%:%
%:%707=320%:%
%:%708=321%:%
%:%709=321%:%
%:%710=322%:%
%:%711=323%:%
%:%712=323%:%
%:%713=323%:%
%:%714=324%:%
%:%715=324%:%
%:%716=325%:%
%:%717=325%:%
%:%718=326%:%
%:%719=326%:%
%:%720=327%:%
%:%721=328%:%
%:%722=328%:%
%:%723=328%:%
%:%724=329%:%
%:%725=329%:%
%:%726=330%:%
%:%727=330%:%
%:%728=331%:%
%:%729=331%:%
%:%730=332%:%
%:%731=333%:%
%:%732=334%:%
%:%733=334%:%
%:%734=335%:%
%:%735=336%:%
%:%736=337%:%
%:%737=338%:%
%:%738=339%:%
%:%739=339%:%
%:%740=339%:%
%:%741=340%:%
%:%744=343%:%
%:%745=344%:%
%:%746=344%:%
%:%747=345%:%
%:%748=345%:%
%:%749=346%:%
%:%750=346%:%
%:%751=347%:%
%:%752=347%:%
%:%753=348%:%
%:%768=350%:%
%:%778=356%:%
%:%779=356%:%
%:%780=357%:%
%:%781=358%:%
%:%782=359%:%
%:%783=359%:%
%:%784=360%:%
%:%785=361%:%
%:%786=362%:%
%:%787=363%:%
%:%788=364%:%
%:%791=365%:%
%:%795=365%:%
%:%796=365%:%
%:%797=366%:%
%:%798=366%:%
%:%803=366%:%
%:%806=367%:%
%:%807=368%:%
%:%808=368%:%
%:%809=369%:%
%:%810=370%:%
%:%811=371%:%
%:%812=372%:%
%:%819=373%:%
%:%820=373%:%
%:%821=374%:%
%:%822=374%:%
%:%823=375%:%
%:%824=375%:%
%:%825=376%:%
%:%826=376%:%
%:%827=377%:%
%:%828=378%:%
%:%829=378%:%
%:%830=379%:%
%:%836=379%:%
%:%839=380%:%
%:%840=381%:%
%:%841=381%:%
%:%842=382%:%
%:%843=383%:%
%:%844=384%:%
%:%847=385%:%
%:%851=385%:%
%:%852=385%:%
%:%866=387%:%
%:%876=389%:%
%:%877=389%:%
%:%878=390%:%
%:%879=391%:%
%:%883=395%:%
%:%884=396%:%
%:%885=400%:%
%:%886=401%:%
%:%887=401%:%
%:%888=402%:%
%:%893=407%:%
%:%894=408%:%
%:%895=409%:%
%:%896=409%:%
%:%897=410%:%
%:%898=411%:%
%:%905=412%:%
%:%906=412%:%
%:%907=413%:%
%:%908=413%:%
%:%909=414%:%
%:%910=415%:%
%:%911=416%:%
%:%912=416%:%
%:%913=417%:%
%:%914=417%:%
%:%915=418%:%
%:%916=418%:%
%:%917=419%:%
%:%918=420%:%
%:%919=421%:%
%:%920=421%:%
%:%921=422%:%
%:%922=422%:%
%:%923=423%:%
%:%924=423%:%
%:%925=424%:%
%:%926=424%:%
%:%927=425%:%
%:%928=426%:%
%:%929=426%:%
%:%930=427%:%
%:%931=427%:%
%:%932=428%:%
%:%933=428%:%
%:%934=429%:%
%:%935=429%:%
%:%936=430%:%
%:%937=430%:%
%:%938=431%:%
%:%939=431%:%
%:%940=432%:%
%:%946=432%:%
%:%949=433%:%
%:%950=434%:%
%:%951=434%:%
%:%952=435%:%
%:%953=436%:%
%:%954=437%:%
%:%955=438%:%
%:%956=439%:%
%:%963=440%:%
%:%964=440%:%
%:%965=441%:%
%:%966=441%:%
%:%967=442%:%
%:%968=443%:%
%:%969=444%:%
%:%970=444%:%
%:%971=445%:%
%:%972=445%:%
%:%973=446%:%
%:%974=446%:%
%:%975=447%:%
%:%976=447%:%
%:%977=448%:%
%:%978=448%:%
%:%979=449%:%
%:%980=449%:%
%:%981=450%:%
%:%982=450%:%
%:%983=451%:%
%:%984=452%:%
%:%985=452%:%
%:%986=453%:%
%:%987=453%:%
%:%988=454%:%
%:%989=454%:%
%:%990=455%:%
%:%996=455%:%
%:%999=456%:%
%:%1000=457%:%
%:%1001=457%:%
%:%1002=458%:%
%:%1003=459%:%
%:%1004=460%:%
%:%1005=461%:%
%:%1006=462%:%
%:%1007=463%:%
%:%1014=464%:%
%:%1015=464%:%
%:%1016=465%:%
%:%1017=465%:%
%:%1018=466%:%
%:%1019=466%:%
%:%1020=467%:%
%:%1021=468%:%
%:%1022=469%:%
%:%1023=469%:%
%:%1024=470%:%
%:%1025=470%:%
%:%1026=471%:%
%:%1027=471%:%
%:%1028=472%:%
%:%1030=474%:%
%:%1031=475%:%
%:%1032=475%:%
%:%1033=476%:%
%:%1034=476%:%
%:%1035=477%:%
%:%1036=477%:%
%:%1037=478%:%
%:%1038=478%:%
%:%1039=479%:%
%:%1040=479%:%
%:%1041=480%:%
%:%1042=480%:%
%:%1043=481%:%
%:%1044=481%:%
%:%1045=482%:%
%:%1046=483%:%
%:%1047=483%:%
%:%1048=484%:%
%:%1049=484%:%
%:%1050=485%:%
%:%1051=485%:%
%:%1052=486%:%
%:%1053=487%:%
%:%1054=487%:%
%:%1055=488%:%
%:%1056=488%:%
%:%1057=489%:%
%:%1058=489%:%
%:%1059=490%:%
%:%1060=490%:%
%:%1061=491%:%
%:%1062=491%:%
%:%1063=492%:%
%:%1064=492%:%
%:%1065=492%:%
%:%1066=493%:%
%:%1067=493%:%
%:%1068=494%:%
%:%1069=494%:%
%:%1070=495%:%
%:%1071=495%:%
%:%1072=495%:%
%:%1073=496%:%
%:%1074=497%:%
%:%1075=497%:%
%:%1076=498%:%
%:%1077=499%:%
%:%1078=499%:%
%:%1079=500%:%
%:%1080=500%:%
%:%1081=500%:%
%:%1082=501%:%
%:%1084=503%:%
%:%1085=504%:%
%:%1086=504%:%
%:%1087=505%:%
%:%1088=506%:%
%:%1089=506%:%
%:%1090=507%:%
%:%1091=507%:%
%:%1092=507%:%
%:%1093=508%:%
%:%1094=508%:%
%:%1095=509%:%
%:%1096=509%:%
%:%1097=510%:%
%:%1098=510%:%
%:%1099=511%:%
%:%1100=511%:%
%:%1101=512%:%
%:%1102=512%:%
%:%1103=513%:%
%:%1104=513%:%
%:%1105=514%:%
%:%1106=514%:%
%:%1107=515%:%
%:%1108=515%:%
%:%1109=516%:%
%:%1110=516%:%
%:%1111=517%:%
%:%1112=518%:%
%:%1113=518%:%
%:%1114=519%:%
%:%1120=519%:%
%:%1125=520%:%
%:%1130=521%:%