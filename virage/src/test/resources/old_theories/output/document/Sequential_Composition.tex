%
\begin{isabellebody}%
\setisabellecontext{Sequential{\isacharunderscore}{\kern0pt}Composition}%
%
\isadelimdocument
\isanewline
%
\endisadelimdocument
%
\isatagdocument
\isanewline
\isanewline
%
\isamarkupsection{Sequential Composition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Sequential{\isacharunderscore}{\kern0pt}Composition\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}Basic{\isacharunderscore}{\kern0pt}Modules{\isacharslash}{\kern0pt}Component{\isacharunderscore}{\kern0pt}Types{\isacharslash}{\kern0pt}Electoral{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
The sequential composition creates a new electoral module from
two electoral modules. In a sequential composition, the second
electoral module makes decisions over alternatives deferred by
the first electoral module.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sequential{\isacharunderscore}{\kern0pt}composition\ m\ n\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}let\ new{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ p{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ limit{\isacharunderscore}{\kern0pt}profile\ new{\isacharunderscore}{\kern0pt}A\ p\ in\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}elect\ n\ new{\isacharunderscore}{\kern0pt}A\ new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}reject\ n\ new{\isacharunderscore}{\kern0pt}A\ new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ defer\ n\ new{\isacharunderscore}{\kern0pt}A\ new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ sequence\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymtriangleright}{\isachardoublequoteclose}\ {\isadigit{5}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}m\ {\isasymtriangleright}\ n\ {\isacharequal}{\kern0pt}{\isacharequal}{\kern0pt}\ sequential{\isacharunderscore}{\kern0pt}composition\ m\ n{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}disjoint{\isadigit{3}}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isadigit{3}}\ {\isacharparenleft}{\kern0pt}m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ well{\isacharunderscore}{\kern0pt}formed{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}disjoint{\isadigit{3}}\ {\isacharparenleft}{\kern0pt}n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ well{\isacharunderscore}{\kern0pt}formed{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasyminter}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\ subset{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasyminter}\ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\isanewline
\ \ \ \ \ \ \ \ \ \ rev{\isacharunderscore}{\kern0pt}subsetD\ result{\isacharunderscore}{\kern0pt}disj\ distrib{\isacharunderscore}{\kern0pt}imp{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ Int{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}distrib{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ result{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts\ sup{\isacharunderscore}{\kern0pt}bot{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}bot{\isachardot}{\kern0pt}neutr{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ sup{\isacharunderscore}{\kern0pt}bot{\isacharunderscore}{\kern0pt}right\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasyminter}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ set{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}mp\ result{\isacharunderscore}{\kern0pt}disj\ Int{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ Un{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}Int\ boolean{\isacharunderscore}{\kern0pt}algebra{\isacharunderscore}{\kern0pt}cancel{\isachardot}{\kern0pt}inf{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ inf{\isachardot}{\kern0pt}order{\isacharunderscore}{\kern0pt}iff\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}aci{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ subsetD\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasyminter}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ set{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}mp\isanewline
\ \ \ \ \ \ \ \ \ \ result{\isacharunderscore}{\kern0pt}disj\ Int{\isacharunderscore}{\kern0pt}commute\ boolean{\isacharunderscore}{\kern0pt}algebra{\isacharunderscore}{\kern0pt}cancel{\isachardot}{\kern0pt}inf{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\ inf{\isachardot}{\kern0pt}commute\ inf{\isachardot}{\kern0pt}orderE\ inf{\isacharunderscore}{\kern0pt}commute\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ {\isadigit{3}}\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}aci{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ result{\isacharunderscore}{\kern0pt}disj\ sup{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}absorb\ sup{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}distrib{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ distrib{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}bot{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ {\isadigit{3}}\ disjoint{\isacharunderscore}{\kern0pt}n\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\ Un{\isacharunderscore}{\kern0pt}empty\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ {\isadigit{3}}\ f{\isacharunderscore}{\kern0pt}prof\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ distrib{\isacharunderscore}{\kern0pt}imp{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\ subset{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}distrib{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}disjoint{\isadigit{3}}\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ A\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ A\ {\isacharparenleft}{\kern0pt}m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isasymunion}\ reject\ m\ A\ p\ {\isasymunion}\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ result{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\ module{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharparenleft}{\kern0pt}n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ well{\isacharunderscore}{\kern0pt}formed{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ \ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ A\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Soundness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}r{\isachardot}{\kern0pt}\ well{\isacharunderscore}{\kern0pt}formed\ {\isacharparenleft}{\kern0pt}A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}\ r\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}disjoint{\isadigit{3}}\ r\ {\isasymand}\ set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ A\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Lemmata%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ empty{\isacharunderscore}{\kern0pt}defer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ \ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{1}}\ Un{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}\ bot{\isachardot}{\kern0pt}extremum{\isacharunderscore}{\kern0pt}uniqueI\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ empty{\isacharunderscore}{\kern0pt}defer\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ prod{\isachardot}{\kern0pt}collapse\isanewline
\ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}then{\isacharunderscore}{\kern0pt}elect{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electing\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}n\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bot{\isachardot}{\kern0pt}extremum{\isacharunderscore}{\kern0pt}uniqueI\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ ele{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assm\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ finite\ \isacommand{have}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ defers{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ singletonI\ subsetCE\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ele\ def\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\ rej{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ reject\ m\ A\ p\ {\isacharequal}{\kern0pt}\ A{\isacharminus}{\kern0pt}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}empty\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m\ defers{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ele\ rej\ def\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A{\isacharminus}{\kern0pt}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}empty\ combine{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ elect\ n\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}bot{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}card\ def\ electing{\isacharunderscore}{\kern0pt}n\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}alt\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ prod{\isachardot}{\kern0pt}sel\isanewline
\ \ \ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}bot{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ def\ def{\isacharunderscore}{\kern0pt}card\ electing{\isacharunderscore}{\kern0pt}n\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ res{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}disjoint\ Diff{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}absorb\ Int{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}right\isanewline
\ \ \ \ \ \ \ \ \ \ Un{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}Int\ electing{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}alt\ empty{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ prod{\isachardot}{\kern0pt}sel\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ singletonI\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}bounded{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}mono\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}then{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ elect\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}commute\ fst{\isacharunderscore}{\kern0pt}conv\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}red{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eliminates\ {\isadigit{1}}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ enough{\isacharunderscore}{\kern0pt}leftover{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubset}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ enough{\isacharunderscore}{\kern0pt}leftover\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ single{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}red{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}A\ p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymlongrightarrow}\ well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ well{\isacharunderscore}{\kern0pt}formed\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}well{\isacharunderscore}{\kern0pt}formed\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ a\ {\isasymin}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}mono\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Composition Rules%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}blocking{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ reject\ m\ A\ p\ {\isasymnoteq}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ A\ {\isacharminus}{\kern0pt}\ reject\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}iff\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ subset{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ elect\ m\ A\ p\ {\isasymunion}\ defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ reject\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ elec{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}rej\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ elect\ m\ A\ p\ {\isasymunion}\ defer\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymor}\ defer\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}empty\ Diff{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}conv\ Un{\isacharunderscore}{\kern0pt}empty\ fst{\isacharunderscore}{\kern0pt}conv\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ inf{\isachardot}{\kern0pt}absorb{\isadigit{1}}\ sup{\isacharunderscore}{\kern0pt}bot{\isacharunderscore}{\kern0pt}right\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\ subset{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}empty\ assms\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ prod{\isachardot}{\kern0pt}sel\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isadigit{1}}{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ electing{\isacharunderscore}{\kern0pt}m{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electing\ m{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}electing\ {\isacharparenleft}{\kern0pt}m{\isadigit{1}}\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}A\ p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ A\ {\isasymge}\ {\isadigit{1}}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ m{\isadigit{1}}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}A\ p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ defer\ m{\isadigit{1}}\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ zero{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}one\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}empty\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\ electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ electing{\isacharunderscore}{\kern0pt}m{\isadigit{2}}\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}then{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}help{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Aq\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Aq\ q{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\ \isacommand{have}\isamarkupfalse%
\ modules{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymlongrightarrow}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ profile{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lifted\ A\ p\ q\ a\ {\isasymlongrightarrow}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \ \ \ \ \ \ modules\ profile{\isacharunderscore}{\kern0pt}p\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ new{\isacharunderscore}{\kern0pt}A{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Aq{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Aq\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}eq\ mono{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ modules\ new{\isacharunderscore}{\kern0pt}A{\isacharunderscore}{\kern0pt}eq\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ modules\ profile{\isacharunderscore}{\kern0pt}p\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}subset\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\ \isacommand{have}\isamarkupfalse%
\ eql{\isacharunderscore}{\kern0pt}lengths{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}size\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ size\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymnot}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ size\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymnot}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{2}}\ lifted{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\ modules\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{0}}\ {\isasymle}\ i\ {\isasymand}\ i\ {\isacharless}{\kern0pt}\ size\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isasymor}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}size\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\ modules\ mono{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{0}}\ {\isasymle}\ i\ {\isasymand}\ i\ {\isacharless}{\kern0pt}\ size\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}lifted\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}size\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile{\isachardot}{\kern0pt}simps\ nth{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{0}}\ eql{\isacharunderscore}{\kern0pt}lengths\ mono{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ leI\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}zero\ nth{\isacharunderscore}{\kern0pt}equalityI\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}m\ mono{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}help\isanewline
\ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}one{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defers{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ pos{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ card\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}card\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}blocking{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}reject\ m\ A\ p\ {\isasymnoteq}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ A\ {\isasymand}\ a\ {\isasymnotin}\ reject\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}card\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ subset{\isacharunderscore}{\kern0pt}antisym\ subset{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ subsetI\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}defer\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\ empty{\isacharunderscore}{\kern0pt}iff\ pos{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ pos{\isacharunderscore}{\kern0pt}card\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}fun{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}n\ defers{\isacharunderscore}{\kern0pt}def\ fin{\isacharunderscore}{\kern0pt}A\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ prof{\isacharunderscore}{\kern0pt}A\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}n\ f{\isachardot}{\kern0pt}\ defers\ n\ f\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}electoral{\isacharunderscore}{\kern0pt}module\ f\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}A\ rs{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymnot}\ n\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}\ {\isasymor}\ infinite\ A\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymnot}\ profile\ A\ rs{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ f\ A\ rs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}fun\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ disj{\isacharunderscore}{\kern0pt}compat{\isacharunderscore}{\kern0pt}seq{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ compatible{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ m\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ module{\isacharunderscore}{\kern0pt}m{\isadigit{2}}\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}S{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ modules{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ module{\isacharunderscore}{\kern0pt}m{\isadigit{2}}\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ A\ \isakeyword{where}\ A{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ fin{\isacharunderscore}{\kern0pt}S\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}A\ {\isasymsubseteq}\ S{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}a\ p\ q{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ a\ {\isasymin}\ A\ {\isasymand}\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ S\ p\ q\ a\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ S\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}defer\ m\ S\ p\ {\isacharequal}{\kern0pt}\ defer\ m\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ a\ b\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ a\ b\ \isacommand{have}\isamarkupfalse%
\ profiles{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}defer\ m\ S\ p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ p{\isacharparenright}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ q{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ DiffD{\isadigit{2}}\ a\ b\ compatible\ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ eq{\isacharunderscore}{\kern0pt}def\ profiles\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ negl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}limit{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}def\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}m{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ m{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ q{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ S\ p\ {\isacharequal}{\kern0pt}\ m\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ a\ b\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ {\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ UnI{\isadigit{1}}\ prod{\isachardot}{\kern0pt}sel\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\ modules\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electing\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monotonicity\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ elect{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ lifted{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Profile{\isachardot}{\kern0pt}lifted\ A\ p\ q\ w{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}w\ lifted{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}then{\isacharunderscore}{\kern0pt}elect\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ elect{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p\ lifted{\isacharunderscore}{\kern0pt}w\ def{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m\ electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ defer{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}monotonicity\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ lifted{\isacharunderscore}{\kern0pt}a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Profile{\isachardot}{\kern0pt}lifted\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m\ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}unchanged{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ q\ {\isasymnoteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}single{\isacharunderscore}{\kern0pt}defer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\ lifted{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ q\ {\isasymlongrightarrow}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isasymin}\ defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isasymin}\ defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ a{\isacharunderscore}{\kern0pt}single{\isacharunderscore}{\kern0pt}defer\ card{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}disjoint\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ empty{\isacharunderscore}{\kern0pt}iff\ finite{\isachardot}{\kern0pt}emptyI\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\ order{\isacharunderscore}{\kern0pt}refl\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\ \isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\ empty{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ insertCI\ subset{\isacharunderscore}{\kern0pt}singletonD\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}mono\ defers{\isacharunderscore}{\kern0pt}def\ insert{\isacharunderscore}{\kern0pt}subset\ Diff{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}absorb\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq\ empty{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\ card{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}singleton\ finite{\isachardot}{\kern0pt}emptyI\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}disjoint\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ finite{\isacharunderscore}{\kern0pt}Diff\ insertCI\ insert{\isacharunderscore}{\kern0pt}Diff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\ \isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ eq{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}different{\isacharunderscore}{\kern0pt}alternatives{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}defer\ m\ A\ q\ {\isasymnoteq}\ defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}elect\ m\ A\ q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ elect{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}equal{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isacharequal}{\kern0pt}\ elect\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}different{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}alternatives{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ q\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ lifted\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}a\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}profile{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ results{\isacharunderscore}{\kern0pt}equal{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ same{\isacharunderscore}{\kern0pt}alternatives{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ results{\isacharunderscore}{\kern0pt}equal{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ elect{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}equal\ same{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ eq{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}profile\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ still{\isacharunderscore}{\kern0pt}lifted{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}lifted\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}deferred{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ equals{\isadigit{0}}D\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}deferred{\isacharunderscore}{\kern0pt}p\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ insert{\isacharunderscore}{\kern0pt}subset\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}deferred{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ still{\isacharunderscore}{\kern0pt}lifted\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}n\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ same{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}p\ same{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}deferred{\isacharunderscore}{\kern0pt}q\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ same{\isacharunderscore}{\kern0pt}alternatives\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}q\ def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ eq{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/old_theories/Compositional_Structures/Sequential_Composition.thy%:%
%:%6=3%:%
%:%11=4%:%
%:%12=5%:%
%:%14=8%:%
%:%30=10%:%
%:%31=10%:%
%:%32=11%:%
%:%33=12%:%
%:%42=15%:%
%:%43=16%:%
%:%44=17%:%
%:%45=18%:%
%:%54=20%:%
%:%64=22%:%
%:%65=22%:%
%:%66=23%:%
%:%67=24%:%
%:%72=29%:%
%:%73=30%:%
%:%74=31%:%
%:%75=31%:%
%:%76=32%:%
%:%77=33%:%
%:%78=34%:%
%:%79=35%:%
%:%80=36%:%
%:%81=36%:%
%:%82=37%:%
%:%83=38%:%
%:%84=39%:%
%:%85=40%:%
%:%92=41%:%
%:%93=41%:%
%:%94=42%:%
%:%95=42%:%
%:%96=43%:%
%:%97=43%:%
%:%98=44%:%
%:%99=44%:%
%:%100=44%:%
%:%101=45%:%
%:%102=45%:%
%:%103=46%:%
%:%104=46%:%
%:%105=47%:%
%:%106=47%:%
%:%107=47%:%
%:%108=48%:%
%:%109=49%:%
%:%110=49%:%
%:%111=50%:%
%:%112=50%:%
%:%113=51%:%
%:%114=51%:%
%:%115=51%:%
%:%116=52%:%
%:%117=53%:%
%:%118=53%:%
%:%119=54%:%
%:%120=55%:%
%:%121=55%:%
%:%122=56%:%
%:%123=56%:%
%:%124=57%:%
%:%125=57%:%
%:%126=58%:%
%:%127=59%:%
%:%128=59%:%
%:%129=60%:%
%:%130=61%:%
%:%131=62%:%
%:%132=63%:%
%:%133=64%:%
%:%134=64%:%
%:%135=65%:%
%:%136=65%:%
%:%137=66%:%
%:%138=66%:%
%:%139=67%:%
%:%140=68%:%
%:%141=68%:%
%:%142=69%:%
%:%143=70%:%
%:%144=71%:%
%:%145=72%:%
%:%146=72%:%
%:%147=73%:%
%:%148=73%:%
%:%149=74%:%
%:%150=74%:%
%:%151=75%:%
%:%152=76%:%
%:%153=76%:%
%:%154=77%:%
%:%155=78%:%
%:%156=79%:%
%:%157=79%:%
%:%158=80%:%
%:%159=80%:%
%:%160=80%:%
%:%161=81%:%
%:%162=82%:%
%:%163=83%:%
%:%164=83%:%
%:%165=84%:%
%:%166=85%:%
%:%167=86%:%
%:%168=86%:%
%:%169=87%:%
%:%170=87%:%
%:%171=87%:%
%:%172=87%:%
%:%173=88%:%
%:%174=89%:%
%:%175=90%:%
%:%176=90%:%
%:%177=91%:%
%:%178=91%:%
%:%179=92%:%
%:%180=92%:%
%:%181=92%:%
%:%182=93%:%
%:%183=93%:%
%:%184=94%:%
%:%185=95%:%
%:%186=96%:%
%:%187=96%:%
%:%188=97%:%
%:%189=98%:%
%:%190=99%:%
%:%191=99%:%
%:%192=100%:%
%:%193=100%:%
%:%194=100%:%
%:%195=101%:%
%:%197=103%:%
%:%198=104%:%
%:%199=104%:%
%:%200=105%:%
%:%201=105%:%
%:%202=106%:%
%:%203=106%:%
%:%204=107%:%
%:%205=107%:%
%:%206=108%:%
%:%212=108%:%
%:%215=109%:%
%:%216=110%:%
%:%217=110%:%
%:%218=111%:%
%:%219=112%:%
%:%220=113%:%
%:%221=114%:%
%:%228=115%:%
%:%229=115%:%
%:%230=116%:%
%:%231=116%:%
%:%232=117%:%
%:%233=117%:%
%:%234=118%:%
%:%235=118%:%
%:%236=118%:%
%:%237=119%:%
%:%238=119%:%
%:%239=120%:%
%:%240=120%:%
%:%241=120%:%
%:%242=121%:%
%:%243=122%:%
%:%244=122%:%
%:%245=123%:%
%:%246=123%:%
%:%247=123%:%
%:%248=124%:%
%:%249=125%:%
%:%250=125%:%
%:%251=126%:%
%:%252=126%:%
%:%253=127%:%
%:%254=127%:%
%:%255=127%:%
%:%256=128%:%
%:%258=130%:%
%:%259=131%:%
%:%260=131%:%
%:%261=132%:%
%:%262=132%:%
%:%263=133%:%
%:%264=133%:%
%:%265=133%:%
%:%266=134%:%
%:%268=136%:%
%:%269=137%:%
%:%270=137%:%
%:%271=138%:%
%:%272=138%:%
%:%273=139%:%
%:%276=142%:%
%:%277=143%:%
%:%278=143%:%
%:%279=144%:%
%:%280=144%:%
%:%281=145%:%
%:%282=145%:%
%:%283=146%:%
%:%284=146%:%
%:%285=147%:%
%:%300=149%:%
%:%310=151%:%
%:%311=151%:%
%:%312=152%:%
%:%313=153%:%
%:%314=154%:%
%:%317=155%:%
%:%321=155%:%
%:%322=155%:%
%:%323=156%:%
%:%324=156%:%
%:%325=157%:%
%:%326=157%:%
%:%327=158%:%
%:%328=159%:%
%:%329=160%:%
%:%330=160%:%
%:%331=161%:%
%:%332=162%:%
%:%333=163%:%
%:%334=163%:%
%:%335=164%:%
%:%336=165%:%
%:%337=165%:%
%:%338=166%:%
%:%339=166%:%
%:%340=167%:%
%:%341=167%:%
%:%342=168%:%
%:%343=169%:%
%:%344=169%:%
%:%345=170%:%
%:%360=172%:%
%:%370=174%:%
%:%371=174%:%
%:%372=175%:%
%:%373=176%:%
%:%374=177%:%
%:%375=178%:%
%:%376=179%:%
%:%377=180%:%
%:%380=181%:%
%:%384=181%:%
%:%385=181%:%
%:%386=182%:%
%:%387=183%:%
%:%388=184%:%
%:%389=185%:%
%:%390=185%:%
%:%395=185%:%
%:%398=186%:%
%:%399=187%:%
%:%400=187%:%
%:%401=188%:%
%:%402=189%:%
%:%403=190%:%
%:%404=191%:%
%:%405=192%:%
%:%406=193%:%
%:%413=194%:%
%:%414=194%:%
%:%415=195%:%
%:%416=195%:%
%:%417=196%:%
%:%418=196%:%
%:%419=196%:%
%:%420=197%:%
%:%421=197%:%
%:%422=198%:%
%:%423=199%:%
%:%424=199%:%
%:%425=200%:%
%:%426=200%:%
%:%427=201%:%
%:%428=201%:%
%:%429=202%:%
%:%430=202%:%
%:%431=202%:%
%:%432=203%:%
%:%433=203%:%
%:%434=204%:%
%:%435=204%:%
%:%436=205%:%
%:%437=205%:%
%:%438=205%:%
%:%439=206%:%
%:%440=207%:%
%:%441=207%:%
%:%442=208%:%
%:%443=208%:%
%:%444=208%:%
%:%445=209%:%
%:%446=210%:%
%:%447=210%:%
%:%448=211%:%
%:%449=212%:%
%:%450=212%:%
%:%451=213%:%
%:%452=213%:%
%:%453=213%:%
%:%454=214%:%
%:%455=215%:%
%:%456=215%:%
%:%457=216%:%
%:%458=216%:%
%:%459=217%:%
%:%460=217%:%
%:%461=217%:%
%:%462=218%:%
%:%463=219%:%
%:%464=219%:%
%:%465=220%:%
%:%466=221%:%
%:%467=221%:%
%:%468=222%:%
%:%469=222%:%
%:%470=223%:%
%:%471=224%:%
%:%472=225%:%
%:%473=225%:%
%:%474=226%:%
%:%475=227%:%
%:%476=227%:%
%:%477=228%:%
%:%478=228%:%
%:%479=228%:%
%:%480=229%:%
%:%481=230%:%
%:%482=230%:%
%:%483=231%:%
%:%484=232%:%
%:%485=233%:%
%:%486=233%:%
%:%487=234%:%
%:%488=234%:%
%:%489=235%:%
%:%490=235%:%
%:%491=236%:%
%:%492=236%:%
%:%493=237%:%
%:%494=238%:%
%:%495=239%:%
%:%496=240%:%
%:%497=240%:%
%:%498=241%:%
%:%504=241%:%
%:%507=242%:%
%:%508=243%:%
%:%509=243%:%
%:%510=244%:%
%:%511=245%:%
%:%512=246%:%
%:%513=247%:%
%:%514=248%:%
%:%517=249%:%
%:%521=249%:%
%:%522=249%:%
%:%523=250%:%
%:%524=251%:%
%:%525=251%:%
%:%530=251%:%
%:%533=252%:%
%:%534=253%:%
%:%535=253%:%
%:%536=254%:%
%:%537=255%:%
%:%538=256%:%
%:%539=257%:%
%:%540=258%:%
%:%543=259%:%
%:%547=259%:%
%:%548=259%:%
%:%549=260%:%
%:%550=261%:%
%:%551=261%:%
%:%556=261%:%
%:%559=262%:%
%:%560=263%:%
%:%561=263%:%
%:%562=264%:%
%:%563=265%:%
%:%564=266%:%
%:%565=267%:%
%:%566=268%:%
%:%567=269%:%
%:%568=270%:%
%:%571=271%:%
%:%575=271%:%
%:%576=271%:%
%:%577=272%:%
%:%578=272%:%
%:%583=272%:%
%:%586=273%:%
%:%587=274%:%
%:%588=274%:%
%:%589=275%:%
%:%590=276%:%
%:%591=277%:%
%:%592=278%:%
%:%593=279%:%
%:%594=280%:%
%:%596=282%:%
%:%599=283%:%
%:%603=283%:%
%:%604=283%:%
%:%605=284%:%
%:%606=284%:%
%:%611=284%:%
%:%614=285%:%
%:%615=286%:%
%:%616=286%:%
%:%617=287%:%
%:%618=288%:%
%:%619=289%:%
%:%620=290%:%
%:%621=291%:%
%:%622=292%:%
%:%625=293%:%
%:%629=293%:%
%:%630=293%:%
%:%631=294%:%
%:%632=295%:%
%:%633=296%:%
%:%634=296%:%
%:%639=296%:%
%:%642=297%:%
%:%643=298%:%
%:%644=298%:%
%:%645=299%:%
%:%646=300%:%
%:%647=301%:%
%:%648=302%:%
%:%649=303%:%
%:%656=304%:%
%:%657=304%:%
%:%658=305%:%
%:%659=305%:%
%:%660=306%:%
%:%661=306%:%
%:%662=307%:%
%:%663=307%:%
%:%664=308%:%
%:%665=308%:%
%:%666=309%:%
%:%668=311%:%
%:%669=312%:%
%:%670=312%:%
%:%671=313%:%
%:%672=313%:%
%:%673=314%:%
%:%674=315%:%
%:%675=316%:%
%:%676=316%:%
%:%677=317%:%
%:%678=317%:%
%:%679=318%:%
%:%680=318%:%
%:%681=319%:%
%:%682=319%:%
%:%683=320%:%
%:%684=320%:%
%:%685=321%:%
%:%691=321%:%
%:%694=322%:%
%:%695=323%:%
%:%696=323%:%
%:%697=324%:%
%:%698=325%:%
%:%699=326%:%
%:%700=327%:%
%:%701=328%:%
%:%702=329%:%
%:%704=331%:%
%:%707=332%:%
%:%711=332%:%
%:%712=332%:%
%:%713=333%:%
%:%714=334%:%
%:%715=334%:%
%:%729=336%:%
%:%739=339%:%
%:%740=339%:%
%:%741=340%:%
%:%742=341%:%
%:%743=342%:%
%:%744=343%:%
%:%751=344%:%
%:%752=344%:%
%:%753=345%:%
%:%754=345%:%
%:%755=346%:%
%:%756=347%:%
%:%757=348%:%
%:%758=348%:%
%:%759=349%:%
%:%760=349%:%
%:%761=349%:%
%:%762=350%:%
%:%763=351%:%
%:%764=351%:%
%:%765=352%:%
%:%766=352%:%
%:%767=352%:%
%:%768=353%:%
%:%769=354%:%
%:%770=354%:%
%:%771=355%:%
%:%772=356%:%
%:%773=356%:%
%:%774=357%:%
%:%775=357%:%
%:%776=357%:%
%:%777=358%:%
%:%778=359%:%
%:%779=359%:%
%:%780=360%:%
%:%781=360%:%
%:%782=361%:%
%:%783=362%:%
%:%784=363%:%
%:%785=363%:%
%:%786=364%:%
%:%787=364%:%
%:%788=365%:%
%:%789=365%:%
%:%790=365%:%
%:%791=366%:%
%:%792=367%:%
%:%793=367%:%
%:%794=368%:%
%:%795=368%:%
%:%796=369%:%
%:%797=369%:%
%:%798=370%:%
%:%799=370%:%
%:%800=371%:%
%:%801=371%:%
%:%802=372%:%
%:%803=372%:%
%:%804=373%:%
%:%805=374%:%
%:%806=375%:%
%:%807=376%:%
%:%808=376%:%
%:%809=377%:%
%:%815=377%:%
%:%818=378%:%
%:%819=379%:%
%:%820=380%:%
%:%821=380%:%
%:%822=381%:%
%:%823=382%:%
%:%824=383%:%
%:%825=384%:%
%:%828=385%:%
%:%832=385%:%
%:%833=385%:%
%:%834=386%:%
%:%835=387%:%
%:%836=387%:%
%:%841=387%:%
%:%844=388%:%
%:%845=393%:%
%:%846=394%:%
%:%847=394%:%
%:%848=395%:%
%:%849=396%:%
%:%850=397%:%
%:%857=398%:%
%:%858=398%:%
%:%859=399%:%
%:%860=399%:%
%:%861=400%:%
%:%862=401%:%
%:%863=402%:%
%:%864=402%:%
%:%865=403%:%
%:%866=403%:%
%:%867=404%:%
%:%868=404%:%
%:%869=405%:%
%:%870=406%:%
%:%871=407%:%
%:%872=407%:%
%:%873=408%:%
%:%874=409%:%
%:%875=409%:%
%:%876=410%:%
%:%877=410%:%
%:%878=411%:%
%:%879=411%:%
%:%880=412%:%
%:%881=413%:%
%:%882=414%:%
%:%883=414%:%
%:%884=415%:%
%:%890=415%:%
%:%893=416%:%
%:%894=417%:%
%:%895=417%:%
%:%896=418%:%
%:%897=419%:%
%:%898=420%:%
%:%899=421%:%
%:%900=422%:%
%:%907=423%:%
%:%908=423%:%
%:%909=424%:%
%:%910=424%:%
%:%911=425%:%
%:%912=425%:%
%:%913=426%:%
%:%914=426%:%
%:%915=427%:%
%:%916=427%:%
%:%917=428%:%
%:%918=428%:%
%:%919=428%:%
%:%920=429%:%
%:%921=430%:%
%:%922=430%:%
%:%923=431%:%
%:%924=431%:%
%:%925=432%:%
%:%926=432%:%
%:%927=433%:%
%:%928=433%:%
%:%929=434%:%
%:%930=434%:%
%:%931=434%:%
%:%932=435%:%
%:%933=435%:%
%:%934=436%:%
%:%935=436%:%
%:%936=436%:%
%:%937=437%:%
%:%938=437%:%
%:%939=438%:%
%:%940=438%:%
%:%941=439%:%
%:%942=439%:%
%:%943=440%:%
%:%944=440%:%
%:%945=441%:%
%:%946=442%:%
%:%947=442%:%
%:%948=443%:%
%:%949=443%:%
%:%950=444%:%
%:%951=444%:%
%:%952=445%:%
%:%953=445%:%
%:%954=446%:%
%:%955=447%:%
%:%956=447%:%
%:%957=448%:%
%:%958=448%:%
%:%959=449%:%
%:%960=449%:%
%:%961=450%:%
%:%962=451%:%
%:%963=451%:%
%:%964=452%:%
%:%965=452%:%
%:%966=453%:%
%:%967=453%:%
%:%968=454%:%
%:%969=454%:%
%:%970=455%:%
%:%971=456%:%
%:%972=456%:%
%:%973=457%:%
%:%974=457%:%
%:%975=458%:%
%:%976=458%:%
%:%977=459%:%
%:%978=459%:%
%:%979=459%:%
%:%980=460%:%
%:%981=460%:%
%:%982=461%:%
%:%983=461%:%
%:%984=461%:%
%:%985=462%:%
%:%986=463%:%
%:%987=463%:%
%:%988=464%:%
%:%989=464%:%
%:%990=465%:%
%:%991=465%:%
%:%992=465%:%
%:%993=466%:%
%:%994=466%:%
%:%995=467%:%
%:%996=468%:%
%:%997=468%:%
%:%998=469%:%
%:%999=469%:%
%:%1000=470%:%
%:%1001=470%:%
%:%1002=470%:%
%:%1003=471%:%
%:%1004=471%:%
%:%1005=472%:%
%:%1006=472%:%
%:%1007=473%:%
%:%1008=473%:%
%:%1009=473%:%
%:%1010=473%:%
%:%1011=474%:%
%:%1012=475%:%
%:%1013=475%:%
%:%1014=476%:%
%:%1015=476%:%
%:%1016=476%:%
%:%1017=477%:%
%:%1021=481%:%
%:%1022=482%:%
%:%1023=482%:%
%:%1024=483%:%
%:%1025=483%:%
%:%1026=484%:%
%:%1027=484%:%
%:%1028=484%:%
%:%1029=485%:%
%:%1030=486%:%
%:%1031=487%:%
%:%1032=487%:%
%:%1033=488%:%
%:%1034=488%:%
%:%1035=489%:%
%:%1036=489%:%
%:%1037=489%:%
%:%1038=490%:%
%:%1040=492%:%
%:%1041=493%:%
%:%1042=493%:%
%:%1043=494%:%
%:%1044=495%:%
%:%1045=496%:%
%:%1046=496%:%
%:%1047=497%:%
%:%1048=497%:%
%:%1049=498%:%
%:%1050=498%:%
%:%1051=499%:%
%:%1052=499%:%
%:%1053=500%:%
%:%1054=500%:%
%:%1055=501%:%
%:%1056=501%:%
%:%1057=502%:%
%:%1058=502%:%
%:%1059=503%:%
%:%1060=503%:%
%:%1061=504%:%
%:%1062=504%:%
%:%1063=505%:%
%:%1064=505%:%
%:%1065=506%:%
%:%1071=506%:%
%:%1074=507%:%
%:%1075=508%:%
%:%1076=509%:%
%:%1077=509%:%
%:%1078=510%:%
%:%1079=511%:%
%:%1080=512%:%
%:%1081=513%:%
%:%1084=514%:%
%:%1088=514%:%
%:%1089=514%:%
%:%1090=515%:%
%:%1091=516%:%
%:%1092=516%:%
%:%1097=516%:%
%:%1100=517%:%
%:%1101=523%:%
%:%1102=524%:%
%:%1103=524%:%
%:%1104=525%:%
%:%1105=526%:%
%:%1106=527%:%
%:%1107=528%:%
%:%1108=529%:%
%:%1111=530%:%
%:%1115=530%:%
%:%1116=530%:%
%:%1117=531%:%
%:%1118=531%:%
%:%1119=532%:%
%:%1120=532%:%
%:%1121=533%:%
%:%1122=533%:%
%:%1123=534%:%
%:%1124=534%:%
%:%1125=535%:%
%:%1126=535%:%
%:%1127=536%:%
%:%1128=536%:%
%:%1129=537%:%
%:%1130=537%:%
%:%1131=538%:%
%:%1132=538%:%
%:%1133=539%:%
%:%1134=539%:%
%:%1135=540%:%
%:%1136=540%:%
%:%1137=541%:%
%:%1138=541%:%
%:%1139=542%:%
%:%1140=542%:%
%:%1141=543%:%
%:%1142=544%:%
%:%1143=545%:%
%:%1144=545%:%
%:%1145=546%:%
%:%1146=547%:%
%:%1147=548%:%
%:%1148=549%:%
%:%1149=549%:%
%:%1150=549%:%
%:%1151=550%:%
%:%1152=551%:%
%:%1153=551%:%
%:%1154=552%:%
%:%1155=552%:%
%:%1156=552%:%
%:%1157=553%:%
%:%1158=554%:%
%:%1159=554%:%
%:%1160=555%:%
%:%1161=555%:%
%:%1162=556%:%
%:%1163=556%:%
%:%1164=557%:%
%:%1165=558%:%
%:%1166=558%:%
%:%1167=559%:%
%:%1168=560%:%
%:%1169=561%:%
%:%1170=561%:%
%:%1171=562%:%
%:%1172=562%:%
%:%1173=563%:%
%:%1174=563%:%
%:%1175=564%:%
%:%1176=565%:%
%:%1177=565%:%
%:%1178=566%:%
%:%1179=566%:%
%:%1180=567%:%
%:%1181=568%:%
%:%1182=568%:%
%:%1183=569%:%
%:%1184=570%:%
%:%1185=570%:%
%:%1186=571%:%
%:%1187=571%:%
%:%1188=572%:%
%:%1189=573%:%
%:%1190=574%:%
%:%1191=574%:%
%:%1192=575%:%
%:%1193=576%:%
%:%1194=576%:%
%:%1195=577%:%
%:%1196=577%:%
%:%1197=578%:%
%:%1202=583%:%
%:%1203=584%:%
%:%1204=584%:%
%:%1205=585%:%
%:%1206=585%:%
%:%1207=586%:%
%:%1208=586%:%
%:%1209=587%:%
%:%1210=588%:%
%:%1211=589%:%
%:%1212=589%:%
%:%1213=590%:%
%:%1214=591%:%
%:%1215=592%:%
%:%1216=592%:%
%:%1217=593%:%
%:%1218=593%:%
%:%1219=594%:%
%:%1220=594%:%
%:%1221=595%:%
%:%1222=595%:%
%:%1223=596%:%
%:%1229=596%:%
%:%1232=597%:%
%:%1233=601%:%
%:%1234=602%:%
%:%1235=602%:%
%:%1236=603%:%
%:%1237=604%:%
%:%1238=605%:%
%:%1239=606%:%
%:%1242=607%:%
%:%1246=607%:%
%:%1247=607%:%
%:%1248=608%:%
%:%1249=608%:%
%:%1250=609%:%
%:%1251=609%:%
%:%1252=610%:%
%:%1253=610%:%
%:%1254=611%:%
%:%1255=611%:%
%:%1256=612%:%
%:%1257=612%:%
%:%1258=613%:%
%:%1259=613%:%
%:%1260=614%:%
%:%1261=614%:%
%:%1262=615%:%
%:%1263=615%:%
%:%1264=616%:%
%:%1265=616%:%
%:%1266=617%:%
%:%1267=617%:%
%:%1268=618%:%
%:%1269=619%:%
%:%1270=619%:%
%:%1271=620%:%
%:%1272=621%:%
%:%1273=621%:%
%:%1274=622%:%
%:%1275=623%:%
%:%1276=623%:%
%:%1277=624%:%
%:%1278=624%:%
%:%1279=625%:%
%:%1280=625%:%
%:%1281=626%:%
%:%1285=630%:%
%:%1286=631%:%
%:%1287=631%:%
%:%1288=632%:%
%:%1289=632%:%
%:%1290=633%:%
%:%1291=633%:%
%:%1292=634%:%
%:%1296=638%:%
%:%1297=639%:%
%:%1298=639%:%
%:%1299=640%:%
%:%1300=640%:%
%:%1301=641%:%
%:%1303=643%:%
%:%1304=644%:%
%:%1305=644%:%
%:%1306=645%:%
%:%1307=645%:%
%:%1308=646%:%
%:%1309=647%:%
%:%1310=648%:%
%:%1311=649%:%
%:%1312=649%:%
%:%1313=650%:%
%:%1314=651%:%
%:%1315=652%:%
%:%1316=652%:%
%:%1317=653%:%
%:%1318=654%:%
%:%1319=654%:%
%:%1320=655%:%
%:%1321=655%:%
%:%1322=656%:%
%:%1323=656%:%
%:%1324=656%:%
%:%1325=657%:%
%:%1326=658%:%
%:%1327=658%:%
%:%1328=659%:%
%:%1329=659%:%
%:%1330=660%:%
%:%1331=660%:%
%:%1332=661%:%
%:%1333=661%:%
%:%1334=662%:%
%:%1335=662%:%
%:%1336=663%:%
%:%1337=663%:%
%:%1338=664%:%
%:%1339=665%:%
%:%1340=666%:%
%:%1341=666%:%
%:%1342=667%:%
%:%1343=668%:%
%:%1344=669%:%
%:%1345=669%:%
%:%1346=670%:%
%:%1347=670%:%
%:%1348=670%:%
%:%1349=671%:%
%:%1350=672%:%
%:%1351=673%:%
%:%1352=673%:%
%:%1353=674%:%
%:%1354=674%:%
%:%1355=674%:%
%:%1356=675%:%
%:%1357=675%:%
%:%1358=676%:%
%:%1359=676%:%
%:%1360=677%:%
%:%1361=677%:%
%:%1362=677%:%
%:%1363=678%:%
%:%1364=679%:%
%:%1365=679%:%
%:%1366=680%:%
%:%1367=680%:%
%:%1368=681%:%
%:%1369=681%:%
%:%1370=682%:%
%:%1371=682%:%
%:%1372=682%:%
%:%1373=683%:%
%:%1374=684%:%
%:%1375=684%:%
%:%1376=685%:%
%:%1377=685%:%
%:%1378=686%:%
%:%1379=686%:%
%:%1380=686%:%
%:%1381=687%:%
%:%1385=691%:%
%:%1386=692%:%
%:%1387=692%:%
%:%1388=693%:%
%:%1389=693%:%
%:%1390=694%:%
%:%1391=694%:%
%:%1392=695%:%
%:%1398=695%:%
%:%1401=696%:%
%:%1402=702%:%
%:%1403=703%:%
%:%1404=703%:%
%:%1405=704%:%
%:%1406=705%:%
%:%1407=706%:%
%:%1408=707%:%
%:%1409=708%:%
%:%1410=709%:%
%:%1413=710%:%
%:%1417=710%:%
%:%1418=710%:%
%:%1419=711%:%
%:%1420=711%:%
%:%1421=712%:%
%:%1422=712%:%
%:%1423=713%:%
%:%1424=713%:%
%:%1425=714%:%
%:%1426=714%:%
%:%1427=715%:%
%:%1428=715%:%
%:%1429=716%:%
%:%1430=716%:%
%:%1431=717%:%
%:%1432=717%:%
%:%1433=718%:%
%:%1434=718%:%
%:%1435=719%:%
%:%1436=719%:%
%:%1437=720%:%
%:%1438=720%:%
%:%1439=721%:%
%:%1440=721%:%
%:%1441=722%:%
%:%1442=722%:%
%:%1443=723%:%
%:%1444=724%:%
%:%1445=725%:%
%:%1446=726%:%
%:%1447=727%:%
%:%1448=727%:%
%:%1449=728%:%
%:%1450=729%:%
%:%1451=730%:%
%:%1452=731%:%
%:%1453=731%:%
%:%1454=732%:%
%:%1455=733%:%
%:%1456=733%:%
%:%1457=734%:%
%:%1458=734%:%
%:%1459=735%:%
%:%1460=735%:%
%:%1461=736%:%
%:%1462=736%:%
%:%1463=737%:%
%:%1464=738%:%
%:%1465=739%:%
%:%1466=739%:%
%:%1467=740%:%
%:%1473=740%:%
%:%1476=741%:%
%:%1477=746%:%
%:%1478=747%:%
%:%1479=747%:%
%:%1480=748%:%
%:%1481=749%:%
%:%1482=750%:%
%:%1483=751%:%
%:%1484=752%:%
%:%1485=753%:%
%:%1488=754%:%
%:%1492=754%:%
%:%1493=754%:%
%:%1494=755%:%
%:%1495=755%:%
%:%1496=756%:%
%:%1497=756%:%
%:%1498=757%:%
%:%1499=757%:%
%:%1500=758%:%
%:%1501=759%:%
%:%1502=759%:%
%:%1503=760%:%
%:%1504=760%:%
%:%1505=761%:%
%:%1506=761%:%
%:%1507=762%:%
%:%1508=762%:%
%:%1509=763%:%
%:%1510=763%:%
%:%1511=764%:%
%:%1512=764%:%
%:%1513=765%:%
%:%1514=765%:%
%:%1515=766%:%
%:%1516=766%:%
%:%1517=767%:%
%:%1518=767%:%
%:%1519=768%:%
%:%1520=769%:%
%:%1521=770%:%
%:%1522=771%:%
%:%1523=772%:%
%:%1524=772%:%
%:%1525=773%:%
%:%1526=774%:%
%:%1527=775%:%
%:%1528=775%:%
%:%1529=776%:%
%:%1530=776%:%
%:%1531=777%:%
%:%1532=777%:%
%:%1533=778%:%
%:%1534=778%:%
%:%1535=779%:%
%:%1536=779%:%
%:%1537=780%:%
%:%1538=780%:%
%:%1539=781%:%
%:%1540=781%:%
%:%1541=782%:%
%:%1542=782%:%
%:%1543=783%:%
%:%1544=783%:%
%:%1545=784%:%
%:%1546=784%:%
%:%1547=785%:%
%:%1548=785%:%
%:%1549=786%:%
%:%1550=786%:%
%:%1551=787%:%
%:%1552=787%:%
%:%1553=788%:%
%:%1554=788%:%
%:%1555=789%:%
%:%1556=789%:%
%:%1557=790%:%
%:%1558=790%:%
%:%1559=791%:%
%:%1560=791%:%
%:%1561=792%:%
%:%1562=792%:%
%:%1563=793%:%
%:%1564=793%:%
%:%1565=794%:%
%:%1566=794%:%
%:%1567=795%:%
%:%1568=796%:%
%:%1569=797%:%
%:%1570=798%:%
%:%1571=798%:%
%:%1572=799%:%
%:%1573=799%:%
%:%1574=799%:%
%:%1575=800%:%
%:%1576=801%:%
%:%1577=801%:%
%:%1578=802%:%
%:%1579=803%:%
%:%1580=803%:%
%:%1581=804%:%
%:%1582=804%:%
%:%1583=804%:%
%:%1584=805%:%
%:%1585=806%:%
%:%1586=806%:%
%:%1587=807%:%
%:%1588=807%:%
%:%1589=807%:%
%:%1590=808%:%
%:%1591=809%:%
%:%1592=809%:%
%:%1593=810%:%
%:%1594=811%:%
%:%1595=812%:%
%:%1596=813%:%
%:%1597=814%:%
%:%1598=814%:%
%:%1599=815%:%
%:%1600=815%:%
%:%1601=815%:%
%:%1602=816%:%
%:%1603=817%:%
%:%1604=817%:%
%:%1605=818%:%
%:%1606=819%:%
%:%1607=820%:%
%:%1608=820%:%
%:%1609=821%:%
%:%1610=821%:%
%:%1611=821%:%
%:%1612=822%:%
%:%1613=823%:%
%:%1614=823%:%
%:%1615=824%:%
%:%1616=825%:%
%:%1617=825%:%
%:%1618=826%:%
%:%1619=826%:%
%:%1620=826%:%
%:%1621=827%:%
%:%1622=828%:%
%:%1623=828%:%
%:%1624=829%:%
%:%1625=830%:%
%:%1626=831%:%
%:%1627=832%:%
%:%1628=833%:%
%:%1629=834%:%
%:%1630=835%:%
%:%1631=835%:%
%:%1632=836%:%
%:%1633=836%:%
%:%1634=836%:%
%:%1635=837%:%
%:%1636=838%:%
%:%1637=838%:%
%:%1638=839%:%
%:%1639=839%:%
%:%1640=839%:%
%:%1641=840%:%
%:%1642=841%:%
%:%1643=841%:%
%:%1644=842%:%
%:%1645=843%:%
%:%1646=844%:%
%:%1647=845%:%
%:%1648=845%:%
%:%1649=846%:%
%:%1650=846%:%
%:%1651=847%:%
%:%1652=847%:%
%:%1653=848%:%
%:%1654=849%:%
%:%1655=850%:%
%:%1656=851%:%
%:%1657=851%:%
%:%1658=852%:%
%:%1659=852%:%
%:%1660=853%:%
%:%1661=853%:%
%:%1662=854%:%
%:%1663=855%:%
%:%1664=855%:%
%:%1665=856%:%
%:%1666=856%:%
%:%1667=857%:%
%:%1668=857%:%
%:%1669=858%:%
%:%1670=858%:%
%:%1671=858%:%
%:%1672=859%:%
%:%1673=859%:%
%:%1674=860%:%
%:%1675=860%:%
%:%1676=861%:%
%:%1677=861%:%
%:%1678=861%:%
%:%1679=862%:%
%:%1680=863%:%
%:%1681=863%:%
%:%1682=864%:%
%:%1683=864%:%
%:%1684=865%:%
%:%1685=865%:%
%:%1686=866%:%
%:%1687=866%:%
%:%1688=867%:%
%:%1689=867%:%
%:%1690=868%:%
%:%1694=872%:%
%:%1695=873%:%
%:%1696=873%:%
%:%1697=874%:%
%:%1698=875%:%
%:%1699=876%:%
%:%1700=876%:%
%:%1701=877%:%
%:%1702=877%:%
%:%1703=878%:%
%:%1704=878%:%
%:%1705=879%:%
%:%1706=879%:%
%:%1707=880%:%
%:%1708=881%:%
%:%1709=882%:%
%:%1710=882%:%
%:%1711=883%:%
%:%1712=884%:%
%:%1713=885%:%
%:%1714=885%:%
%:%1715=886%:%
%:%1716=886%:%
%:%1717=887%:%
%:%1718=887%:%
%:%1719=888%:%
%:%1720=889%:%
%:%1721=890%:%
%:%1722=890%:%
%:%1723=891%:%
%:%1724=891%:%
%:%1725=891%:%
%:%1726=892%:%
%:%1727=892%:%
%:%1728=893%:%
%:%1729=894%:%
%:%1730=894%:%
%:%1731=895%:%
%:%1732=895%:%
%:%1733=896%:%
%:%1734=896%:%
%:%1735=897%:%
%:%1736=897%:%
%:%1737=898%:%
%:%1738=898%:%
%:%1739=899%:%
%:%1740=899%:%
%:%1741=900%:%
%:%1742=900%:%
%:%1743=901%:%
%:%1744=901%:%
%:%1745=902%:%
%:%1746=903%:%
%:%1747=904%:%
%:%1748=904%:%
%:%1749=905%:%
%:%1750=906%:%
%:%1751=907%:%
%:%1752=907%:%
%:%1753=908%:%
%:%1754=909%:%
%:%1755=910%:%
%:%1756=911%:%
%:%1757=911%:%
%:%1758=912%:%
%:%1759=912%:%
%:%1760=913%:%
%:%1761=914%:%
%:%1762=915%:%
%:%1763=915%:%
%:%1764=916%:%
%:%1765=916%:%
%:%1766=917%:%
%:%1767=917%:%
%:%1768=918%:%
%:%1769=919%:%
%:%1770=920%:%
%:%1771=921%:%
%:%1772=922%:%
%:%1773=922%:%
%:%1774=923%:%
%:%1775=923%:%
%:%1776=924%:%
%:%1777=925%:%
%:%1778=926%:%
%:%1779=926%:%
%:%1780=927%:%
%:%1781=928%:%
%:%1782=929%:%
%:%1783=929%:%
%:%1784=930%:%
%:%1785=930%:%
%:%1786=931%:%
%:%1787=932%:%
%:%1788=932%:%
%:%1789=933%:%
%:%1790=934%:%
%:%1791=934%:%
%:%1792=935%:%
%:%1793=935%:%
%:%1794=936%:%
%:%1795=937%:%
%:%1796=938%:%
%:%1797=938%:%
%:%1798=939%:%
%:%1799=940%:%
%:%1800=941%:%
%:%1801=942%:%
%:%1802=943%:%
%:%1803=943%:%
%:%1804=944%:%
%:%1805=944%:%
%:%1806=945%:%
%:%1807=945%:%
%:%1808=946%:%
%:%1809=946%:%
%:%1810=947%:%
%:%1811=947%:%
%:%1812=948%:%
%:%1813=949%:%
%:%1814=950%:%
%:%1815=950%:%
%:%1816=951%:%
%:%1817=952%:%
%:%1818=952%:%
%:%1819=953%:%
%:%1820=953%:%
%:%1821=954%:%
%:%1823=956%:%
%:%1824=957%:%
%:%1825=957%:%
%:%1826=958%:%
%:%1827=959%:%
%:%1828=959%:%
%:%1829=960%:%
%:%1830=960%:%
%:%1831=961%:%
%:%1834=964%:%
%:%1835=965%:%
%:%1836=965%:%
%:%1837=966%:%
%:%1838=966%:%
%:%1839=967%:%
%:%1840=967%:%
%:%1841=968%:%
%:%1842=968%:%
%:%1843=969%:%
%:%1844=970%:%
%:%1845=971%:%
%:%1846=972%:%
%:%1847=973%:%
%:%1848=973%:%
%:%1849=974%:%
%:%1850=974%:%
%:%1851=975%:%
%:%1852=975%:%
%:%1853=976%:%
%:%1859=976%:%
%:%1864=977%:%
%:%1869=978%:%