%
\begin{isabellebody}%
\setisabellecontext{Monotonicity{\isacharunderscore}{\kern0pt}Rules}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Monotonicity{\isacharunderscore}{\kern0pt}Rules\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Properties{\isacharslash}{\kern0pt}Monotonicity{\isacharunderscore}{\kern0pt}Properties{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Properties{\isacharslash}{\kern0pt}Disjoint{\isacharunderscore}{\kern0pt}Compatibility{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Social{\isacharunderscore}{\kern0pt}Choice{\isacharunderscore}{\kern0pt}Properties{\isacharslash}{\kern0pt}Weak{\isacharunderscore}{\kern0pt}Monotonicity{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Compositional{\isacharunderscore}{\kern0pt}Structures{\isacharslash}{\kern0pt}Parallel{\isacharunderscore}{\kern0pt}Composition{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Compositional{\isacharunderscore}{\kern0pt}Structures{\isacharslash}{\kern0pt}Sequential{\isacharunderscore}{\kern0pt}Composition{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Basic{\isacharunderscore}{\kern0pt}Modules{\isacharslash}{\kern0pt}Maximum{\isacharunderscore}{\kern0pt}Aggregator{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ Result{\isacharunderscore}{\kern0pt}Rules\isanewline
\ \ \ \ \ \ \ \ \ \ Monotonicity{\isacharunderscore}{\kern0pt}Facts\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ defer{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}monotonicity\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ lifted{\isacharunderscore}{\kern0pt}a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Profile{\isachardot}{\kern0pt}lifted\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m\ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}unchanged{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ q\ {\isasymnoteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}single{\isacharunderscore}{\kern0pt}defer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mon{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\ lifted{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ q\ {\isasymlongrightarrow}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isasymin}\ defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a\ {\isasymin}\ defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ a{\isacharunderscore}{\kern0pt}single{\isacharunderscore}{\kern0pt}defer\ card{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}disjoint\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ empty{\isacharunderscore}{\kern0pt}iff\ finite{\isachardot}{\kern0pt}emptyI\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\ order{\isacharunderscore}{\kern0pt}refl\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\ \isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\ empty{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ insertCI\ subset{\isacharunderscore}{\kern0pt}singletonD\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}mono\ defers{\isacharunderscore}{\kern0pt}def\ insert{\isacharunderscore}{\kern0pt}subset\ Diff{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}absorb\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq\ empty{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\ card{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}singleton\ finite{\isachardot}{\kern0pt}emptyI\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}disjoint\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ finite{\isacharunderscore}{\kern0pt}Diff\ insertCI\ insert{\isacharunderscore}{\kern0pt}Diff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\ \isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ eq{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}different{\isacharunderscore}{\kern0pt}alternatives{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}defer\ m\ A\ q\ {\isasymnoteq}\ defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}elect\ m\ A\ q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ elect{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}equal{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isacharequal}{\kern0pt}\ elect\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}different{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}alternatives{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ q\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ lifted\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}a\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}profile{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ results{\isacharunderscore}{\kern0pt}equal{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ same{\isacharunderscore}{\kern0pt}alternatives{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ results{\isacharunderscore}{\kern0pt}equal{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ elect{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}equal\ same{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ eq{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ same{\isacharunderscore}{\kern0pt}profile\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ still{\isacharunderscore}{\kern0pt}lifted{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}lifted\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}deferred{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ equals{\isadigit{0}}D\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ defer{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}deferred{\isacharunderscore}{\kern0pt}p\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ insert{\isacharunderscore}{\kern0pt}subset\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}deferred{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ still{\isacharunderscore}{\kern0pt}lifted\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}n\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ same{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}p\ same{\isacharunderscore}{\kern0pt}alternatives\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}deferred{\isacharunderscore}{\kern0pt}q\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ same{\isacharunderscore}{\kern0pt}alternatives\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}q\ def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ eq{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}p\ finite{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ compatible{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ m\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ defer{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ lifted{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Profile{\isachardot}{\kern0pt}lifted\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}profs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ compatible\ \isacommand{obtain}\isamarkupfalse%
\ A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\ A{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ x\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ x\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ x\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ x\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}x\ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ n\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}profs\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{4}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ n\ S\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{4}}\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}n\ lifted{\isacharunderscore}{\kern0pt}x\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ monotone{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{3}}\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ m\ S\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{2}}\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ lifted{\isacharunderscore}{\kern0pt}x\ a{\isadigit{0}}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ f{\isacharunderscore}{\kern0pt}profs\ IntI\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\ empty{\isacharunderscore}{\kern0pt}iff\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{1}}\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}{\isadigit{0}}\ {\isadigit{0}}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymnotin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ DiffI\ lifted{\isacharunderscore}{\kern0pt}x\ compatible\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ n\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}x\ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ m\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ DiffD{\isadigit{1}}\ DiffD{\isadigit{2}}\ compatible\ dcompat{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}mod\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ not{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}sound\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ maximum{\isacharunderscore}{\kern0pt}parallel{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ n\ S\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{4}}\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ lifted{\isacharunderscore}{\kern0pt}x\ a{\isadigit{1}}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ n\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{3}}\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ m\ S\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{2}}\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}profs\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}x\ defer{\isacharunderscore}{\kern0pt}n\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ monotone{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}profs\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ m\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isadigit{1}}\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}profs\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ q\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}contains{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}\ {\isadigit{1}}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}profs\isanewline
\ \ \ \ \ \ \ \ \ \ eq{\isacharunderscore}{\kern0pt}alts{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}profs{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}results\ max{\isacharunderscore}{\kern0pt}par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}help{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Aq\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Aq\ q{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\ \isacommand{have}\isamarkupfalse%
\ modules{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymlongrightarrow}\ defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ profile{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lifted\ A\ p\ q\ a\ {\isasymlongrightarrow}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\ m\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \ \ \ \ \ \ modules\ profile{\isacharunderscore}{\kern0pt}p\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ new{\isacharunderscore}{\kern0pt}A{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Aq{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Aq\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}eq\ mono{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ modules\ new{\isacharunderscore}{\kern0pt}A{\isacharunderscore}{\kern0pt}eq\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ modules\ profile{\isacharunderscore}{\kern0pt}p\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}subset\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\ \isacommand{have}\isamarkupfalse%
\ eql{\isacharunderscore}{\kern0pt}lengths{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}length\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lifted{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymnot}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymnot}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{2}}\ lifted{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\ modules\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{0}}\ {\isasymle}\ i\ {\isasymand}\ i\ {\isacharless}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isasymor}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}size\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}lifted\ modules\ mono{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{0}}\ {\isasymle}\ i\ {\isasymand}\ i\ {\isacharless}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}Ap\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}lifted\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}size\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile{\isachardot}{\kern0pt}simps\ nth{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{0}}\ eql{\isacharunderscore}{\kern0pt}lengths\ mono{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ leI\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}zero\ nth{\isacharunderscore}{\kern0pt}equalityI\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ mono{\isacharunderscore}{\kern0pt}m\ mono{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}help\isanewline
\ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}helper{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ acc\ {\isasymand}\ n\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n\ arbitrary{\isacharcolon}{\kern0pt}\ acc\ rule{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}less\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ acc\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}help\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}acc{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ acc\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}acc{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ acc\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}unchanged{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}comp\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}acc\ monotone{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ q\ {\isacharequal}{\kern0pt}\ acc\ A\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}eq\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ less{\isacharunderscore}{\kern0pt}irrefl\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}prof\ psubset{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}helper\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}unchanged\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ acc\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}order\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ psubset{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ {\isasymand}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}changed{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}prof\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}bounded\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}smaller{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ order{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}strict\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}acc{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}comp\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}changed{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}satisfied{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ t\ {\isacharparenleft}{\kern0pt}acc\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}satisfied{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymnot}\ t\ {\isacharparenleft}{\kern0pt}acc\ A\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ monotone{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}changed\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}comp\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}acc\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ {\isasymand}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ q{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ f\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}A\ rs\ rsa\ a{\isachardot}{\kern0pt}\ f\ A\ rs\ {\isasymnoteq}\ f\ A\ rsa\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ Profile{\isachardot}{\kern0pt}lifted\ A\ rs\ rsa\ {\isacharparenleft}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ a\ {\isasymin}\ defer\ f\ A\ rs{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isasymnot}\ electoral{\isacharunderscore}{\kern0pt}module\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymforall}A\ rs\ rsa\ a{\isachardot}{\kern0pt}\ f\ A\ rs\ {\isacharequal}{\kern0pt}\ f\ A\ rsa\ {\isasymor}\ {\isasymnot}\ Profile{\isachardot}{\kern0pt}lifted\ A\ rs\ rsa\ a\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ a\ {\isasymnotin}\ defer\ f\ A\ rs{\isacharparenright}{\kern0pt}\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ f\ {\isasymor}\ {\isasymnot}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}changed\ monotone{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ {\isasymand}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ q\ {\isasymsubset}\ defer\ acc\ A\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}acc\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ monotone{\isacharunderscore}{\kern0pt}m\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ psubsetI\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ subsetCE\ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}satisfied{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}p\ \isacommand{have}\isamarkupfalse%
\ rec{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ {\isasymand}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}acc{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t\ A\ q\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ m\ t\ A\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ monotone{\isacharunderscore}{\kern0pt}m\ subsetCE\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}prof\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ card{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}changed{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ gr{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}not{\isadigit{0}}\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}satisfied{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rec{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t\ A\ p\ {\isacharequal}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ m\ t\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}changed\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ monotone{\isacharunderscore}{\kern0pt}m\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}prof\ psubsetI\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}satisfied{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}p\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}smaller{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}p\ less{\isachardot}{\kern0pt}hyps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}no{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}incr\ monotone{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv\ f{\isacharunderscore}{\kern0pt}prof\ rec{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\ subsetCE\ subset{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}satisfied{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymnot}t\ {\isacharparenleft}{\kern0pt}acc\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}acc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ acc{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ profile{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}lifted\ A\ p\ q\ a\ {\isasymand}\ a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}helper\isanewline
\ \ \ \ \ \ \ \ monotone{\isacharunderscore}{\kern0pt}m\ monotone{\isacharunderscore}{\kern0pt}acc\ profile\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}acc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ acc{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}A\ p\ q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ lifted\ A\ p\ q\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv\ monotone{\isacharunderscore}{\kern0pt}acc\ monotone{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}lifted\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ Profile{\isachardot}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ monotone{\isacharunderscore}{\kern0pt}acc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ acc{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}f{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ f\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}A\ rs\ rsa\ a{\isachardot}{\kern0pt}\ f\ A\ rs\ {\isasymnoteq}\ f\ A\ rsa\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ Profile{\isachardot}{\kern0pt}lifted\ A\ rs\ rsa\ {\isacharparenleft}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ a\ {\isasymin}\ defer\ f\ A\ rs{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymnot}\ electoral{\isacharunderscore}{\kern0pt}module\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymforall}A\ rs\ rsa\ a{\isachardot}{\kern0pt}\ f\ A\ rs\ {\isacharequal}{\kern0pt}\ f\ A\ rsa\ {\isasymor}\ {\isasymnot}\ Profile{\isachardot}{\kern0pt}lifted\ A\ rs\ rsa\ a\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ a\ {\isasymnotin}\ defer\ f\ A\ rs{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}module\ f\ {\isasymor}\ {\isasymnot}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}partit\isanewline
\ \ \ \ \ \ \ \ \ \ monotone{\isacharunderscore}{\kern0pt}acc\ monotone{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}\ p\ q\ a{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ lifted\ A\ p\ q\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}module{\isachardot}{\kern0pt}simps\ monotone{\isacharunderscore}{\kern0pt}m\ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv\ monotone{\isacharunderscore}{\kern0pt}m\ loop{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}inv{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ rev{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invariant{\isacharunderscore}{\kern0pt}monotonicity\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}A\ p\ q\ w{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isasymin}\ defer\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymand}\ lifted\ A\ p\ q\ w{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ A\ q\ {\isacharequal}{\kern0pt}\ defer\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymor}\ defer\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ A\ q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ rev{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ rev{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing\ invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ {\isasymand}\ non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}A\ p\ q\ w{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isasymin}\ defer\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymand}\ lifted\ A\ p\ q\ w{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ A\ q\ {\isacharequal}{\kern0pt}\ defer\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymor}\ defer\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}\ A\ q\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}invariant{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ dl{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}monotonicity\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ defer{\isacharunderscore}{\kern0pt}monotonicity{\isacharunderscore}{\kern0pt}def\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electing\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}monotonicity\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ monotonicity{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ elect{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ lifted{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Profile{\isachardot}{\kern0pt}lifted\ A\ p\ q\ w{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}w\ lifted{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}then{\isacharunderscore}{\kern0pt}elect\ defer{\isacharunderscore}{\kern0pt}lift{\isacharunderscore}{\kern0pt}invariance{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ elect{\isacharunderscore}{\kern0pt}w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}p\ lifted{\isacharunderscore}{\kern0pt}w\ def{\isacharunderscore}{\kern0pt}monotone{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m\ electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/verifiedVotingRuleConstruction/theories/Compositional_Framework/Composition_Rules/Monotonicity_Rules.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%14=4%:%
%:%15=5%:%
%:%16=6%:%
%:%17=7%:%
%:%18=8%:%
%:%19=9%:%
%:%20=10%:%
%:%21=11%:%
%:%26=11%:%
%:%29=12%:%
%:%30=17%:%
%:%31=18%:%
%:%32=18%:%
%:%33=19%:%
%:%34=20%:%
%:%35=21%:%
%:%36=22%:%
%:%37=23%:%
%:%38=24%:%
%:%41=25%:%
%:%45=25%:%
%:%46=25%:%
%:%47=26%:%
%:%48=26%:%
%:%49=27%:%
%:%50=27%:%
%:%51=28%:%
%:%52=28%:%
%:%53=29%:%
%:%54=30%:%
%:%55=30%:%
%:%56=31%:%
%:%57=31%:%
%:%58=32%:%
%:%59=32%:%
%:%60=33%:%
%:%61=33%:%
%:%62=34%:%
%:%63=34%:%
%:%64=35%:%
%:%65=35%:%
%:%66=36%:%
%:%67=36%:%
%:%68=37%:%
%:%69=37%:%
%:%70=38%:%
%:%71=38%:%
%:%72=39%:%
%:%73=40%:%
%:%74=41%:%
%:%75=42%:%
%:%76=43%:%
%:%77=43%:%
%:%78=44%:%
%:%79=45%:%
%:%80=46%:%
%:%81=46%:%
%:%82=47%:%
%:%83=47%:%
%:%84=48%:%
%:%85=48%:%
%:%86=49%:%
%:%87=49%:%
%:%88=50%:%
%:%89=50%:%
%:%90=51%:%
%:%91=51%:%
%:%92=52%:%
%:%93=52%:%
%:%94=53%:%
%:%95=53%:%
%:%96=54%:%
%:%97=54%:%
%:%98=55%:%
%:%99=55%:%
%:%100=56%:%
%:%101=56%:%
%:%102=57%:%
%:%103=57%:%
%:%104=58%:%
%:%105=58%:%
%:%106=59%:%
%:%107=59%:%
%:%108=60%:%
%:%109=60%:%
%:%110=61%:%
%:%111=61%:%
%:%112=62%:%
%:%113=62%:%
%:%114=63%:%
%:%115=63%:%
%:%116=64%:%
%:%117=64%:%
%:%118=65%:%
%:%119=65%:%
%:%120=66%:%
%:%121=67%:%
%:%122=68%:%
%:%123=69%:%
%:%124=69%:%
%:%125=70%:%
%:%126=70%:%
%:%127=70%:%
%:%128=71%:%
%:%129=72%:%
%:%130=72%:%
%:%131=73%:%
%:%132=74%:%
%:%133=74%:%
%:%134=75%:%
%:%135=75%:%
%:%136=75%:%
%:%137=76%:%
%:%138=77%:%
%:%139=77%:%
%:%140=78%:%
%:%141=78%:%
%:%142=78%:%
%:%143=79%:%
%:%144=80%:%
%:%145=80%:%
%:%146=81%:%
%:%147=82%:%
%:%148=83%:%
%:%149=84%:%
%:%150=85%:%
%:%151=85%:%
%:%152=86%:%
%:%153=86%:%
%:%154=86%:%
%:%155=87%:%
%:%156=88%:%
%:%157=88%:%
%:%158=89%:%
%:%159=90%:%
%:%160=91%:%
%:%161=91%:%
%:%162=92%:%
%:%163=92%:%
%:%164=92%:%
%:%165=93%:%
%:%166=94%:%
%:%167=94%:%
%:%168=95%:%
%:%169=96%:%
%:%170=96%:%
%:%171=97%:%
%:%172=97%:%
%:%173=97%:%
%:%174=98%:%
%:%175=99%:%
%:%176=99%:%
%:%177=100%:%
%:%178=101%:%
%:%179=102%:%
%:%180=103%:%
%:%181=104%:%
%:%182=105%:%
%:%183=106%:%
%:%184=106%:%
%:%185=107%:%
%:%186=107%:%
%:%187=107%:%
%:%188=108%:%
%:%189=109%:%
%:%190=109%:%
%:%191=110%:%
%:%192=110%:%
%:%193=110%:%
%:%194=111%:%
%:%195=112%:%
%:%196=112%:%
%:%197=113%:%
%:%198=114%:%
%:%199=115%:%
%:%200=116%:%
%:%201=116%:%
%:%202=117%:%
%:%203=117%:%
%:%204=118%:%
%:%205=118%:%
%:%206=119%:%
%:%207=120%:%
%:%208=121%:%
%:%209=122%:%
%:%210=122%:%
%:%211=123%:%
%:%212=123%:%
%:%213=124%:%
%:%214=124%:%
%:%215=125%:%
%:%216=126%:%
%:%217=126%:%
%:%218=127%:%
%:%219=127%:%
%:%220=128%:%
%:%221=128%:%
%:%222=129%:%
%:%223=129%:%
%:%224=129%:%
%:%225=130%:%
%:%226=130%:%
%:%227=131%:%
%:%228=131%:%
%:%229=132%:%
%:%230=132%:%
%:%231=132%:%
%:%232=133%:%
%:%233=134%:%
%:%234=134%:%
%:%235=135%:%
%:%236=135%:%
%:%237=136%:%
%:%238=136%:%
%:%239=137%:%
%:%240=137%:%
%:%241=138%:%
%:%242=138%:%
%:%243=139%:%
%:%247=143%:%
%:%248=144%:%
%:%249=144%:%
%:%250=145%:%
%:%251=146%:%
%:%252=147%:%
%:%253=147%:%
%:%254=148%:%
%:%255=148%:%
%:%256=149%:%
%:%257=149%:%
%:%258=150%:%
%:%259=150%:%
%:%260=151%:%
%:%261=152%:%
%:%262=153%:%
%:%263=153%:%
%:%264=154%:%
%:%265=155%:%
%:%266=156%:%
%:%267=156%:%
%:%268=157%:%
%:%269=157%:%
%:%270=158%:%
%:%271=158%:%
%:%272=159%:%
%:%273=160%:%
%:%274=161%:%
%:%275=161%:%
%:%276=162%:%
%:%277=162%:%
%:%278=162%:%
%:%279=163%:%
%:%280=163%:%
%:%281=164%:%
%:%282=165%:%
%:%283=165%:%
%:%284=166%:%
%:%285=166%:%
%:%286=167%:%
%:%287=167%:%
%:%288=168%:%
%:%289=168%:%
%:%290=169%:%
%:%291=169%:%
%:%292=170%:%
%:%293=170%:%
%:%294=171%:%
%:%295=171%:%
%:%296=172%:%
%:%297=172%:%
%:%298=173%:%
%:%299=174%:%
%:%300=175%:%
%:%301=175%:%
%:%302=176%:%
%:%303=177%:%
%:%304=178%:%
%:%305=178%:%
%:%306=179%:%
%:%307=180%:%
%:%308=181%:%
%:%309=182%:%
%:%310=182%:%
%:%311=183%:%
%:%312=183%:%
%:%313=184%:%
%:%314=185%:%
%:%315=186%:%
%:%316=186%:%
%:%317=187%:%
%:%318=187%:%
%:%319=188%:%
%:%320=188%:%
%:%321=189%:%
%:%322=190%:%
%:%323=191%:%
%:%324=192%:%
%:%325=193%:%
%:%326=193%:%
%:%327=194%:%
%:%328=194%:%
%:%329=195%:%
%:%330=196%:%
%:%331=197%:%
%:%332=197%:%
%:%333=198%:%
%:%334=199%:%
%:%335=200%:%
%:%336=200%:%
%:%337=201%:%
%:%338=201%:%
%:%339=202%:%
%:%340=203%:%
%:%341=203%:%
%:%342=204%:%
%:%343=205%:%
%:%344=205%:%
%:%345=206%:%
%:%346=206%:%
%:%347=207%:%
%:%348=208%:%
%:%349=209%:%
%:%350=209%:%
%:%351=210%:%
%:%352=211%:%
%:%353=212%:%
%:%354=213%:%
%:%355=214%:%
%:%356=214%:%
%:%357=215%:%
%:%358=215%:%
%:%359=216%:%
%:%360=216%:%
%:%361=217%:%
%:%362=217%:%
%:%363=218%:%
%:%364=218%:%
%:%365=219%:%
%:%366=220%:%
%:%367=221%:%
%:%368=221%:%
%:%369=222%:%
%:%370=223%:%
%:%371=223%:%
%:%372=224%:%
%:%373=224%:%
%:%374=225%:%
%:%376=227%:%
%:%377=228%:%
%:%378=228%:%
%:%379=229%:%
%:%380=230%:%
%:%381=230%:%
%:%382=231%:%
%:%383=231%:%
%:%384=232%:%
%:%387=235%:%
%:%388=236%:%
%:%389=236%:%
%:%390=237%:%
%:%391=237%:%
%:%392=238%:%
%:%393=238%:%
%:%394=239%:%
%:%395=239%:%
%:%396=240%:%
%:%397=241%:%
%:%398=242%:%
%:%399=243%:%
%:%400=244%:%
%:%401=244%:%
%:%402=245%:%
%:%403=245%:%
%:%404=246%:%
%:%405=246%:%
%:%406=247%:%
%:%412=247%:%
%:%415=248%:%
%:%416=252%:%
%:%417=253%:%
%:%418=253%:%
%:%419=254%:%
%:%420=255%:%
%:%421=256%:%
%:%422=257%:%
%:%423=258%:%
%:%426=259%:%
%:%430=259%:%
%:%431=259%:%
%:%432=260%:%
%:%433=260%:%
%:%434=261%:%
%:%435=261%:%
%:%436=262%:%
%:%437=262%:%
%:%438=263%:%
%:%439=263%:%
%:%440=264%:%
%:%441=264%:%
%:%442=265%:%
%:%443=265%:%
%:%444=266%:%
%:%445=266%:%
%:%446=267%:%
%:%447=267%:%
%:%448=268%:%
%:%449=268%:%
%:%450=269%:%
%:%451=269%:%
%:%452=270%:%
%:%453=270%:%
%:%454=271%:%
%:%455=271%:%
%:%456=272%:%
%:%457=273%:%
%:%458=274%:%
%:%459=275%:%
%:%460=276%:%
%:%461=276%:%
%:%462=277%:%
%:%463=278%:%
%:%464=279%:%
%:%465=279%:%
%:%466=280%:%
%:%467=280%:%
%:%468=281%:%
%:%469=281%:%
%:%470=281%:%
%:%471=282%:%
%:%474=285%:%
%:%475=286%:%
%:%476=286%:%
%:%477=287%:%
%:%478=287%:%
%:%479=288%:%
%:%480=288%:%
%:%481=289%:%
%:%482=290%:%
%:%483=290%:%
%:%484=291%:%
%:%485=291%:%
%:%486=292%:%
%:%487=292%:%
%:%488=293%:%
%:%489=293%:%
%:%490=294%:%
%:%491=294%:%
%:%492=295%:%
%:%493=295%:%
%:%494=295%:%
%:%495=296%:%
%:%496=296%:%
%:%497=297%:%
%:%498=298%:%
%:%499=298%:%
%:%500=299%:%
%:%501=299%:%
%:%502=300%:%
%:%503=301%:%
%:%504=301%:%
%:%505=302%:%
%:%506=303%:%
%:%507=303%:%
%:%508=304%:%
%:%509=304%:%
%:%510=304%:%
%:%511=305%:%
%:%512=305%:%
%:%513=306%:%
%:%514=307%:%
%:%515=307%:%
%:%516=308%:%
%:%517=308%:%
%:%518=308%:%
%:%519=309%:%
%:%520=310%:%
%:%521=310%:%
%:%522=311%:%
%:%523=312%:%
%:%524=312%:%
%:%525=313%:%
%:%526=313%:%
%:%527=313%:%
%:%528=314%:%
%:%529=315%:%
%:%530=315%:%
%:%531=316%:%
%:%532=316%:%
%:%533=317%:%
%:%534=318%:%
%:%535=318%:%
%:%536=319%:%
%:%537=320%:%
%:%538=320%:%
%:%539=321%:%
%:%540=321%:%
%:%541=321%:%
%:%542=322%:%
%:%543=322%:%
%:%544=323%:%
%:%545=324%:%
%:%546=325%:%
%:%547=325%:%
%:%548=326%:%
%:%549=326%:%
%:%550=326%:%
%:%551=327%:%
%:%552=328%:%
%:%553=328%:%
%:%554=329%:%
%:%555=330%:%
%:%556=330%:%
%:%557=331%:%
%:%558=331%:%
%:%559=331%:%
%:%560=332%:%
%:%561=333%:%
%:%562=333%:%
%:%563=334%:%
%:%564=334%:%
%:%565=335%:%
%:%566=335%:%
%:%567=336%:%
%:%568=336%:%
%:%569=337%:%
%:%570=337%:%
%:%571=338%:%
%:%572=338%:%
%:%573=339%:%
%:%574=339%:%
%:%575=340%:%
%:%576=340%:%
%:%577=341%:%
%:%578=342%:%
%:%579=342%:%
%:%580=343%:%
%:%581=343%:%
%:%582=344%:%
%:%583=344%:%
%:%584=345%:%
%:%585=345%:%
%:%586=346%:%
%:%587=346%:%
%:%588=346%:%
%:%589=347%:%
%:%590=347%:%
%:%591=348%:%
%:%592=349%:%
%:%593=350%:%
%:%594=351%:%
%:%595=352%:%
%:%596=352%:%
%:%597=353%:%
%:%598=353%:%
%:%599=354%:%
%:%600=355%:%
%:%601=355%:%
%:%602=356%:%
%:%603=357%:%
%:%604=357%:%
%:%605=358%:%
%:%606=358%:%
%:%607=358%:%
%:%608=359%:%
%:%609=359%:%
%:%610=360%:%
%:%611=361%:%
%:%612=362%:%
%:%613=362%:%
%:%614=363%:%
%:%615=363%:%
%:%616=363%:%
%:%617=364%:%
%:%618=365%:%
%:%619=365%:%
%:%620=366%:%
%:%621=367%:%
%:%622=367%:%
%:%623=368%:%
%:%624=368%:%
%:%625=368%:%
%:%626=369%:%
%:%627=370%:%
%:%628=370%:%
%:%629=371%:%
%:%630=371%:%
%:%631=372%:%
%:%632=373%:%
%:%633=373%:%
%:%634=374%:%
%:%635=375%:%
%:%636=375%:%
%:%637=376%:%
%:%638=376%:%
%:%639=376%:%
%:%640=377%:%
%:%641=377%:%
%:%642=378%:%
%:%643=379%:%
%:%644=379%:%
%:%645=380%:%
%:%646=380%:%
%:%647=380%:%
%:%648=381%:%
%:%649=382%:%
%:%650=382%:%
%:%651=383%:%
%:%652=384%:%
%:%653=384%:%
%:%654=385%:%
%:%655=385%:%
%:%656=385%:%
%:%657=386%:%
%:%658=387%:%
%:%659=387%:%
%:%660=388%:%
%:%661=388%:%
%:%662=389%:%
%:%663=389%:%
%:%664=390%:%
%:%665=390%:%
%:%666=391%:%
%:%667=391%:%
%:%668=392%:%
%:%669=392%:%
%:%670=393%:%
%:%671=393%:%
%:%672=394%:%
%:%673=394%:%
%:%674=395%:%
%:%675=396%:%
%:%676=396%:%
%:%677=397%:%
%:%683=397%:%
%:%686=398%:%
%:%687=399%:%
%:%688=399%:%
%:%689=400%:%
%:%690=401%:%
%:%691=402%:%
%:%692=403%:%
%:%693=404%:%
%:%700=405%:%
%:%701=405%:%
%:%702=406%:%
%:%703=406%:%
%:%704=407%:%
%:%705=407%:%
%:%706=408%:%
%:%707=408%:%
%:%708=409%:%
%:%709=409%:%
%:%710=410%:%
%:%711=410%:%
%:%712=410%:%
%:%713=411%:%
%:%714=412%:%
%:%715=412%:%
%:%716=413%:%
%:%717=413%:%
%:%718=414%:%
%:%719=414%:%
%:%720=415%:%
%:%721=415%:%
%:%722=416%:%
%:%723=416%:%
%:%724=416%:%
%:%725=417%:%
%:%726=417%:%
%:%727=418%:%
%:%728=418%:%
%:%729=418%:%
%:%730=419%:%
%:%731=419%:%
%:%732=420%:%
%:%733=420%:%
%:%734=421%:%
%:%735=421%:%
%:%736=422%:%
%:%737=422%:%
%:%738=423%:%
%:%739=424%:%
%:%740=424%:%
%:%741=425%:%
%:%742=425%:%
%:%743=426%:%
%:%744=426%:%
%:%745=427%:%
%:%746=427%:%
%:%747=428%:%
%:%748=429%:%
%:%749=429%:%
%:%750=430%:%
%:%751=430%:%
%:%752=431%:%
%:%753=431%:%
%:%754=432%:%
%:%755=433%:%
%:%756=433%:%
%:%757=434%:%
%:%758=434%:%
%:%759=435%:%
%:%760=435%:%
%:%761=436%:%
%:%762=436%:%
%:%763=437%:%
%:%764=438%:%
%:%765=438%:%
%:%766=439%:%
%:%767=439%:%
%:%768=440%:%
%:%769=440%:%
%:%770=441%:%
%:%771=441%:%
%:%772=441%:%
%:%773=442%:%
%:%774=442%:%
%:%775=443%:%
%:%776=443%:%
%:%777=443%:%
%:%778=444%:%
%:%779=445%:%
%:%780=445%:%
%:%781=446%:%
%:%782=446%:%
%:%783=447%:%
%:%784=447%:%
%:%785=447%:%
%:%786=448%:%
%:%787=448%:%
%:%788=449%:%
%:%789=450%:%
%:%790=450%:%
%:%791=451%:%
%:%792=451%:%
%:%793=452%:%
%:%794=452%:%
%:%795=452%:%
%:%796=453%:%
%:%797=453%:%
%:%798=454%:%
%:%799=454%:%
%:%800=455%:%
%:%801=455%:%
%:%802=455%:%
%:%803=455%:%
%:%804=456%:%
%:%805=457%:%
%:%806=457%:%
%:%807=458%:%
%:%808=458%:%
%:%809=458%:%
%:%810=459%:%
%:%814=463%:%
%:%815=464%:%
%:%816=464%:%
%:%817=465%:%
%:%818=465%:%
%:%819=466%:%
%:%820=466%:%
%:%821=466%:%
%:%822=467%:%
%:%823=468%:%
%:%824=469%:%
%:%825=469%:%
%:%826=470%:%
%:%827=470%:%
%:%828=471%:%
%:%829=471%:%
%:%830=471%:%
%:%831=472%:%
%:%833=474%:%
%:%834=475%:%
%:%835=475%:%
%:%836=476%:%
%:%837=477%:%
%:%838=478%:%
%:%839=478%:%
%:%840=479%:%
%:%841=479%:%
%:%842=480%:%
%:%843=480%:%
%:%844=481%:%
%:%845=481%:%
%:%846=482%:%
%:%847=482%:%
%:%848=483%:%
%:%849=483%:%
%:%850=484%:%
%:%851=484%:%
%:%852=485%:%
%:%853=485%:%
%:%854=486%:%
%:%855=486%:%
%:%856=487%:%
%:%857=487%:%
%:%858=488%:%
%:%864=488%:%
%:%867=489%:%
%:%868=490%:%
%:%869=491%:%
%:%870=491%:%
%:%871=492%:%
%:%872=493%:%
%:%873=494%:%
%:%874=495%:%
%:%877=496%:%
%:%881=496%:%
%:%882=496%:%
%:%883=497%:%
%:%884=498%:%
%:%885=498%:%
%:%890=498%:%
%:%893=499%:%
%:%894=500%:%
%:%895=500%:%
%:%896=501%:%
%:%897=502%:%
%:%898=503%:%
%:%899=504%:%
%:%900=505%:%
%:%905=510%:%
%:%912=511%:%
%:%913=511%:%
%:%914=512%:%
%:%915=512%:%
%:%916=513%:%
%:%917=513%:%
%:%918=514%:%
%:%920=516%:%
%:%921=517%:%
%:%922=517%:%
%:%923=518%:%
%:%924=518%:%
%:%925=519%:%
%:%926=519%:%
%:%927=520%:%
%:%929=522%:%
%:%930=523%:%
%:%931=523%:%
%:%932=524%:%
%:%933=524%:%
%:%934=525%:%
%:%936=527%:%
%:%937=528%:%
%:%938=528%:%
%:%939=529%:%
%:%940=529%:%
%:%941=530%:%
%:%942=530%:%
%:%943=531%:%
%:%944=531%:%
%:%945=532%:%
%:%946=532%:%
%:%947=533%:%
%:%948=533%:%
%:%949=534%:%
%:%950=534%:%
%:%951=535%:%
%:%953=537%:%
%:%954=538%:%
%:%955=538%:%
%:%956=539%:%
%:%957=540%:%
%:%958=541%:%
%:%959=542%:%
%:%960=543%:%
%:%961=543%:%
%:%962=544%:%
%:%963=544%:%
%:%964=544%:%
%:%965=544%:%
%:%966=545%:%
%:%967=546%:%
%:%968=546%:%
%:%969=547%:%
%:%970=548%:%
%:%971=548%:%
%:%972=549%:%
%:%973=549%:%
%:%974=549%:%
%:%975=550%:%
%:%979=554%:%
%:%980=555%:%
%:%981=555%:%
%:%982=556%:%
%:%983=556%:%
%:%984=557%:%
%:%985=557%:%
%:%986=558%:%
%:%987=558%:%
%:%988=559%:%
%:%989=559%:%
%:%990=560%:%
%:%991=560%:%
%:%992=561%:%
%:%993=561%:%
%:%994=562%:%
%:%995=563%:%
%:%996=563%:%
%:%997=563%:%
%:%998=564%:%
%:%999=565%:%
%:%1000=566%:%
%:%1001=566%:%
%:%1002=567%:%
%:%1003=568%:%
%:%1004=568%:%
%:%1005=569%:%
%:%1006=569%:%
%:%1007=569%:%
%:%1008=570%:%
%:%1010=572%:%
%:%1011=573%:%
%:%1012=573%:%
%:%1013=574%:%
%:%1014=574%:%
%:%1015=575%:%
%:%1016=575%:%
%:%1017=576%:%
%:%1018=576%:%
%:%1019=577%:%
%:%1020=577%:%
%:%1021=578%:%
%:%1022=578%:%
%:%1023=579%:%
%:%1025=581%:%
%:%1026=582%:%
%:%1027=582%:%
%:%1028=583%:%
%:%1029=583%:%
%:%1030=584%:%
%:%1031=584%:%
%:%1032=585%:%
%:%1033=585%:%
%:%1034=586%:%
%:%1036=588%:%
%:%1037=589%:%
%:%1038=589%:%
%:%1039=590%:%
%:%1040=590%:%
%:%1041=591%:%
%:%1046=596%:%
%:%1047=597%:%
%:%1048=597%:%
%:%1049=598%:%
%:%1050=598%:%
%:%1051=599%:%
%:%1052=599%:%
%:%1053=600%:%
%:%1054=600%:%
%:%1055=601%:%
%:%1056=601%:%
%:%1057=602%:%
%:%1058=602%:%
%:%1059=603%:%
%:%1060=603%:%
%:%1061=604%:%
%:%1063=606%:%
%:%1064=607%:%
%:%1065=607%:%
%:%1066=608%:%
%:%1067=609%:%
%:%1068=610%:%
%:%1069=611%:%
%:%1070=611%:%
%:%1071=612%:%
%:%1072=612%:%
%:%1073=612%:%
%:%1074=613%:%
%:%1077=616%:%
%:%1078=617%:%
%:%1079=617%:%
%:%1080=618%:%
%:%1081=619%:%
%:%1082=620%:%
%:%1083=621%:%
%:%1084=621%:%
%:%1085=622%:%
%:%1086=622%:%
%:%1087=623%:%
%:%1088=624%:%
%:%1089=625%:%
%:%1090=625%:%
%:%1091=626%:%
%:%1092=627%:%
%:%1093=628%:%
%:%1094=629%:%
%:%1095=629%:%
%:%1096=630%:%
%:%1097=630%:%
%:%1098=631%:%
%:%1099=631%:%
%:%1100=632%:%
%:%1101=633%:%
%:%1102=634%:%
%:%1103=635%:%
%:%1104=635%:%
%:%1105=636%:%
%:%1106=636%:%
%:%1107=637%:%
%:%1108=637%:%
%:%1109=638%:%
%:%1110=638%:%
%:%1111=639%:%
%:%1112=639%:%
%:%1113=640%:%
%:%1114=640%:%
%:%1115=641%:%
%:%1116=641%:%
%:%1117=642%:%
%:%1118=642%:%
%:%1119=643%:%
%:%1125=643%:%
%:%1128=644%:%
%:%1129=645%:%
%:%1130=645%:%
%:%1131=646%:%
%:%1132=647%:%
%:%1133=648%:%
%:%1134=649%:%
%:%1135=650%:%
%:%1136=651%:%
%:%1137=652%:%
%:%1140=653%:%
%:%1144=653%:%
%:%1145=653%:%
%:%1146=654%:%
%:%1147=655%:%
%:%1148=655%:%
%:%1153=655%:%
%:%1156=656%:%
%:%1157=657%:%
%:%1158=657%:%
%:%1159=658%:%
%:%1160=659%:%
%:%1161=660%:%
%:%1162=661%:%
%:%1163=662%:%
%:%1166=665%:%
%:%1169=666%:%
%:%1173=666%:%
%:%1174=666%:%
%:%1175=667%:%
%:%1176=667%:%
%:%1181=667%:%
%:%1184=668%:%
%:%1185=669%:%
%:%1186=669%:%
%:%1187=670%:%
%:%1188=671%:%
%:%1191=672%:%
%:%1195=672%:%
%:%1196=672%:%
%:%1197=673%:%
%:%1198=673%:%
%:%1203=673%:%
%:%1206=674%:%
%:%1207=675%:%
%:%1208=675%:%
%:%1209=676%:%
%:%1210=677%:%
%:%1211=678%:%
%:%1212=679%:%
%:%1219=680%:%
%:%1220=680%:%
%:%1221=681%:%
%:%1222=681%:%
%:%1223=682%:%
%:%1230=689%:%
%:%1231=690%:%
%:%1232=690%:%
%:%1233=691%:%
%:%1234=691%:%
%:%1235=692%:%
%:%1236=692%:%
%:%1237=693%:%
%:%1238=693%:%
%:%1239=694%:%
%:%1240=695%:%
%:%1241=696%:%
%:%1242=696%:%
%:%1243=697%:%
%:%1249=697%:%
%:%1252=698%:%
%:%1253=699%:%
%:%1254=700%:%
%:%1255=700%:%
%:%1256=701%:%
%:%1257=702%:%
%:%1264=703%:%
%:%1265=703%:%
%:%1266=704%:%
%:%1267=704%:%
%:%1268=705%:%
%:%1269=706%:%
%:%1270=706%:%
%:%1271=707%:%
%:%1272=708%:%
%:%1273=709%:%
%:%1274=709%:%
%:%1275=710%:%
%:%1276=711%:%
%:%1277=712%:%
%:%1278=712%:%
%:%1279=713%:%
%:%1280=713%:%
%:%1281=714%:%
%:%1282=714%:%
%:%1283=715%:%
%:%1284=716%:%
%:%1285=717%:%
%:%1286=718%:%
%:%1287=718%:%
%:%1288=719%:%
%:%1294=719%:%
%:%1297=720%:%
%:%1298=724%:%
%:%1299=725%:%
%:%1300=725%:%
%:%1301=726%:%
%:%1302=727%:%
%:%1309=728%:%
%:%1310=728%:%
%:%1311=729%:%
%:%1312=729%:%
%:%1313=730%:%
%:%1314=731%:%
%:%1315=731%:%
%:%1316=732%:%
%:%1317=732%:%
%:%1318=733%:%
%:%1319=733%:%
%:%1320=733%:%
%:%1321=734%:%
%:%1322=734%:%
%:%1323=735%:%
%:%1324=735%:%
%:%1325=736%:%
%:%1326=736%:%
%:%1327=736%:%
%:%1328=737%:%
%:%1329=737%:%
%:%1330=738%:%
%:%1331=738%:%
%:%1332=739%:%
%:%1333=739%:%
%:%1334=739%:%
%:%1336=741%:%
%:%1337=742%:%
%:%1338=742%:%
%:%1339=743%:%
%:%1340=743%:%
%:%1341=744%:%
%:%1342=744%:%
%:%1343=745%:%
%:%1344=745%:%
%:%1345=746%:%
%:%1351=746%:%
%:%1354=747%:%
%:%1355=751%:%
%:%1356=752%:%
%:%1357=752%:%
%:%1358=753%:%
%:%1359=754%:%
%:%1362=755%:%
%:%1366=755%:%
%:%1367=755%:%
%:%1368=756%:%
%:%1369=756%:%
%:%1374=756%:%
%:%1377=757%:%
%:%1378=763%:%
%:%1379=764%:%
%:%1380=764%:%
%:%1381=765%:%
%:%1382=766%:%
%:%1383=767%:%
%:%1384=768%:%
%:%1385=769%:%
%:%1386=770%:%
%:%1389=771%:%
%:%1393=771%:%
%:%1394=771%:%
%:%1395=772%:%
%:%1396=772%:%
%:%1397=773%:%
%:%1398=773%:%
%:%1399=774%:%
%:%1400=774%:%
%:%1401=775%:%
%:%1402=775%:%
%:%1403=776%:%
%:%1404=776%:%
%:%1405=777%:%
%:%1406=777%:%
%:%1407=778%:%
%:%1408=778%:%
%:%1409=779%:%
%:%1410=779%:%
%:%1411=780%:%
%:%1412=780%:%
%:%1413=781%:%
%:%1414=781%:%
%:%1415=782%:%
%:%1416=782%:%
%:%1417=783%:%
%:%1418=783%:%
%:%1419=784%:%
%:%1420=785%:%
%:%1421=786%:%
%:%1422=787%:%
%:%1423=788%:%
%:%1424=788%:%
%:%1425=789%:%
%:%1426=790%:%
%:%1427=791%:%
%:%1428=792%:%
%:%1429=792%:%
%:%1430=793%:%
%:%1431=794%:%
%:%1432=794%:%
%:%1433=795%:%
%:%1434=795%:%
%:%1435=796%:%
%:%1436=796%:%
%:%1437=797%:%
%:%1438=797%:%
%:%1439=798%:%
%:%1440=799%:%
%:%1441=800%:%
%:%1442=800%:%
%:%1443=801%:%
%:%1449=801%:%
%:%1454=802%:%
%:%1459=803%:%