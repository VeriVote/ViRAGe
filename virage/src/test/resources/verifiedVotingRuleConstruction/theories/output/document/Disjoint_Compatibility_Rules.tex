%
\begin{isabellebody}%
\setisabellecontext{Disjoint{\isacharunderscore}{\kern0pt}Compatibility{\isacharunderscore}{\kern0pt}Rules}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Disjoint{\isacharunderscore}{\kern0pt}Compatibility{\isacharunderscore}{\kern0pt}Rules\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Properties{\isacharslash}{\kern0pt}Disjoint{\isacharunderscore}{\kern0pt}Compatibility{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Compositional{\isacharunderscore}{\kern0pt}Structures{\isacharslash}{\kern0pt}Sequential{\isacharunderscore}{\kern0pt}Composition{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ disj{\isacharunderscore}{\kern0pt}compat{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ compatible{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ m\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ n\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}S{\isachardot}{\kern0pt}\ finite\ S\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}A\ {\isasymsubseteq}\ S{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ A\ \isakeyword{where}\ old{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ S\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}A\ {\isasymsubseteq}\ S\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ S\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}A\ {\isasymsubseteq}\ S{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ S\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}A\ {\isasymsubseteq}\ S{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}{\isacharparenleft}{\kern0pt}S{\isacharminus}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ double{\isacharunderscore}{\kern0pt}diff\ order{\isacharunderscore}{\kern0pt}refl\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ S\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}A\ {\isasymsubseteq}\ S{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ disj{\isacharunderscore}{\kern0pt}compat{\isacharunderscore}{\kern0pt}seq{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ compatible{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ m\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ module{\isacharunderscore}{\kern0pt}m{\isadigit{2}}\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ S\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}S{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ modules{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ module{\isacharunderscore}{\kern0pt}m{\isadigit{2}}\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ A\ \isakeyword{where}\ A{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ m\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ m\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ fin{\isacharunderscore}{\kern0pt}S\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}A\ {\isasymsubseteq}\ S{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}a\ p\ q{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ a\ {\isasymin}\ A\ {\isasymand}\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ S\ p\ q\ a\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ S\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}defer\ m\ S\ p\ {\isacharequal}{\kern0pt}\ defer\ m\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ a\ b\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ a\ b\ \isacommand{have}\isamarkupfalse%
\ profiles{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}defer\ m\ S\ p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ compatible\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ p{\isacharparenright}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ q{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ DiffD{\isadigit{2}}\ a\ b\ compatible\ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ disjoint{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ eq{\isacharunderscore}{\kern0pt}def\ profiles\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ negl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}limit{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}def\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}m{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ m{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ q{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ S\ q{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ S\ p\ {\isacharequal}{\kern0pt}\ m\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ a\ b\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}full{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ {\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ UnI{\isadigit{1}}\ prod{\isachardot}{\kern0pt}sel\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ S{\isacharminus}{\kern0pt}A{\isachardot}{\kern0pt}\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt\ n\ S\ a\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ S\ p\ {\isasymlongrightarrow}\ a\ {\isasymin}\ reject\ n\ S\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ A\ indep{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}def\ modules\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/verifiedVotingRuleConstruction/theories/Compositional_Framework/Composition_Rules/Disjoint_Compatibility_Rules.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%14=4%:%
%:%15=5%:%
%:%20=5%:%
%:%23=6%:%
%:%24=7%:%
%:%25=8%:%
%:%26=8%:%
%:%27=9%:%
%:%28=10%:%
%:%35=11%:%
%:%36=11%:%
%:%37=12%:%
%:%38=12%:%
%:%39=13%:%
%:%44=18%:%
%:%45=19%:%
%:%46=19%:%
%:%47=20%:%
%:%48=20%:%
%:%49=21%:%
%:%50=22%:%
%:%51=22%:%
%:%52=23%:%
%:%57=28%:%
%:%58=29%:%
%:%59=29%:%
%:%60=30%:%
%:%61=30%:%
%:%62=31%:%
%:%63=31%:%
%:%64=32%:%
%:%69=37%:%
%:%70=38%:%
%:%71=38%:%
%:%72=39%:%
%:%73=39%:%
%:%74=40%:%
%:%79=45%:%
%:%80=46%:%
%:%81=46%:%
%:%82=47%:%
%:%83=47%:%
%:%84=48%:%
%:%85=48%:%
%:%86=49%:%
%:%91=54%:%
%:%92=55%:%
%:%93=55%:%
%:%94=56%:%
%:%95=56%:%
%:%96=57%:%
%:%97=57%:%
%:%98=57%:%
%:%99=58%:%
%:%100=58%:%
%:%101=59%:%
%:%102=59%:%
%:%103=60%:%
%:%104=60%:%
%:%105=60%:%
%:%106=61%:%
%:%107=61%:%
%:%108=62%:%
%:%114=62%:%
%:%117=63%:%
%:%118=67%:%
%:%119=68%:%
%:%120=68%:%
%:%121=69%:%
%:%122=70%:%
%:%123=71%:%
%:%124=72%:%
%:%127=73%:%
%:%131=73%:%
%:%132=73%:%
%:%133=74%:%
%:%134=74%:%
%:%135=75%:%
%:%136=75%:%
%:%137=76%:%
%:%138=76%:%
%:%139=77%:%
%:%140=77%:%
%:%141=78%:%
%:%142=78%:%
%:%143=79%:%
%:%144=79%:%
%:%145=80%:%
%:%146=80%:%
%:%147=81%:%
%:%148=81%:%
%:%149=82%:%
%:%150=82%:%
%:%151=83%:%
%:%152=83%:%
%:%153=84%:%
%:%154=85%:%
%:%155=85%:%
%:%156=86%:%
%:%157=87%:%
%:%158=87%:%
%:%159=88%:%
%:%160=89%:%
%:%161=89%:%
%:%162=90%:%
%:%163=90%:%
%:%164=91%:%
%:%165=91%:%
%:%166=92%:%
%:%170=96%:%
%:%171=97%:%
%:%172=97%:%
%:%173=98%:%
%:%174=98%:%
%:%175=99%:%
%:%176=99%:%
%:%177=100%:%
%:%181=104%:%
%:%182=105%:%
%:%183=105%:%
%:%184=106%:%
%:%185=106%:%
%:%186=107%:%
%:%188=109%:%
%:%189=110%:%
%:%190=110%:%
%:%191=111%:%
%:%192=111%:%
%:%193=112%:%
%:%194=113%:%
%:%195=114%:%
%:%196=115%:%
%:%197=115%:%
%:%198=116%:%
%:%199=117%:%
%:%200=118%:%
%:%201=118%:%
%:%202=119%:%
%:%203=120%:%
%:%204=120%:%
%:%205=121%:%
%:%206=121%:%
%:%207=122%:%
%:%208=122%:%
%:%209=122%:%
%:%210=123%:%
%:%211=124%:%
%:%212=124%:%
%:%213=125%:%
%:%214=125%:%
%:%215=126%:%
%:%216=126%:%
%:%217=127%:%
%:%218=127%:%
%:%219=128%:%
%:%220=128%:%
%:%221=129%:%
%:%222=129%:%
%:%223=130%:%
%:%224=131%:%
%:%225=132%:%
%:%226=132%:%
%:%227=133%:%
%:%228=134%:%
%:%229=135%:%
%:%230=135%:%
%:%231=136%:%
%:%232=136%:%
%:%233=136%:%
%:%234=137%:%
%:%235=138%:%
%:%236=139%:%
%:%237=139%:%
%:%238=140%:%
%:%239=140%:%
%:%240=140%:%
%:%241=141%:%
%:%242=141%:%
%:%243=142%:%
%:%244=142%:%
%:%245=143%:%
%:%246=143%:%
%:%247=143%:%
%:%248=144%:%
%:%249=145%:%
%:%250=145%:%
%:%251=146%:%
%:%252=146%:%
%:%253=147%:%
%:%254=147%:%
%:%255=148%:%
%:%256=148%:%
%:%257=148%:%
%:%258=149%:%
%:%259=150%:%
%:%260=150%:%
%:%261=151%:%
%:%262=151%:%
%:%263=152%:%
%:%264=152%:%
%:%265=152%:%
%:%266=153%:%
%:%270=157%:%
%:%271=158%:%
%:%272=158%:%
%:%273=159%:%
%:%274=159%:%
%:%275=160%:%
%:%276=160%:%
%:%277=161%:%
%:%283=161%:%
%:%288=162%:%
%:%293=163%:%