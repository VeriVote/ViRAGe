%
\begin{isabellebody}%
\setisabellecontext{Profile}%
%
\isadelimdocument
\isanewline
%
\endisadelimdocument
%
\isatagdocument
\isanewline
\isanewline
\isanewline
%
\isamarkupsection{Preference Profile%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Profile\isanewline
\ \ \isakeyword{imports}\ Preference{\isacharunderscore}{\kern0pt}Relation\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
Preference profiles denote the decisions made by the individual voters on
the eligible alternatives. They are represented in the form of one preference
relation (e.g., selected on a ballot) per voter, collectively captured in a
list of such preference relations.
Unlike a the common preference profiles in the social-choice sense, the
profiles described here considers only the (sub-)set of alternatives that are
received.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharprime}{\kern0pt}a\ Profile\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ Preference{\isacharunderscore}{\kern0pt}Relation{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ profile\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}profile\ A\ p\ {\isasymequiv}\ {\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\ linear{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ profile{\isacharunderscore}{\kern0pt}set\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymforall}b\ {\isasymin}\ {\isacharparenleft}{\kern0pt}set\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ linear{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on\ A\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}nth\ profile{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}profile\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymequiv}\ finite\ A\ {\isasymand}\ profile\ A\ p{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Preference Counts and Comparisons%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ win{\isacharunderscore}{\kern0pt}count\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count\ p\ a\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ Nil\ a\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharhash}{\kern0pt}ps{\isacharparenright}{\kern0pt}\ a\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isacharparenleft}{\kern0pt}above\ p\ a\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ ps\ a{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}equiv{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count\ p\ x\ {\isacharequal}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ p\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}induct{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}snoc\ a\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Preference{\isacharunderscore}{\kern0pt}Relation{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ base{\isacharunderscore}{\kern0pt}case{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count\ p\ x\ {\isacharequal}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ size{\isacharunderscore}{\kern0pt}one{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}{\kern0pt}length\ p{\isachardot}{\kern0pt}\ p{\isacharbang}{\kern0pt}i\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}let\ q\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ in\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ q\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}above\ r\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ one{\isacharunderscore}{\kern0pt}ballot{\isacharunderscore}{\kern0pt}equiv{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ size{\isacharunderscore}{\kern0pt}one\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}induct{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ win{\isacharunderscore}{\kern0pt}count\ p\ x\ {\isacharplus}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isacharparenleft}{\kern0pt}above\ a\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}if{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ shift{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}a{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ xaa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isasymnoteq}\ length\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xaa\ {\isasymin}\ above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xaa\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}antisym\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isasymnoteq}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}antisym\ insertI{\isadigit{1}}\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ xaa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xaa\ {\isasymin}\ above\ a\ x{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xaa\ {\isasymnoteq}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}antisym\ nth{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ xaa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ xb\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xaa\ {\isasymin}\ above\ a\ x{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xaa\ {\isasymnoteq}\ x{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xb\ {\isasymin}\ above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xb\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}antisym\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ nth{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}length\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ xaa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xaa\ {\isasymin}\ above\ a\ x{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xaa\ {\isasymnoteq}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ insertI{\isadigit{1}}\ less{\isacharunderscore}{\kern0pt}antisym\ nth{\isacharunderscore}{\kern0pt}append\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ nth{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}length\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isasymnotin}\ above\ a\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ insertI{\isadigit{1}}\ less{\isacharunderscore}{\kern0pt}antisym\ nth{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ xb\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isasymnotin}\ above\ a\ x{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xb\ {\isasymin}\ above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xb\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ insertI{\isadigit{1}}\ less{\isacharunderscore}{\kern0pt}antisym\ nth{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\ singletonD\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isasymnotin}\ above\ a\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ insertI{\isadigit{1}}\ less{\isacharunderscore}{\kern0pt}antisym\ nth{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}length\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ xaa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xaa\ {\isasymin}\ above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xaa\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}n{\isachardot}{\kern0pt}\ n\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}n{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}n{\isachardot}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{1}}\ f{\isadigit{2}}\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}above\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}eq\ shift{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}induct{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ {\isacharplus}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ p{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ aa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Preference{\isacharunderscore}{\kern0pt}Relation{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ {\isacharplus}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}aa{\isacharhash}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}aa{\isacharhash}{\kern0pt}p{\isacharparenright}{\kern0pt}\ x\ {\isacharplus}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}win{\isacharunderscore}{\kern0pt}count\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ win{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}induct\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}induct\isanewline
\ \ \ \ \ \ \ \ \ \ base{\isacharunderscore}{\kern0pt}case\ one{\isacharunderscore}{\kern0pt}ballot{\isacharunderscore}{\kern0pt}equiv\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ prefer{\isacharunderscore}{\kern0pt}count\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ Nil\ x\ y\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharhash}{\kern0pt}ps{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ y\ {\isasympreceq}\isactrlsub p\ x\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ ps\ x\ y{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}equiv{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ p\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}induct{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}snoc\ a\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Preference{\isacharunderscore}{\kern0pt}Relation{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ base{\isacharunderscore}{\kern0pt}case{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ size{\isacharunderscore}{\kern0pt}one{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}{\kern0pt}length\ p{\isachardot}{\kern0pt}\ p{\isacharbang}{\kern0pt}i\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}let\ q\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ in\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ q\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ one{\isacharunderscore}{\kern0pt}ballot{\isacharunderscore}{\kern0pt}equiv{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ size{\isacharunderscore}{\kern0pt}one\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}induct{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharplus}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ a{\isacharparenright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}if{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ shift{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}a{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isasymnoteq}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}xa{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}antisym\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}antisym\ nth{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}xa{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}antisym\ nth{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}length\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}xa\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}xa{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}xa{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}antisym\ p{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}n{\isachardot}{\kern0pt}\ n\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}n{\isachardot}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{1}}\ f{\isadigit{2}}\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}eq\ shift{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}induct{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ y\ {\isacharplus}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ p{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ p{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}induct\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}induct\isanewline
\ \ \ \ \ \ \ \ \ \ base{\isacharunderscore}{\kern0pt}case\ one{\isacharunderscore}{\kern0pt}ballot{\isacharunderscore}{\kern0pt}equiv\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}compr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ f\ x\ {\isacharbar}{\kern0pt}\ x\ {\isachardot}{\kern0pt}\ x\ {\isasymin}\ S\ {\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharbackquote}{\kern0pt}\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}compr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharbar}{\kern0pt}\ y\ {\isachardot}{\kern0pt}\ y\ {\isasymin}\ A{\isacharminus}{\kern0pt}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A{\isacharminus}{\kern0pt}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ neq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ y\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\ linear{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prof\ profile{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\ connex\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lin{\isacharunderscore}{\kern0pt}ord{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}connex{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ connex{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ y{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\ antisym\ \ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lin{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ antisymD\ neq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ {\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{2}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{3}}{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ card{\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ p\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ y\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{2}}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{3}}{\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}sym{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \isakeyword{assumes}\ p{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ a\ x\ {\isasymge}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ b{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ neq{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymnoteq}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{assumes}\ neq{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x\ {\isasymge}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ prof\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ neq{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ a\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ prof\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ b{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ neq{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isacharparenright}{\kern0pt}\ {\isasymge}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\ p{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ diff{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq\ diff{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}self\ neq{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ pref{\isacharunderscore}{\kern0pt}count\ prof\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ a{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ b\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardoublequoteclose}\ calculation\ p{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}pref{\isacharunderscore}{\kern0pt}count{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}\ x\ y{\isachardot}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}\ x\ y{\isachardot}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ p\ x\ y\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}incr{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ ps\ x\ y\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}y\ {\isasympreceq}\isactrlsub p\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharhash}{\kern0pt}ps{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\ n{\isacharplus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pref{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}smaller{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}constant{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ ps\ x\ y\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}y\ {\isasympreceq}\isactrlsub p\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prefer{\isacharunderscore}{\kern0pt}count{\isacharunderscore}{\kern0pt}code\ {\isacharparenleft}{\kern0pt}p{\isacharhash}{\kern0pt}ps{\isacharparenright}{\kern0pt}\ x\ y\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ wins\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}wins\ x\ p\ y\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ y\ {\isachargreater}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ y\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wins{\isacharunderscore}{\kern0pt}antisym{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wins\ a\ p\ b{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ wins\ b\ p\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wins{\isacharunderscore}{\kern0pt}irreflex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ wins\ w\ p\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ wins{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Condorcet Winner%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}winner\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ \ w\ {\isasymin}\ A\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ {\isachardot}{\kern0pt}\ wins\ w\ p\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ winner{\isacharunderscore}{\kern0pt}c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ c{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ winner{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ assumption{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymnoteq}\ c{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ winner{\isacharunderscore}{\kern0pt}w\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wins\ w\ p\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assumption\ insert{\isacharunderscore}{\kern0pt}Diff\ insert{\isacharunderscore}{\kern0pt}iff\ winner{\isacharunderscore}{\kern0pt}c\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ wins\ c\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ wins{\isacharunderscore}{\kern0pt}antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ winner{\isacharunderscore}{\kern0pt}c\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ c{\isacharunderscore}{\kern0pt}wins{\isacharunderscore}{\kern0pt}against{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wins\ c\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}iff\ assumption\isanewline
\ \ \ \ \ \ \ \ \ \ singletonD\ winner{\isacharunderscore}{\kern0pt}w\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ winner{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ not{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}x\ {\isasymnoteq}\ w{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}w\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique\ winner\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}wins{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}xa\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ xa{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}xa{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ \ w\ {\isasymin}\ A\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}beats{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymnoteq}\ w\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ assm\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ assm\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}beats{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymnoteq}\ w\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}wins\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ w{\isacharunderscore}{\kern0pt}beats{\isacharunderscore}{\kern0pt}x\ x{\isacharunderscore}{\kern0pt}beats{\isacharunderscore}{\kern0pt}w\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ xa{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xa\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}wins{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ xa{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}xa{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ \ w\ {\isasymin}\ A\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ {\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ p{\isacharbang}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xa\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xa{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}wins\ insert{\isacharunderscore}{\kern0pt}Diff\ insert{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Limited Profile%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}profile\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}limit\ A{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}B\ {\isasymsubseteq}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}C\ {\isasymsubseteq}\ B{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ C\ p\ {\isacharequal}{\kern0pt}\ limit{\isacharunderscore}{\kern0pt}profile\ C\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ B\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ profile{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ profile\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}limit\ A{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}map\ limit{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}lin{\isacharunderscore}{\kern0pt}ord\ nth{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \ \ profile{\isacharunderscore}{\kern0pt}def\ subset\ infinite{\isacharunderscore}{\kern0pt}super\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}size{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ S\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ subset{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}length\ p\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Lifting Property%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{definition}\isamarkupfalse%
\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ p\ q\ a\ {\isasymequiv}\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ q\ {\isasymand}\isanewline
\ \ \ \ \ \ a\ {\isasymin}\ A\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ length\ q\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ lifted\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}lifted\ A\ p\ q\ a\ {\isasymequiv}\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ q\ {\isasymand}\isanewline
\ \ \ \ \ \ a\ {\isasymin}\ A\ {\isasymand}\ length\ p\ {\isacharequal}{\kern0pt}\ length\ q\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isasymnot}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ lifted{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lifted\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ p\ q\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}ok{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ i{\isacharunderscore}{\kern0pt}ok\ lifted\ profile{\isacharunderscore}{\kern0pt}def\ trivial{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ lifted\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ negl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}limit{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ change{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ S\ p\ q\ a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ notInA{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymnotin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isacharequal}{\kern0pt}\ limit{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ equiv{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\ S\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ change\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\ limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ notInA\ negl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}limit\ subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}limit\ A{\isacharparenright}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}limit\ A{\isacharparenright}{\kern0pt}\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ change\ equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ length{\isacharunderscore}{\kern0pt}map\ nth{\isacharunderscore}{\kern0pt}equalityI\ nth{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}lifted{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ lifted{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}lifted\ S\ p\ q\ a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isacharequal}{\kern0pt}\ limit{\isacharunderscore}{\kern0pt}profile\ A\ q\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ lifted\ A\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ A\ q{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ inA{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ S\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a\ {\isasymor}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ lifted\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ one{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ a\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ limit{\isacharunderscore}{\kern0pt}lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}lifted\ subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}map\ lifted\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile{\isachardot}{\kern0pt}simps\ nth{\isacharunderscore}{\kern0pt}equalityI\ nth{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit\ A\ {\isacharparenleft}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}q\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ A\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}profile\ A\ {\isacharquery}{\kern0pt}p\ {\isasymand}\ profile\ A\ {\isacharquery}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ lifted\ limit{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}sound\ subset\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ lifted\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}p\ {\isasymand}\ Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ lifted{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}map\ lifted\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile{\isachardot}{\kern0pt}simps\ nth{\isacharunderscore}{\kern0pt}map\ one\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}i\ {\isacharless}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}p\ {\isasymand}\ {\isasymnot}Preference{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}lifted\ A\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ a{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}q{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}map\ lifted\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ limit{\isacharunderscore}{\kern0pt}profile{\isachardot}{\kern0pt}simps\ nth{\isacharunderscore}{\kern0pt}map\ one\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}lifted\ A\ {\isacharquery}{\kern0pt}p\ {\isacharquery}{\kern0pt}q\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted{\isacharunderscore}{\kern0pt}def\ inA\ lifted\ rev{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}subset\ subset\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymnotin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ lifted\ negl{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}limit{\isacharunderscore}{\kern0pt}prof\ subset\isanewline
\ \ \ \ \ \ \ \ \ \ lifted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}prof{\isacharunderscore}{\kern0pt}except{\isacharunderscore}{\kern0pt}a\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/verifiedVotingRuleConstruction/theories/Social_Choice_Types/Profile.thy%:%
%:%6=3%:%
%:%11=4%:%
%:%12=5%:%
%:%13=6%:%
%:%15=9%:%
%:%31=11%:%
%:%32=11%:%
%:%33=12%:%
%:%34=13%:%
%:%43=16%:%
%:%44=17%:%
%:%45=18%:%
%:%46=19%:%
%:%47=20%:%
%:%48=21%:%
%:%49=22%:%
%:%58=24%:%
%:%68=27%:%
%:%69=27%:%
%:%70=28%:%
%:%71=32%:%
%:%72=33%:%
%:%73=33%:%
%:%74=34%:%
%:%75=35%:%
%:%76=36%:%
%:%77=36%:%
%:%80=37%:%
%:%84=37%:%
%:%85=37%:%
%:%90=37%:%
%:%93=38%:%
%:%94=39%:%
%:%95=39%:%
%:%96=40%:%
%:%103=42%:%
%:%113=48%:%
%:%114=48%:%
%:%115=49%:%
%:%116=50%:%
%:%117=51%:%
%:%118=52%:%
%:%119=52%:%
%:%120=53%:%
%:%121=54%:%
%:%122=55%:%
%:%123=56%:%
%:%124=57%:%
%:%125=57%:%
%:%132=58%:%
%:%133=58%:%
%:%134=59%:%
%:%135=59%:%
%:%136=60%:%
%:%137=60%:%
%:%138=61%:%
%:%139=62%:%
%:%140=63%:%
%:%141=63%:%
%:%142=64%:%
%:%143=65%:%
%:%144=66%:%
%:%145=66%:%
%:%146=67%:%
%:%147=67%:%
%:%148=68%:%
%:%149=68%:%
%:%150=69%:%
%:%151=70%:%
%:%152=70%:%
%:%153=71%:%
%:%154=71%:%
%:%155=72%:%
%:%158=75%:%
%:%159=76%:%
%:%160=76%:%
%:%161=77%:%
%:%162=77%:%
%:%163=78%:%
%:%164=79%:%
%:%165=79%:%
%:%166=80%:%
%:%167=80%:%
%:%168=81%:%
%:%169=81%:%
%:%170=82%:%
%:%171=83%:%
%:%172=84%:%
%:%173=84%:%
%:%174=85%:%
%:%175=85%:%
%:%176=86%:%
%:%177=87%:%
%:%178=88%:%
%:%179=88%:%
%:%180=89%:%
%:%181=89%:%
%:%182=90%:%
%:%183=91%:%
%:%184=92%:%
%:%185=92%:%
%:%186=93%:%
%:%187=93%:%
%:%188=94%:%
%:%190=96%:%
%:%191=97%:%
%:%192=97%:%
%:%193=98%:%
%:%194=98%:%
%:%195=99%:%
%:%196=100%:%
%:%197=101%:%
%:%198=101%:%
%:%199=102%:%
%:%200=103%:%
%:%201=104%:%
%:%202=105%:%
%:%203=106%:%
%:%204=106%:%
%:%205=107%:%
%:%206=107%:%
%:%207=108%:%
%:%208=108%:%
%:%209=109%:%
%:%210=109%:%
%:%211=110%:%
%:%212=110%:%
%:%213=111%:%
%:%214=112%:%
%:%215=112%:%
%:%216=113%:%
%:%217=114%:%
%:%218=115%:%
%:%219=116%:%
%:%220=116%:%
%:%221=117%:%
%:%222=117%:%
%:%223=118%:%
%:%224=118%:%
%:%225=119%:%
%:%226=119%:%
%:%227=120%:%
%:%228=120%:%
%:%229=121%:%
%:%230=122%:%
%:%231=123%:%
%:%232=123%:%
%:%233=124%:%
%:%234=125%:%
%:%235=126%:%
%:%236=127%:%
%:%237=128%:%
%:%238=128%:%
%:%239=129%:%
%:%240=129%:%
%:%241=130%:%
%:%242=131%:%
%:%243=131%:%
%:%244=132%:%
%:%245=132%:%
%:%246=133%:%
%:%247=133%:%
%:%248=134%:%
%:%249=135%:%
%:%250=136%:%
%:%251=137%:%
%:%252=137%:%
%:%253=138%:%
%:%254=139%:%
%:%255=140%:%
%:%256=141%:%
%:%257=142%:%
%:%258=143%:%
%:%259=143%:%
%:%260=144%:%
%:%261=144%:%
%:%262=145%:%
%:%263=146%:%
%:%264=146%:%
%:%265=147%:%
%:%266=147%:%
%:%267=148%:%
%:%268=148%:%
%:%269=149%:%
%:%270=150%:%
%:%271=151%:%
%:%272=151%:%
%:%273=152%:%
%:%274=153%:%
%:%275=154%:%
%:%276=155%:%
%:%277=156%:%
%:%278=156%:%
%:%279=157%:%
%:%280=157%:%
%:%281=158%:%
%:%282=159%:%
%:%283=159%:%
%:%284=160%:%
%:%285=160%:%
%:%286=161%:%
%:%287=161%:%
%:%288=162%:%
%:%289=163%:%
%:%290=163%:%
%:%291=164%:%
%:%292=165%:%
%:%293=166%:%
%:%294=167%:%
%:%295=167%:%
%:%296=168%:%
%:%297=168%:%
%:%298=169%:%
%:%299=169%:%
%:%300=170%:%
%:%301=170%:%
%:%302=171%:%
%:%303=171%:%
%:%304=172%:%
%:%305=173%:%
%:%306=174%:%
%:%307=174%:%
%:%308=175%:%
%:%309=176%:%
%:%310=177%:%
%:%311=178%:%
%:%312=179%:%
%:%313=179%:%
%:%314=180%:%
%:%315=180%:%
%:%316=181%:%
%:%317=182%:%
%:%318=182%:%
%:%319=183%:%
%:%320=183%:%
%:%321=184%:%
%:%322=184%:%
%:%323=185%:%
%:%324=186%:%
%:%325=186%:%
%:%326=187%:%
%:%327=188%:%
%:%328=189%:%
%:%329=190%:%
%:%330=190%:%
%:%331=191%:%
%:%332=191%:%
%:%333=192%:%
%:%334=192%:%
%:%335=193%:%
%:%336=193%:%
%:%337=194%:%
%:%338=194%:%
%:%339=195%:%
%:%340=196%:%
%:%341=197%:%
%:%342=197%:%
%:%343=198%:%
%:%344=199%:%
%:%345=200%:%
%:%346=201%:%
%:%347=201%:%
%:%348=202%:%
%:%349=202%:%
%:%350=203%:%
%:%351=203%:%
%:%352=204%:%
%:%353=204%:%
%:%354=205%:%
%:%355=206%:%
%:%356=206%:%
%:%357=207%:%
%:%358=208%:%
%:%359=209%:%
%:%360=209%:%
%:%361=210%:%
%:%362=210%:%
%:%363=211%:%
%:%364=211%:%
%:%365=212%:%
%:%366=212%:%
%:%367=213%:%
%:%368=214%:%
%:%369=214%:%
%:%370=215%:%
%:%371=215%:%
%:%372=216%:%
%:%373=217%:%
%:%374=217%:%
%:%375=218%:%
%:%376=218%:%
%:%377=219%:%
%:%380=222%:%
%:%381=223%:%
%:%382=223%:%
%:%383=224%:%
%:%384=224%:%
%:%385=225%:%
%:%386=225%:%
%:%387=226%:%
%:%389=228%:%
%:%390=229%:%
%:%391=229%:%
%:%392=230%:%
%:%393=230%:%
%:%394=231%:%
%:%395=231%:%
%:%396=232%:%
%:%397=232%:%
%:%398=233%:%
%:%399=234%:%
%:%400=235%:%
%:%401=235%:%
%:%402=236%:%
%:%403=236%:%
%:%404=237%:%
%:%405=238%:%
%:%406=239%:%
%:%407=239%:%
%:%408=240%:%
%:%409=241%:%
%:%410=242%:%
%:%411=242%:%
%:%412=243%:%
%:%413=244%:%
%:%414=245%:%
%:%415=245%:%
%:%416=246%:%
%:%417=246%:%
%:%418=247%:%
%:%419=247%:%
%:%420=248%:%
%:%421=248%:%
%:%422=249%:%
%:%423=250%:%
%:%424=250%:%
%:%425=251%:%
%:%431=251%:%
%:%434=252%:%
%:%435=253%:%
%:%436=253%:%
%:%437=254%:%
%:%438=255%:%
%:%439=256%:%
%:%440=257%:%
%:%441=257%:%
%:%442=258%:%
%:%443=259%:%
%:%444=260%:%
%:%445=261%:%
%:%446=262%:%
%:%447=262%:%
%:%454=263%:%
%:%455=263%:%
%:%456=264%:%
%:%457=264%:%
%:%458=265%:%
%:%459=265%:%
%:%460=266%:%
%:%461=267%:%
%:%462=268%:%
%:%463=268%:%
%:%464=269%:%
%:%465=270%:%
%:%466=271%:%
%:%467=271%:%
%:%468=272%:%
%:%469=272%:%
%:%470=273%:%
%:%471=273%:%
%:%472=274%:%
%:%473=275%:%
%:%474=275%:%
%:%475=276%:%
%:%476=276%:%
%:%477=277%:%
%:%480=280%:%
%:%481=281%:%
%:%482=281%:%
%:%483=282%:%
%:%484=282%:%
%:%485=283%:%
%:%486=284%:%
%:%487=284%:%
%:%488=285%:%
%:%489=285%:%
%:%490=286%:%
%:%491=286%:%
%:%492=287%:%
%:%493=288%:%
%:%494=289%:%
%:%495=289%:%
%:%496=290%:%
%:%497=290%:%
%:%498=291%:%
%:%499=292%:%
%:%500=293%:%
%:%501=293%:%
%:%502=294%:%
%:%503=294%:%
%:%504=295%:%
%:%505=296%:%
%:%506=297%:%
%:%507=297%:%
%:%508=298%:%
%:%509=298%:%
%:%510=299%:%
%:%512=301%:%
%:%513=302%:%
%:%514=302%:%
%:%515=303%:%
%:%516=303%:%
%:%517=304%:%
%:%518=305%:%
%:%519=305%:%
%:%520=306%:%
%:%521=307%:%
%:%522=308%:%
%:%523=309%:%
%:%524=309%:%
%:%525=310%:%
%:%526=310%:%
%:%527=311%:%
%:%528=311%:%
%:%529=312%:%
%:%530=312%:%
%:%531=313%:%
%:%532=313%:%
%:%533=314%:%
%:%534=315%:%
%:%535=315%:%
%:%536=316%:%
%:%537=317%:%
%:%538=318%:%
%:%539=319%:%
%:%540=319%:%
%:%541=320%:%
%:%542=320%:%
%:%543=321%:%
%:%544=321%:%
%:%545=322%:%
%:%546=322%:%
%:%547=323%:%
%:%548=323%:%
%:%549=324%:%
%:%550=325%:%
%:%551=325%:%
%:%552=326%:%
%:%553=327%:%
%:%554=328%:%
%:%555=329%:%
%:%556=329%:%
%:%557=330%:%
%:%558=330%:%
%:%559=331%:%
%:%560=331%:%
%:%561=332%:%
%:%562=332%:%
%:%563=333%:%
%:%564=333%:%
%:%565=334%:%
%:%566=335%:%
%:%567=335%:%
%:%568=336%:%
%:%569=337%:%
%:%570=338%:%
%:%571=338%:%
%:%572=339%:%
%:%573=339%:%
%:%574=340%:%
%:%575=340%:%
%:%576=341%:%
%:%577=341%:%
%:%578=342%:%
%:%579=342%:%
%:%580=343%:%
%:%581=344%:%
%:%582=344%:%
%:%583=345%:%
%:%584=345%:%
%:%585=346%:%
%:%586=347%:%
%:%587=347%:%
%:%588=348%:%
%:%589=348%:%
%:%590=349%:%
%:%593=352%:%
%:%594=353%:%
%:%595=353%:%
%:%596=354%:%
%:%597=354%:%
%:%598=355%:%
%:%599=355%:%
%:%600=356%:%
%:%602=358%:%
%:%603=359%:%
%:%604=359%:%
%:%605=360%:%
%:%606=360%:%
%:%607=361%:%
%:%608=361%:%
%:%609=362%:%
%:%610=362%:%
%:%611=363%:%
%:%612=364%:%
%:%613=365%:%
%:%614=365%:%
%:%615=366%:%
%:%616=366%:%
%:%617=367%:%
%:%618=368%:%
%:%619=368%:%
%:%620=369%:%
%:%621=370%:%
%:%622=370%:%
%:%623=371%:%
%:%624=371%:%
%:%625=372%:%
%:%626=372%:%
%:%627=373%:%
%:%628=373%:%
%:%629=374%:%
%:%630=374%:%
%:%631=375%:%
%:%632=375%:%
%:%633=376%:%
%:%634=376%:%
%:%635=377%:%
%:%636=378%:%
%:%637=378%:%
%:%638=379%:%
%:%639=380%:%
%:%640=380%:%
%:%641=381%:%
%:%642=381%:%
%:%643=382%:%
%:%644=383%:%
%:%645=383%:%
%:%646=384%:%
%:%647=384%:%
%:%648=385%:%
%:%649=385%:%
%:%650=386%:%
%:%651=386%:%
%:%652=387%:%
%:%653=387%:%
%:%654=388%:%
%:%655=388%:%
%:%656=389%:%
%:%657=389%:%
%:%658=390%:%
%:%659=391%:%
%:%660=391%:%
%:%661=392%:%
%:%667=392%:%
%:%670=393%:%
%:%671=394%:%
%:%672=394%:%
%:%675=395%:%
%:%679=395%:%
%:%680=395%:%
%:%685=395%:%
%:%688=396%:%
%:%689=397%:%
%:%690=397%:%
%:%691=398%:%
%:%694=399%:%
%:%698=399%:%
%:%699=399%:%
%:%704=399%:%
%:%707=400%:%
%:%708=401%:%
%:%709=401%:%
%:%710=402%:%
%:%711=403%:%
%:%712=404%:%
%:%713=405%:%
%:%714=406%:%
%:%721=407%:%
%:%722=407%:%
%:%723=408%:%
%:%724=408%:%
%:%725=409%:%
%:%726=409%:%
%:%727=410%:%
%:%728=410%:%
%:%729=411%:%
%:%731=413%:%
%:%732=414%:%
%:%733=414%:%
%:%734=415%:%
%:%735=415%:%
%:%736=416%:%
%:%737=416%:%
%:%738=417%:%
%:%739=417%:%
%:%740=418%:%
%:%741=418%:%
%:%742=419%:%
%:%743=419%:%
%:%744=420%:%
%:%745=420%:%
%:%746=421%:%
%:%747=422%:%
%:%748=422%:%
%:%749=423%:%
%:%750=423%:%
%:%751=424%:%
%:%752=424%:%
%:%753=424%:%
%:%754=425%:%
%:%755=426%:%
%:%756=426%:%
%:%757=427%:%
%:%758=427%:%
%:%759=428%:%
%:%760=428%:%
%:%761=429%:%
%:%762=429%:%
%:%763=430%:%
%:%764=430%:%
%:%765=431%:%
%:%766=431%:%
%:%767=432%:%
%:%768=433%:%
%:%769=433%:%
%:%770=434%:%
%:%771=434%:%
%:%772=434%:%
%:%773=435%:%
%:%774=436%:%
%:%775=437%:%
%:%776=437%:%
%:%777=438%:%
%:%778=438%:%
%:%779=439%:%
%:%780=440%:%
%:%781=441%:%
%:%782=441%:%
%:%783=442%:%
%:%784=442%:%
%:%785=443%:%
%:%787=445%:%
%:%788=446%:%
%:%789=446%:%
%:%790=447%:%
%:%791=447%:%
%:%792=448%:%
%:%793=448%:%
%:%794=449%:%
%:%795=450%:%
%:%796=451%:%
%:%797=451%:%
%:%798=452%:%
%:%799=452%:%
%:%800=453%:%
%:%803=456%:%
%:%804=457%:%
%:%805=457%:%
%:%806=458%:%
%:%807=458%:%
%:%808=459%:%
%:%809=460%:%
%:%810=460%:%
%:%811=461%:%
%:%812=461%:%
%:%813=461%:%
%:%814=462%:%
%:%815=463%:%
%:%816=464%:%
%:%817=464%:%
%:%818=465%:%
%:%819=465%:%
%:%820=466%:%
%:%821=466%:%
%:%822=466%:%
%:%823=467%:%
%:%824=468%:%
%:%825=469%:%
%:%826=469%:%
%:%827=470%:%
%:%828=470%:%
%:%829=471%:%
%:%830=471%:%
%:%831=471%:%
%:%832=472%:%
%:%833=473%:%
%:%834=473%:%
%:%835=474%:%
%:%836=474%:%
%:%837=474%:%
%:%838=475%:%
%:%839=475%:%
%:%840=476%:%
%:%846=476%:%
%:%849=477%:%
%:%850=478%:%
%:%851=478%:%
%:%852=479%:%
%:%853=480%:%
%:%854=481%:%
%:%855=482%:%
%:%856=483%:%
%:%857=484%:%
%:%858=485%:%
%:%859=486%:%
%:%866=487%:%
%:%867=487%:%
%:%868=488%:%
%:%869=488%:%
%:%870=488%:%
%:%871=489%:%
%:%872=490%:%
%:%873=490%:%
%:%874=491%:%
%:%875=491%:%
%:%876=492%:%
%:%877=492%:%
%:%878=492%:%
%:%879=492%:%
%:%880=493%:%
%:%881=494%:%
%:%882=494%:%
%:%883=495%:%
%:%884=495%:%
%:%885=496%:%
%:%886=496%:%
%:%887=497%:%
%:%888=498%:%
%:%889=498%:%
%:%890=499%:%
%:%891=499%:%
%:%892=500%:%
%:%893=500%:%
%:%894=501%:%
%:%895=502%:%
%:%896=502%:%
%:%897=503%:%
%:%898=504%:%
%:%899=504%:%
%:%900=505%:%
%:%901=505%:%
%:%902=506%:%
%:%903=506%:%
%:%904=507%:%
%:%905=507%:%
%:%906=508%:%
%:%907=508%:%
%:%908=509%:%
%:%909=509%:%
%:%910=510%:%
%:%916=510%:%
%:%919=511%:%
%:%920=512%:%
%:%921=512%:%
%:%922=513%:%
%:%923=514%:%
%:%926=515%:%
%:%930=515%:%
%:%931=515%:%
%:%932=516%:%
%:%933=516%:%
%:%938=516%:%
%:%941=517%:%
%:%942=518%:%
%:%943=518%:%
%:%944=519%:%
%:%945=520%:%
%:%948=521%:%
%:%952=521%:%
%:%953=521%:%
%:%954=522%:%
%:%955=522%:%
%:%960=522%:%
%:%963=523%:%
%:%964=524%:%
%:%965=524%:%
%:%966=525%:%
%:%967=526%:%
%:%968=527%:%
%:%969=528%:%
%:%972=529%:%
%:%976=529%:%
%:%977=529%:%
%:%978=530%:%
%:%979=530%:%
%:%984=530%:%
%:%987=531%:%
%:%988=532%:%
%:%989=532%:%
%:%990=533%:%
%:%991=534%:%
%:%992=535%:%
%:%993=536%:%
%:%996=537%:%
%:%1000=537%:%
%:%1001=537%:%
%:%1002=538%:%
%:%1003=538%:%
%:%1008=538%:%
%:%1011=539%:%
%:%1012=540%:%
%:%1013=540%:%
%:%1014=541%:%
%:%1015=542%:%
%:%1016=543%:%
%:%1017=544%:%
%:%1018=545%:%
%:%1019=545%:%
%:%1020=546%:%
%:%1021=547%:%
%:%1024=548%:%
%:%1028=548%:%
%:%1029=548%:%
%:%1030=549%:%
%:%1031=549%:%
%:%1036=549%:%
%:%1039=550%:%
%:%1040=551%:%
%:%1041=551%:%
%:%1044=552%:%
%:%1048=552%:%
%:%1049=552%:%
%:%1050=553%:%
%:%1051=553%:%
%:%1065=555%:%
%:%1075=557%:%
%:%1076=557%:%
%:%1077=558%:%
%:%1078=559%:%
%:%1079=560%:%
%:%1080=561%:%
%:%1081=561%:%
%:%1082=562%:%
%:%1083=563%:%
%:%1084=564%:%
%:%1091=565%:%
%:%1092=565%:%
%:%1093=566%:%
%:%1094=566%:%
%:%1095=567%:%
%:%1096=568%:%
%:%1097=568%:%
%:%1098=569%:%
%:%1099=569%:%
%:%1100=570%:%
%:%1101=570%:%
%:%1102=571%:%
%:%1103=571%:%
%:%1104=572%:%
%:%1105=572%:%
%:%1106=573%:%
%:%1107=573%:%
%:%1108=574%:%
%:%1109=574%:%
%:%1110=574%:%
%:%1111=575%:%
%:%1112=575%:%
%:%1113=576%:%
%:%1114=577%:%
%:%1115=577%:%
%:%1116=578%:%
%:%1117=579%:%
%:%1118=579%:%
%:%1119=580%:%
%:%1120=580%:%
%:%1121=580%:%
%:%1122=581%:%
%:%1123=581%:%
%:%1124=582%:%
%:%1130=582%:%
%:%1133=583%:%
%:%1134=584%:%
%:%1135=584%:%
%:%1136=585%:%
%:%1137=586%:%
%:%1138=587%:%
%:%1139=588%:%
%:%1142=589%:%
%:%1146=589%:%
%:%1147=589%:%
%:%1148=590%:%
%:%1149=590%:%
%:%1154=590%:%
%:%1157=591%:%
%:%1158=592%:%
%:%1159=592%:%
%:%1160=593%:%
%:%1161=594%:%
%:%1168=595%:%
%:%1169=595%:%
%:%1170=596%:%
%:%1171=596%:%
%:%1172=597%:%
%:%1173=598%:%
%:%1174=598%:%
%:%1175=599%:%
%:%1176=600%:%
%:%1177=601%:%
%:%1178=602%:%
%:%1179=603%:%
%:%1181=605%:%
%:%1182=606%:%
%:%1183=606%:%
%:%1184=606%:%
%:%1185=607%:%
%:%1188=610%:%
%:%1189=611%:%
%:%1190=611%:%
%:%1191=612%:%
%:%1192=612%:%
%:%1193=613%:%
%:%1195=615%:%
%:%1196=616%:%
%:%1197=616%:%
%:%1198=617%:%
%:%1199=617%:%
%:%1200=618%:%
%:%1202=620%:%
%:%1203=621%:%
%:%1204=621%:%
%:%1205=622%:%
%:%1206=622%:%
%:%1207=623%:%
%:%1208=623%:%
%:%1209=623%:%
%:%1210=623%:%
%:%1211=624%:%
%:%1212=625%:%
%:%1213=625%:%
%:%1214=626%:%
%:%1215=626%:%
%:%1216=626%:%
%:%1217=626%:%
%:%1218=627%:%
%:%1219=628%:%
%:%1220=628%:%
%:%1221=629%:%
%:%1222=629%:%
%:%1223=630%:%
%:%1225=632%:%
%:%1226=633%:%
%:%1227=633%:%
%:%1228=634%:%
%:%1229=634%:%
%:%1230=635%:%
%:%1231=635%:%
%:%1232=635%:%
%:%1233=636%:%
%:%1234=637%:%
%:%1235=637%:%
%:%1236=638%:%
%:%1237=638%:%
%:%1238=639%:%
%:%1239=639%:%
%:%1240=640%:%
%:%1241=641%:%
%:%1242=641%:%
%:%1243=641%:%
%:%1244=642%:%
%:%1245=642%:%
%:%1246=643%:%
%:%1247=643%:%
%:%1248=644%:%
%:%1249=644%:%
%:%1250=645%:%
%:%1251=646%:%
%:%1252=646%:%
%:%1253=646%:%
%:%1254=647%:%
%:%1255=647%:%
%:%1256=648%:%
%:%1257=648%:%
%:%1258=649%:%
%:%1259=649%:%
%:%1260=650%:%
%:%1261=651%:%
%:%1262=651%:%
%:%1263=651%:%
%:%1264=652%:%
%:%1265=652%:%
%:%1266=653%:%
%:%1267=653%:%
%:%1268=654%:%
%:%1269=654%:%
%:%1270=655%:%
%:%1271=656%:%
%:%1272=656%:%
%:%1273=656%:%
%:%1274=657%:%
%:%1275=657%:%
%:%1276=658%:%
%:%1277=658%:%
%:%1278=659%:%
%:%1279=659%:%
%:%1280=660%:%
%:%1281=661%:%
%:%1282=662%:%
%:%1283=662%:%
%:%1284=663%:%
%:%1285=664%:%
%:%1286=665%:%
%:%1287=666%:%
%:%1288=667%:%
%:%1289=667%:%
%:%1290=667%:%
%:%1291=668%:%
%:%1294=671%:%
%:%1295=672%:%
%:%1296=672%:%
%:%1297=673%:%
%:%1298=673%:%
%:%1299=674%:%
%:%1300=674%:%
%:%1301=675%:%
%:%1302=675%:%
%:%1303=676%:%
%:%1318=678%:%
%:%1328=684%:%
%:%1329=684%:%
%:%1330=685%:%
%:%1331=686%:%
%:%1332=687%:%
%:%1333=687%:%
%:%1334=688%:%
%:%1335=689%:%
%:%1336=690%:%
%:%1337=691%:%
%:%1338=692%:%
%:%1341=693%:%
%:%1345=693%:%
%:%1346=693%:%
%:%1347=694%:%
%:%1348=694%:%
%:%1353=694%:%
%:%1356=695%:%
%:%1357=696%:%
%:%1358=696%:%
%:%1359=697%:%
%:%1360=698%:%
%:%1361=699%:%
%:%1362=700%:%
%:%1369=701%:%
%:%1370=701%:%
%:%1371=702%:%
%:%1372=702%:%
%:%1373=703%:%
%:%1374=703%:%
%:%1375=704%:%
%:%1376=704%:%
%:%1377=705%:%
%:%1378=706%:%
%:%1379=706%:%
%:%1380=707%:%
%:%1386=707%:%
%:%1389=708%:%
%:%1390=709%:%
%:%1391=709%:%
%:%1392=710%:%
%:%1393=711%:%
%:%1394=712%:%
%:%1397=713%:%
%:%1401=713%:%
%:%1402=713%:%
%:%1416=715%:%
%:%1426=717%:%
%:%1427=717%:%
%:%1428=718%:%
%:%1429=719%:%
%:%1434=724%:%
%:%1435=725%:%
%:%1436=729%:%
%:%1437=730%:%
%:%1438=730%:%
%:%1439=731%:%
%:%1445=737%:%
%:%1446=738%:%
%:%1447=739%:%
%:%1448=739%:%
%:%1449=740%:%
%:%1450=741%:%
%:%1457=742%:%
%:%1458=742%:%
%:%1459=743%:%
%:%1460=743%:%
%:%1461=744%:%
%:%1462=745%:%
%:%1463=746%:%
%:%1464=746%:%
%:%1465=747%:%
%:%1466=747%:%
%:%1467=748%:%
%:%1468=748%:%
%:%1469=749%:%
%:%1470=750%:%
%:%1471=751%:%
%:%1472=751%:%
%:%1473=752%:%
%:%1474=752%:%
%:%1475=753%:%
%:%1476=753%:%
%:%1477=754%:%
%:%1478=754%:%
%:%1479=755%:%
%:%1480=756%:%
%:%1481=756%:%
%:%1482=757%:%
%:%1483=757%:%
%:%1484=758%:%
%:%1485=758%:%
%:%1486=759%:%
%:%1487=759%:%
%:%1488=760%:%
%:%1489=760%:%
%:%1490=761%:%
%:%1491=761%:%
%:%1492=762%:%
%:%1498=762%:%
%:%1501=763%:%
%:%1502=764%:%
%:%1503=764%:%
%:%1504=765%:%
%:%1505=766%:%
%:%1506=767%:%
%:%1507=768%:%
%:%1508=769%:%
%:%1515=770%:%
%:%1516=770%:%
%:%1517=771%:%
%:%1518=771%:%
%:%1519=772%:%
%:%1520=773%:%
%:%1521=774%:%
%:%1522=774%:%
%:%1523=775%:%
%:%1524=775%:%
%:%1525=776%:%
%:%1526=776%:%
%:%1527=777%:%
%:%1528=777%:%
%:%1529=778%:%
%:%1530=778%:%
%:%1531=779%:%
%:%1532=779%:%
%:%1533=780%:%
%:%1534=780%:%
%:%1535=781%:%
%:%1536=782%:%
%:%1537=782%:%
%:%1538=783%:%
%:%1539=783%:%
%:%1540=784%:%
%:%1541=784%:%
%:%1542=785%:%
%:%1548=785%:%
%:%1551=786%:%
%:%1552=787%:%
%:%1553=787%:%
%:%1554=788%:%
%:%1555=789%:%
%:%1556=790%:%
%:%1557=791%:%
%:%1558=792%:%
%:%1559=793%:%
%:%1566=794%:%
%:%1567=794%:%
%:%1568=795%:%
%:%1569=795%:%
%:%1570=796%:%
%:%1571=796%:%
%:%1572=797%:%
%:%1573=798%:%
%:%1574=799%:%
%:%1575=799%:%
%:%1576=800%:%
%:%1577=800%:%
%:%1578=801%:%
%:%1579=801%:%
%:%1580=802%:%
%:%1582=804%:%
%:%1583=805%:%
%:%1584=805%:%
%:%1585=806%:%
%:%1586=806%:%
%:%1587=807%:%
%:%1588=807%:%
%:%1589=808%:%
%:%1590=808%:%
%:%1591=809%:%
%:%1592=809%:%
%:%1593=810%:%
%:%1594=810%:%
%:%1595=811%:%
%:%1596=811%:%
%:%1597=812%:%
%:%1598=813%:%
%:%1599=813%:%
%:%1600=814%:%
%:%1601=814%:%
%:%1602=815%:%
%:%1603=815%:%
%:%1604=816%:%
%:%1605=817%:%
%:%1606=817%:%
%:%1607=818%:%
%:%1608=818%:%
%:%1609=819%:%
%:%1610=819%:%
%:%1611=820%:%
%:%1612=820%:%
%:%1613=821%:%
%:%1614=821%:%
%:%1615=822%:%
%:%1616=822%:%
%:%1617=822%:%
%:%1618=823%:%
%:%1619=823%:%
%:%1620=824%:%
%:%1621=824%:%
%:%1622=825%:%
%:%1623=825%:%
%:%1624=825%:%
%:%1625=826%:%
%:%1626=827%:%
%:%1627=827%:%
%:%1628=828%:%
%:%1629=829%:%
%:%1630=829%:%
%:%1631=830%:%
%:%1632=830%:%
%:%1633=830%:%
%:%1634=831%:%
%:%1636=833%:%
%:%1637=834%:%
%:%1638=834%:%
%:%1639=835%:%
%:%1640=836%:%
%:%1641=836%:%
%:%1642=837%:%
%:%1643=837%:%
%:%1644=837%:%
%:%1645=838%:%
%:%1646=838%:%
%:%1647=839%:%
%:%1648=839%:%
%:%1649=840%:%
%:%1650=840%:%
%:%1651=841%:%
%:%1652=841%:%
%:%1653=842%:%
%:%1654=842%:%
%:%1655=843%:%
%:%1656=843%:%
%:%1657=844%:%
%:%1658=844%:%
%:%1659=845%:%
%:%1660=845%:%
%:%1661=846%:%
%:%1662=846%:%
%:%1663=847%:%
%:%1664=848%:%
%:%1665=848%:%
%:%1666=849%:%
%:%1672=849%:%
%:%1677=850%:%
%:%1682=851%:%