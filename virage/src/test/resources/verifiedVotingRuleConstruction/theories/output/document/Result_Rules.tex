%
\begin{isabellebody}%
\setisabellecontext{Result{\isacharunderscore}{\kern0pt}Rules}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Result{\isacharunderscore}{\kern0pt}Rules\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Properties{\isacharslash}{\kern0pt}Result{\isacharunderscore}{\kern0pt}Properties{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Basic{\isacharunderscore}{\kern0pt}Modules{\isacharslash}{\kern0pt}Elect{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Composites{\isacharslash}{\kern0pt}Composite{\isacharunderscore}{\kern0pt}Structures{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ Result{\isacharunderscore}{\kern0pt}Facts\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}blocking{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ electing{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electing\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}disjoint\ Diff{\isacharunderscore}{\kern0pt}empty\ Int{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}\ electing\isanewline
\ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}blocking{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ reject\ m\ A\ p\ {\isasymnoteq}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ A\ {\isacharminus}{\kern0pt}\ reject\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}iff\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ subset{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ elect\ m\ A\ p\ {\isasymunion}\ defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ reject\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ elec{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}rej\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ elect\ m\ A\ p\ {\isasymunion}\ defer\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}input{\isacharunderscore}{\kern0pt}sound\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymor}\ defer\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}empty\ Diff{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}conv\ Un{\isacharunderscore}{\kern0pt}empty\ fst{\isacharunderscore}{\kern0pt}conv\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ inf{\isachardot}{\kern0pt}absorb{\isadigit{1}}\ sup{\isacharunderscore}{\kern0pt}bot{\isacharunderscore}{\kern0pt}right\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\ subset{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ elector{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}block{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}electing\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ AA\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rrs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ \ \ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}f{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}electing\ f\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ elect\ f\ {\isacharparenleft}{\kern0pt}AA\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrs\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\ profile\ {\isacharparenleft}{\kern0pt}AA\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrs\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite\ {\isacharparenleft}{\kern0pt}AA\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ AA\ f\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ {\isasymnot}\ electoral{\isacharunderscore}{\kern0pt}module\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymforall}A\ rs{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ elect\ f\ A\ rs\ {\isasymor}\ {\isasymnot}\ profile\ A\ rs\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ infinite\ A\ {\isasymor}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}module\ f\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ {\isasymnot}\ electing\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}block{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect{\isacharunderscore}{\kern0pt}module{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharunderscore}{\kern0pt}\ Profile\ {\isasymRightarrow}\ {\isacharunderscore}{\kern0pt}\ Result{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electing{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}blocking{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ AAa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ rrsa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}f{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}electing\ f\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ elect\ f\ {\isacharparenleft}{\kern0pt}AAa\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\ profile\ {\isacharparenleft}{\kern0pt}AAa\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite\ {\isacharparenleft}{\kern0pt}AAa\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ AAa\ f\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ {\isasymnot}\ electoral{\isacharunderscore}{\kern0pt}module\ f{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymforall}A\ rs{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ elect\ f\ A\ rs\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ {\isasymnot}\ profile\ A\ rs\ {\isasymor}\ infinite\ A\ {\isasymor}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ f\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ {\isasymnot}\ electing\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ AAb\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Result\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ AAc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Result\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ AAd\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Result\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ f{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AAb\ p{\isacharcomma}{\kern0pt}\ AAc\ p{\isacharcomma}{\kern0pt}\ AAd\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isadigit{3}}{\isachardot}{\kern0pt}cases\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ elector{\isacharunderscore}{\kern0pt}sound\ module{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{4}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}elect{\isacharunderscore}{\kern0pt}r\ p{\isacharcomma}{\kern0pt}\ AAc\ p{\isacharcomma}{\kern0pt}\ AAd\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{2}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ profile\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ elect\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ AAd\ {\isacharparenleft}{\kern0pt}elector\ m\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ reject\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ AAc\ {\isacharparenleft}{\kern0pt}elector\ m\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ electing\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{2}}\ f{\isadigit{1}}\ Diff{\isacharunderscore}{\kern0pt}empty\ elector{\isachardot}{\kern0pt}simps\ non{\isacharunderscore}{\kern0pt}block{\isacharunderscore}{\kern0pt}m\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}block\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}blocking\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ AAd\ {\isacharparenleft}{\kern0pt}elector\ m\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ profile\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rrsa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ infinite\ {\isacharparenleft}{\kern0pt}AAa\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{4}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{4}}\ f{\isadigit{3}}\ f{\isadigit{1}}\ fst{\isacharunderscore}{\kern0pt}conv\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isadigit{1}}{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ electing{\isacharunderscore}{\kern0pt}m{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electing\ m{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}electing\ {\isacharparenleft}{\kern0pt}m{\isadigit{1}}\ {\isasymtriangleright}\ m{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}A\ p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ A\ {\isasymge}\ {\isadigit{1}}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ m{\isadigit{1}}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}A\ p{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ defer\ m{\isadigit{1}}\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ zero{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}one\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}empty\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\ electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ electing{\isacharunderscore}{\kern0pt}m{\isadigit{2}}\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}then{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ conserv{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ conservative{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}agg{\isacharunderscore}{\kern0pt}conservative\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub a\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ emod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ emod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ agg{\isacharunderscore}{\kern0pt}a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}aggregator\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ conservative\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ agg{\isacharunderscore}{\kern0pt}conservative{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub a\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ emod{\isacharunderscore}{\kern0pt}m\ emod{\isacharunderscore}{\kern0pt}n\ agg{\isacharunderscore}{\kern0pt}a\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}wins{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub a\ n{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ emod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ emod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}let\ c\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ A\ {\isacharparenleft}{\kern0pt}m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ in\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect{\isacharunderscore}{\kern0pt}r\ c\ {\isasymsubseteq}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}elect\ n\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ conservative\ agg{\isacharunderscore}{\kern0pt}conservative{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ emod{\isacharunderscore}{\kern0pt}m\ emod{\isacharunderscore}{\kern0pt}n\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}result{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ combine{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}def\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}elect\ n\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}wins\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sup{\isacharunderscore}{\kern0pt}bot{\isacharunderscore}{\kern0pt}right\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ fin{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ conserv{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}empty\ assms\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ prod{\isachardot}{\kern0pt}sel\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}helper{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ non{\isacharunderscore}{\kern0pt}electing\ acc{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ elect\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n\ arbitrary{\isacharcolon}{\kern0pt}\ acc\ rule{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}less\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ psubset{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ x{\isacharunderscore}{\kern0pt}elect{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}helper\isanewline
\ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ empty{\isacharunderscore}{\kern0pt}iff\ fin{\isacharunderscore}{\kern0pt}A\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}code\isanewline
\ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}A\ x{\isacharunderscore}{\kern0pt}elect\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ rev{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}blocking{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}electing\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m{\isasymdown}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ electing{\isacharunderscore}{\kern0pt}def\ rev{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ no{\isacharunderscore}{\kern0pt}elect{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isacharminus}{\kern0pt}\ elect\ m\ A\ p\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}elect\ \isacommand{have}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}elect{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ prof{\isacharunderscore}{\kern0pt}A\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ fin{\isacharunderscore}{\kern0pt}A\ electing{\isacharunderscore}{\kern0pt}def\ empty{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ Diff{\isacharunderscore}{\kern0pt}disjoint\ Int{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}elect\ assms\ electing{\isacharunderscore}{\kern0pt}def\ empty{\isacharunderscore}{\kern0pt}iff\ fin{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ prof{\isacharunderscore}{\kern0pt}A\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}one{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}blocking\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defers{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ pos{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ card\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}card\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ \isacommand{have}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}blocking{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}reject\ m\ A\ p\ {\isasymnoteq}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ A\ {\isasymand}\ a\ {\isasymnotin}\ reject\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}card\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ subset{\isacharunderscore}{\kern0pt}antisym\ subset{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ subsetI\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}defer\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\ empty{\isacharunderscore}{\kern0pt}iff\ pos{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ pos{\isacharunderscore}{\kern0pt}card\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}fun{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}n\ defers{\isacharunderscore}{\kern0pt}def\ fin{\isacharunderscore}{\kern0pt}A\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \ \ \ \ \ \ prof{\isacharunderscore}{\kern0pt}A\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}n\ f{\isachardot}{\kern0pt}\ defers\ n\ f\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}electoral{\isacharunderscore}{\kern0pt}module\ f\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}A\ rs{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymnot}\ n\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}\ {\isasymor}\ infinite\ A\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymnot}\ profile\ A\ rs{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ f\ A\ rs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \ \ \ \ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}blocking{\isacharunderscore}{\kern0pt}m\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}fun\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}iter{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}helper{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ single{\isacharunderscore}{\kern0pt}elimination{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eliminates\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ r{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}t\ r{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}r\ r{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ n\ {\isasymge}\ x\ {\isasymand}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}\ {\isasymand}\isanewline
\ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing\ acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ n\ arbitrary{\isacharcolon}{\kern0pt}\ acc\ rule{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}less\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubset}\ defer\ acc\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}red{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\ single{\isacharunderscore}{\kern0pt}elimination\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ step{\isacharunderscore}{\kern0pt}reduces{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ non{\isacharunderscore}{\kern0pt}electing\ acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubset}\ defer\ acc\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ term{\isacharunderscore}{\kern0pt}satisfied{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharparenleft}{\kern0pt}acc\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}r\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ term{\isacharunderscore}{\kern0pt}satisfied\ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ term{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}satisfied{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}t\ {\isacharparenleft}{\kern0pt}acc\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ rec{\isacharunderscore}{\kern0pt}step{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ non{\isacharunderscore}{\kern0pt}electing\ acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ m\ t\ A\ p{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ step{\isacharunderscore}{\kern0pt}reduces{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}set\ term{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}satisfied\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}too{\isacharunderscore}{\kern0pt}small{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ old{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}at{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}x\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}too{\isacharunderscore}{\kern0pt}big{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}iff\ old{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}at{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}x\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ enough{\isacharunderscore}{\kern0pt}leftover{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ f{\isacharunderscore}{\kern0pt}prof{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ step{\isacharunderscore}{\kern0pt}profile{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}prof\ limit{\isacharunderscore}{\kern0pt}profile{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ m\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ single{\isacharunderscore}{\kern0pt}elimination\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ single{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}decr{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}card{\isadigit{2}}\ enough{\isacharunderscore}{\kern0pt}leftover\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ i\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ snd{\isacharunderscore}{\kern0pt}conv\ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ i\ {\isasymge}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}too{\isacharunderscore}{\kern0pt}big\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ new{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ x\ {\isasymle}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ acc\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ enough{\isacharunderscore}{\kern0pt}leftover\ f{\isacharunderscore}{\kern0pt}prof\ subset\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ i\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}mono\ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card\ step{\isacharunderscore}{\kern0pt}profile\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}i\ {\isacharequal}{\kern0pt}\ x\ {\isasymor}\ i\ {\isachargreater}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}le\ new{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ new{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ i\ {\isachargreater}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero\ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ new{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ x\ {\isasymle}\ i{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card\ new{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ i\ {\isacharless}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ subset\ step{\isacharunderscore}{\kern0pt}profile\ enough{\isacharunderscore}{\kern0pt}leftover\ f{\isacharunderscore}{\kern0pt}prof\ psubset{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}new{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ acc\ {\isasymlongrightarrow}\ non{\isacharunderscore}{\kern0pt}electing\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ non{\isacharunderscore}{\kern0pt}electing\ acc\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}module\ acc{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ m\ t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}hyps\ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card\ new{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}x\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}prof\ rec{\isacharunderscore}{\kern0pt}step\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymlongrightarrow}\ i\ {\isachargreater}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymlongrightarrow}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}x\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymlongrightarrow}\ t\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card\ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ acc\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}r\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ {\isacharparenleft}{\kern0pt}acc\ {\isasymtriangleright}\ m{\isacharparenright}{\kern0pt}\ m\ t\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}x\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}order\ i{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}new{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ new{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}still{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}prof\ rec{\isacharunderscore}{\kern0pt}step\ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}iter{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ single{\isacharunderscore}{\kern0pt}elimination{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eliminates\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ r{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}t\ r{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}r\ r{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ acc{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}enough{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ acc\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymge}\ x{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}acc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ acc{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ acc\ m\ t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ acc{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}enough\ gr{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}not{\isadigit{0}}\ le{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}less\isanewline
\ \ \ \ \ \ \ \ less{\isacharunderscore}{\kern0pt}one\ linorder{\isacharunderscore}{\kern0pt}neqE{\isacharunderscore}{\kern0pt}nat\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}iter{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}helper\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}acc\isanewline
\ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ single{\isacharunderscore}{\kern0pt}elimination\ nat{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left\ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero\ less{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ iter{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}helper{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ single{\isacharunderscore}{\kern0pt}elimination{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eliminates\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ r{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}t\ r{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}r\ r{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ enough{\isacharunderscore}{\kern0pt}alternatives{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ A\ {\isasymge}\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ A\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ card\ A\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ A\ {\isacharless}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ enough{\isacharunderscore}{\kern0pt}alternatives\ not{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}card\ A\ {\isacharless}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ A\ {\isachargreater}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}x\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ A\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ single{\isacharunderscore}{\kern0pt}elimination\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ single{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}decr{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}card{\isadigit{2}}\ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymge}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper\ m\ m\ t{\isacharparenright}{\kern0pt}\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}x\ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}big{\isacharunderscore}{\kern0pt}enough{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ single{\isacharunderscore}{\kern0pt}elimination\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left\ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}helper{\isacharunderscore}{\kern0pt}iter{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ iter{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}n{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ single{\isacharunderscore}{\kern0pt}elimination{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eliminates\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ r{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}t\ r{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}defer{\isacharunderscore}{\kern0pt}r\ r{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defers\ n\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}\ A\ p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ card\ A\ {\isasymge}\ n\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iter{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}helper\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ single{\isacharunderscore}{\kern0pt}elimination\isanewline
\ \ \ \ \ \ \ \ \ \ terminate{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}left\ x{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}zero\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymcirclearrowleft}\isactrlsub t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\ eliminates{\isacharunderscore}{\kern0pt}def\ single{\isacharunderscore}{\kern0pt}elimination\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ calculation\ defers{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}one{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ defers{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ non{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rejec{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rejects\ {\isadigit{2}}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ disj{\isacharunderscore}{\kern0pt}comp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isacharunderscore}{\kern0pt}compatibility\ m\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eliminates\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ eliminates{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rejec{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ rejects{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}m\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ min{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isacharless}{\kern0pt}\ card\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ A\ {\isasymge}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}card\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{2}}\ less{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ module{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}m\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ elec{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ non{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}m\ card{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defers{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ module\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ defers{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ A\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fin{\isacharunderscore}{\kern0pt}A{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}well{\isacharunderscore}{\kern0pt}formed\ A\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharcomma}{\kern0pt}\ reject\ m\ A\ p{\isacharcomma}{\kern0pt}\ defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ module\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ A\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ result{\isacharunderscore}{\kern0pt}count\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ elec{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ case{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ A\ {\isasymge}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ min{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ case{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ rejec{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ rejects{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}m\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}reject\ n\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ card\ A\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ disj{\isacharunderscore}{\kern0pt}comp\ prof{\isacharunderscore}{\kern0pt}A\ fin{\isacharunderscore}{\kern0pt}A\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}m\ card{\isacharunderscore}{\kern0pt}reject{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}reject\ {\isacharparenleft}{\kern0pt}m\ {\isasymparallel}\isactrlsub {\isasymup}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ par{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}card\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/verifiedVotingRuleConstruction/theories/Compositional_Framework/Composition_Rules/Result_Rules.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%14=4%:%
%:%15=5%:%
%:%16=6%:%
%:%17=7%:%
%:%22=7%:%
%:%25=8%:%
%:%26=9%:%
%:%27=9%:%
%:%28=10%:%
%:%29=11%:%
%:%32=12%:%
%:%36=12%:%
%:%37=12%:%
%:%38=13%:%
%:%39=14%:%
%:%40=15%:%
%:%41=15%:%
%:%46=15%:%
%:%49=16%:%
%:%50=17%:%
%:%51=18%:%
%:%52=18%:%
%:%53=19%:%
%:%54=20%:%
%:%55=21%:%
%:%56=22%:%
%:%63=23%:%
%:%64=23%:%
%:%65=24%:%
%:%66=24%:%
%:%67=25%:%
%:%68=26%:%
%:%69=27%:%
%:%70=27%:%
%:%71=28%:%
%:%72=28%:%
%:%73=28%:%
%:%74=29%:%
%:%75=30%:%
%:%76=30%:%
%:%77=31%:%
%:%78=31%:%
%:%79=31%:%
%:%80=32%:%
%:%81=33%:%
%:%82=33%:%
%:%83=34%:%
%:%84=35%:%
%:%85=35%:%
%:%86=36%:%
%:%87=36%:%
%:%88=36%:%
%:%89=37%:%
%:%90=38%:%
%:%91=38%:%
%:%92=39%:%
%:%93=39%:%
%:%94=40%:%
%:%95=41%:%
%:%96=42%:%
%:%97=42%:%
%:%98=43%:%
%:%99=43%:%
%:%100=44%:%
%:%101=44%:%
%:%102=44%:%
%:%103=45%:%
%:%104=46%:%
%:%105=46%:%
%:%106=47%:%
%:%107=47%:%
%:%108=48%:%
%:%109=48%:%
%:%110=49%:%
%:%111=49%:%
%:%112=50%:%
%:%113=50%:%
%:%114=51%:%
%:%115=51%:%
%:%116=52%:%
%:%117=53%:%
%:%118=54%:%
%:%119=55%:%
%:%120=55%:%
%:%121=56%:%
%:%127=56%:%
%:%130=57%:%
%:%131=58%:%
%:%132=58%:%
%:%133=59%:%
%:%134=60%:%
%:%135=61%:%
%:%136=62%:%
%:%143=63%:%
%:%144=63%:%
%:%145=64%:%
%:%146=64%:%
%:%147=65%:%
%:%148=66%:%
%:%149=67%:%
%:%150=68%:%
%:%158=76%:%
%:%159=77%:%
%:%160=77%:%
%:%161=78%:%
%:%162=78%:%
%:%163=79%:%
%:%164=79%:%
%:%165=80%:%
%:%166=81%:%
%:%167=82%:%
%:%168=82%:%
%:%169=83%:%
%:%170=83%:%
%:%171=84%:%
%:%171=88%:%
%:%172=89%:%
%:%173=89%:%
%:%174=90%:%
%:%175=90%:%
%:%176=91%:%
%:%177=92%:%
%:%178=93%:%
%:%179=94%:%
%:%185=100%:%
%:%186=101%:%
%:%187=101%:%
%:%188=102%:%
%:%189=102%:%
%:%190=103%:%
%:%191=103%:%
%:%192=104%:%
%:%193=105%:%
%:%194=106%:%
%:%195=107%:%
%:%196=108%:%
%:%197=109%:%
%:%198=109%:%
%:%199=110%:%
%:%200=110%:%
%:%201=111%:%
%:%202=111%:%
%:%203=112%:%
%:%204=113%:%
%:%205=113%:%
%:%206=114%:%
%:%207=114%:%
%:%208=115%:%
%:%209=115%:%
%:%210=116%:%
%:%211=117%:%
%:%212=117%:%
%:%213=118%:%
%:%214=118%:%
%:%215=119%:%
%:%216=119%:%
%:%217=120%:%
%:%223=126%:%
%:%224=127%:%
%:%225=127%:%
%:%226=128%:%
%:%227=129%:%
%:%228=130%:%
%:%229=130%:%
%:%230=131%:%
%:%231=131%:%
%:%232=132%:%
%:%233=132%:%
%:%234=133%:%
%:%235=133%:%
%:%236=134%:%
%:%237=135%:%
%:%238=135%:%
%:%239=136%:%
%:%240=137%:%
%:%241=138%:%
%:%242=138%:%
%:%243=139%:%
%:%244=139%:%
%:%245=140%:%
%:%246=140%:%
%:%247=141%:%
%:%248=141%:%
%:%249=141%:%
%:%250=142%:%
%:%251=142%:%
%:%252=143%:%
%:%253=143%:%
%:%254=144%:%
%:%255=144%:%
%:%256=145%:%
%:%262=145%:%
%:%265=146%:%
%:%266=151%:%
%:%267=152%:%
%:%268=152%:%
%:%269=153%:%
%:%270=154%:%
%:%271=155%:%
%:%278=156%:%
%:%279=156%:%
%:%280=157%:%
%:%281=157%:%
%:%282=158%:%
%:%283=159%:%
%:%284=160%:%
%:%285=160%:%
%:%286=161%:%
%:%287=161%:%
%:%288=162%:%
%:%289=162%:%
%:%290=163%:%
%:%291=164%:%
%:%292=165%:%
%:%293=165%:%
%:%294=166%:%
%:%295=167%:%
%:%296=167%:%
%:%297=168%:%
%:%298=168%:%
%:%299=169%:%
%:%300=169%:%
%:%301=170%:%
%:%302=171%:%
%:%303=172%:%
%:%304=172%:%
%:%305=173%:%
%:%311=173%:%
%:%314=174%:%
%:%315=178%:%
%:%316=179%:%
%:%317=179%:%
%:%318=180%:%
%:%319=181%:%
%:%320=182%:%
%:%321=183%:%
%:%322=184%:%
%:%325=185%:%
%:%329=185%:%
%:%330=185%:%
%:%331=186%:%
%:%332=186%:%
%:%333=187%:%
%:%334=187%:%
%:%335=188%:%
%:%336=188%:%
%:%337=189%:%
%:%338=189%:%
%:%339=190%:%
%:%340=190%:%
%:%341=191%:%
%:%342=191%:%
%:%343=192%:%
%:%344=192%:%
%:%345=193%:%
%:%346=193%:%
%:%347=194%:%
%:%348=194%:%
%:%349=195%:%
%:%350=195%:%
%:%351=196%:%
%:%352=196%:%
%:%353=197%:%
%:%354=197%:%
%:%355=198%:%
%:%356=198%:%
%:%357=199%:%
%:%358=199%:%
%:%359=200%:%
%:%360=200%:%
%:%361=201%:%
%:%362=202%:%
%:%363=203%:%
%:%364=204%:%
%:%365=204%:%
%:%366=205%:%
%:%367=206%:%
%:%368=207%:%
%:%369=208%:%
%:%370=208%:%
%:%371=209%:%
%:%372=209%:%
%:%373=210%:%
%:%374=210%:%
%:%375=211%:%
%:%376=211%:%
%:%377=212%:%
%:%378=212%:%
%:%379=213%:%
%:%380=213%:%
%:%381=214%:%
%:%382=214%:%
%:%383=215%:%
%:%384=216%:%
%:%385=217%:%
%:%386=217%:%
%:%387=218%:%
%:%388=219%:%
%:%389=220%:%
%:%390=220%:%
%:%391=221%:%
%:%392=221%:%
%:%393=222%:%
%:%394=222%:%
%:%395=223%:%
%:%396=223%:%
%:%397=224%:%
%:%398=224%:%
%:%399=225%:%
%:%400=225%:%
%:%401=226%:%
%:%402=227%:%
%:%403=227%:%
%:%404=228%:%
%:%410=228%:%
%:%413=229%:%
%:%414=233%:%
%:%415=234%:%
%:%416=234%:%
%:%417=235%:%
%:%418=236%:%
%:%419=237%:%
%:%420=238%:%
%:%423=239%:%
%:%427=239%:%
%:%428=239%:%
%:%429=240%:%
%:%430=240%:%
%:%435=240%:%
%:%438=241%:%
%:%439=242%:%
%:%440=243%:%
%:%441=243%:%
%:%442=244%:%
%:%443=245%:%
%:%444=246%:%
%:%445=247%:%
%:%448=248%:%
%:%452=248%:%
%:%453=248%:%
%:%454=249%:%
%:%455=250%:%
%:%456=250%:%
%:%461=250%:%
%:%464=251%:%
%:%465=252%:%
%:%466=252%:%
%:%467=253%:%
%:%468=254%:%
%:%469=255%:%
%:%470=256%:%
%:%471=257%:%
%:%472=258%:%
%:%479=259%:%
%:%480=259%:%
%:%481=260%:%
%:%482=260%:%
%:%483=261%:%
%:%484=261%:%
%:%485=262%:%
%:%486=262%:%
%:%487=263%:%
%:%488=264%:%
%:%489=265%:%
%:%490=265%:%
%:%491=266%:%
%:%497=266%:%
%:%500=267%:%
%:%501=268%:%
%:%502=269%:%
%:%503=269%:%
%:%504=270%:%
%:%505=271%:%
%:%508=272%:%
%:%512=272%:%
%:%513=272%:%
%:%514=273%:%
%:%515=273%:%
%:%516=274%:%
%:%517=274%:%
%:%518=275%:%
%:%519=275%:%
%:%520=276%:%
%:%521=276%:%
%:%522=277%:%
%:%523=277%:%
%:%524=278%:%
%:%525=278%:%
%:%526=279%:%
%:%527=280%:%
%:%528=281%:%
%:%529=282%:%
%:%530=282%:%
%:%531=283%:%
%:%532=284%:%
%:%533=285%:%
%:%534=286%:%
%:%535=286%:%
%:%536=287%:%
%:%537=287%:%
%:%538=288%:%
%:%539=289%:%
%:%540=290%:%
%:%541=290%:%
%:%542=291%:%
%:%548=291%:%
%:%551=292%:%
%:%552=296%:%
%:%553=297%:%
%:%554=297%:%
%:%555=298%:%
%:%556=299%:%
%:%559=300%:%
%:%563=300%:%
%:%564=300%:%
%:%565=301%:%
%:%566=301%:%
%:%567=302%:%
%:%568=302%:%
%:%569=303%:%
%:%570=303%:%
%:%571=304%:%
%:%572=304%:%
%:%573=305%:%
%:%574=305%:%
%:%575=306%:%
%:%576=306%:%
%:%577=307%:%
%:%578=308%:%
%:%579=309%:%
%:%580=310%:%
%:%581=310%:%
%:%582=311%:%
%:%583=312%:%
%:%584=313%:%
%:%585=314%:%
%:%586=315%:%
%:%587=315%:%
%:%588=315%:%
%:%589=316%:%
%:%590=317%:%
%:%591=317%:%
%:%592=318%:%
%:%593=319%:%
%:%594=319%:%
%:%595=320%:%
%:%596=320%:%
%:%597=321%:%
%:%598=321%:%
%:%599=322%:%
%:%600=323%:%
%:%601=323%:%
%:%602=324%:%
%:%608=324%:%
%:%611=325%:%
%:%612=331%:%
%:%613=332%:%
%:%614=332%:%
%:%615=333%:%
%:%616=334%:%
%:%617=335%:%
%:%618=336%:%
%:%619=337%:%
%:%622=338%:%
%:%626=338%:%
%:%627=338%:%
%:%628=339%:%
%:%629=339%:%
%:%630=340%:%
%:%631=340%:%
%:%632=341%:%
%:%633=341%:%
%:%634=342%:%
%:%635=342%:%
%:%636=343%:%
%:%637=343%:%
%:%638=344%:%
%:%639=344%:%
%:%640=345%:%
%:%641=345%:%
%:%642=346%:%
%:%643=346%:%
%:%644=347%:%
%:%645=347%:%
%:%646=348%:%
%:%647=348%:%
%:%648=349%:%
%:%649=349%:%
%:%650=350%:%
%:%651=350%:%
%:%652=351%:%
%:%653=352%:%
%:%654=353%:%
%:%655=353%:%
%:%656=354%:%
%:%657=355%:%
%:%658=356%:%
%:%659=357%:%
%:%660=357%:%
%:%661=357%:%
%:%662=358%:%
%:%663=359%:%
%:%664=359%:%
%:%665=360%:%
%:%666=360%:%
%:%667=360%:%
%:%668=361%:%
%:%669=362%:%
%:%670=362%:%
%:%671=363%:%
%:%672=363%:%
%:%673=364%:%
%:%674=364%:%
%:%675=365%:%
%:%676=366%:%
%:%677=366%:%
%:%678=367%:%
%:%679=368%:%
%:%680=369%:%
%:%681=369%:%
%:%682=370%:%
%:%683=370%:%
%:%684=371%:%
%:%685=371%:%
%:%686=372%:%
%:%687=373%:%
%:%688=373%:%
%:%689=374%:%
%:%690=374%:%
%:%691=375%:%
%:%692=376%:%
%:%693=376%:%
%:%694=377%:%
%:%695=378%:%
%:%696=378%:%
%:%697=379%:%
%:%698=379%:%
%:%699=380%:%
%:%700=381%:%
%:%701=382%:%
%:%702=382%:%
%:%703=383%:%
%:%704=384%:%
%:%705=384%:%
%:%706=385%:%
%:%707=385%:%
%:%708=386%:%
%:%713=391%:%
%:%714=392%:%
%:%715=392%:%
%:%716=393%:%
%:%717=393%:%
%:%718=394%:%
%:%719=394%:%
%:%720=395%:%
%:%721=396%:%
%:%722=397%:%
%:%723=397%:%
%:%724=398%:%
%:%725=399%:%
%:%726=400%:%
%:%727=400%:%
%:%728=401%:%
%:%729=401%:%
%:%730=402%:%
%:%731=402%:%
%:%732=403%:%
%:%733=403%:%
%:%734=404%:%
%:%740=404%:%
%:%743=405%:%
%:%744=406%:%
%:%745=406%:%
%:%746=407%:%
%:%747=408%:%
%:%748=409%:%
%:%749=410%:%
%:%750=411%:%
%:%751=412%:%
%:%752=413%:%
%:%753=414%:%
%:%755=416%:%
%:%762=417%:%
%:%763=417%:%
%:%764=418%:%
%:%765=418%:%
%:%766=419%:%
%:%767=419%:%
%:%768=420%:%
%:%769=421%:%
%:%770=422%:%
%:%771=422%:%
%:%772=423%:%
%:%773=423%:%
%:%774=424%:%
%:%775=424%:%
%:%776=425%:%
%:%777=426%:%
%:%778=427%:%
%:%779=427%:%
%:%780=428%:%
%:%781=428%:%
%:%782=429%:%
%:%783=429%:%
%:%784=430%:%
%:%785=430%:%
%:%786=431%:%
%:%787=431%:%
%:%788=432%:%
%:%789=432%:%
%:%790=433%:%
%:%791=433%:%
%:%792=434%:%
%:%793=434%:%
%:%794=435%:%
%:%795=435%:%
%:%796=436%:%
%:%797=436%:%
%:%798=437%:%
%:%799=437%:%
%:%800=438%:%
%:%801=438%:%
%:%802=439%:%
%:%803=439%:%
%:%804=440%:%
%:%805=440%:%
%:%806=441%:%
%:%807=441%:%
%:%808=442%:%
%:%810=444%:%
%:%811=445%:%
%:%812=445%:%
%:%813=446%:%
%:%814=447%:%
%:%815=447%:%
%:%816=448%:%
%:%817=448%:%
%:%818=449%:%
%:%819=449%:%
%:%820=450%:%
%:%821=450%:%
%:%822=451%:%
%:%823=451%:%
%:%824=452%:%
%:%825=452%:%
%:%826=453%:%
%:%827=453%:%
%:%828=454%:%
%:%829=454%:%
%:%830=455%:%
%:%831=455%:%
%:%832=456%:%
%:%833=456%:%
%:%834=457%:%
%:%835=457%:%
%:%836=458%:%
%:%837=458%:%
%:%838=458%:%
%:%839=459%:%
%:%840=460%:%
%:%841=460%:%
%:%842=461%:%
%:%843=461%:%
%:%844=462%:%
%:%845=462%:%
%:%846=463%:%
%:%847=463%:%
%:%848=464%:%
%:%849=464%:%
%:%850=465%:%
%:%851=465%:%
%:%852=466%:%
%:%853=466%:%
%:%854=467%:%
%:%855=467%:%
%:%856=468%:%
%:%858=470%:%
%:%859=471%:%
%:%860=471%:%
%:%861=472%:%
%:%862=472%:%
%:%863=473%:%
%:%864=473%:%
%:%865=474%:%
%:%868=477%:%
%:%869=478%:%
%:%870=478%:%
%:%871=479%:%
%:%872=480%:%
%:%873=480%:%
%:%874=481%:%
%:%875=481%:%
%:%876=482%:%
%:%877=482%:%
%:%878=483%:%
%:%879=483%:%
%:%880=484%:%
%:%881=484%:%
%:%882=485%:%
%:%883=485%:%
%:%884=486%:%
%:%885=486%:%
%:%886=487%:%
%:%887=487%:%
%:%888=488%:%
%:%889=488%:%
%:%890=489%:%
%:%891=489%:%
%:%892=490%:%
%:%893=491%:%
%:%894=492%:%
%:%895=492%:%
%:%896=493%:%
%:%897=493%:%
%:%898=494%:%
%:%899=494%:%
%:%900=495%:%
%:%901=496%:%
%:%902=497%:%
%:%903=497%:%
%:%904=498%:%
%:%905=498%:%
%:%906=499%:%
%:%907=499%:%
%:%908=500%:%
%:%909=501%:%
%:%910=501%:%
%:%911=502%:%
%:%912=502%:%
%:%913=503%:%
%:%914=503%:%
%:%915=504%:%
%:%916=504%:%
%:%917=505%:%
%:%918=505%:%
%:%919=506%:%
%:%920=506%:%
%:%921=507%:%
%:%922=507%:%
%:%923=508%:%
%:%924=508%:%
%:%925=509%:%
%:%926=509%:%
%:%927=509%:%
%:%928=510%:%
%:%929=511%:%
%:%930=511%:%
%:%931=512%:%
%:%932=512%:%
%:%933=513%:%
%:%934=513%:%
%:%935=513%:%
%:%936=514%:%
%:%937=515%:%
%:%938=516%:%
%:%939=516%:%
%:%940=517%:%
%:%941=518%:%
%:%942=518%:%
%:%943=519%:%
%:%944=519%:%
%:%945=519%:%
%:%946=520%:%
%:%947=521%:%
%:%948=522%:%
%:%949=522%:%
%:%950=523%:%
%:%951=523%:%
%:%952=524%:%
%:%953=524%:%
%:%954=524%:%
%:%955=525%:%
%:%956=526%:%
%:%957=526%:%
%:%958=527%:%
%:%959=527%:%
%:%960=527%:%
%:%961=528%:%
%:%963=530%:%
%:%964=531%:%
%:%965=531%:%
%:%966=532%:%
%:%967=532%:%
%:%968=533%:%
%:%969=533%:%
%:%970=534%:%
%:%971=534%:%
%:%972=535%:%
%:%973=535%:%
%:%974=536%:%
%:%975=536%:%
%:%976=537%:%
%:%977=537%:%
%:%978=538%:%
%:%979=538%:%
%:%980=539%:%
%:%981=539%:%
%:%982=540%:%
%:%983=540%:%
%:%984=541%:%
%:%985=541%:%
%:%986=542%:%
%:%987=542%:%
%:%988=543%:%
%:%989=543%:%
%:%990=544%:%
%:%991=544%:%
%:%992=545%:%
%:%993=546%:%
%:%994=547%:%
%:%995=547%:%
%:%996=548%:%
%:%997=548%:%
%:%998=549%:%
%:%999=549%:%
%:%1000=550%:%
%:%1001=550%:%
%:%1002=551%:%
%:%1003=552%:%
%:%1004=553%:%
%:%1005=553%:%
%:%1006=554%:%
%:%1007=554%:%
%:%1008=555%:%
%:%1009=555%:%
%:%1010=556%:%
%:%1011=556%:%
%:%1012=557%:%
%:%1018=557%:%
%:%1021=558%:%
%:%1022=559%:%
%:%1023=559%:%
%:%1024=560%:%
%:%1025=561%:%
%:%1026=562%:%
%:%1027=563%:%
%:%1028=564%:%
%:%1029=565%:%
%:%1030=566%:%
%:%1031=567%:%
%:%1032=568%:%
%:%1035=569%:%
%:%1039=569%:%
%:%1040=569%:%
%:%1041=570%:%
%:%1042=571%:%
%:%1043=572%:%
%:%1044=573%:%
%:%1045=574%:%
%:%1046=574%:%
%:%1051=574%:%
%:%1054=575%:%
%:%1055=576%:%
%:%1056=576%:%
%:%1057=577%:%
%:%1058=578%:%
%:%1059=579%:%
%:%1060=580%:%
%:%1061=581%:%
%:%1062=582%:%
%:%1063=583%:%
%:%1064=584%:%
%:%1071=585%:%
%:%1072=585%:%
%:%1073=586%:%
%:%1074=586%:%
%:%1075=587%:%
%:%1076=587%:%
%:%1077=588%:%
%:%1078=588%:%
%:%1079=589%:%
%:%1080=589%:%
%:%1081=590%:%
%:%1082=590%:%
%:%1083=591%:%
%:%1084=591%:%
%:%1085=592%:%
%:%1086=592%:%
%:%1087=593%:%
%:%1088=593%:%
%:%1089=594%:%
%:%1090=594%:%
%:%1091=595%:%
%:%1092=595%:%
%:%1093=596%:%
%:%1094=596%:%
%:%1095=597%:%
%:%1096=597%:%
%:%1097=598%:%
%:%1098=598%:%
%:%1099=599%:%
%:%1100=599%:%
%:%1101=600%:%
%:%1102=600%:%
%:%1103=601%:%
%:%1104=601%:%
%:%1105=602%:%
%:%1106=602%:%
%:%1107=603%:%
%:%1108=603%:%
%:%1109=604%:%
%:%1110=605%:%
%:%1111=605%:%
%:%1112=606%:%
%:%1113=606%:%
%:%1114=607%:%
%:%1115=607%:%
%:%1116=608%:%
%:%1117=608%:%
%:%1118=609%:%
%:%1119=609%:%
%:%1120=610%:%
%:%1121=610%:%
%:%1122=611%:%
%:%1123=611%:%
%:%1124=612%:%
%:%1125=612%:%
%:%1126=613%:%
%:%1127=614%:%
%:%1128=614%:%
%:%1129=615%:%
%:%1130=615%:%
%:%1131=616%:%
%:%1137=616%:%
%:%1140=617%:%
%:%1141=618%:%
%:%1142=618%:%
%:%1143=619%:%
%:%1144=620%:%
%:%1145=621%:%
%:%1146=622%:%
%:%1147=623%:%
%:%1148=624%:%
%:%1155=625%:%
%:%1156=625%:%
%:%1157=626%:%
%:%1158=626%:%
%:%1159=627%:%
%:%1160=628%:%
%:%1161=629%:%
%:%1162=629%:%
%:%1163=630%:%
%:%1164=631%:%
%:%1165=631%:%
%:%1166=632%:%
%:%1167=632%:%
%:%1168=632%:%
%:%1169=633%:%
%:%1170=633%:%
%:%1171=634%:%
%:%1172=634%:%
%:%1173=635%:%
%:%1174=635%:%
%:%1175=636%:%
%:%1176=636%:%
%:%1177=637%:%
%:%1183=637%:%
%:%1186=638%:%
%:%1187=644%:%
%:%1188=645%:%
%:%1189=645%:%
%:%1190=646%:%
%:%1191=647%:%
%:%1192=648%:%
%:%1193=649%:%
%:%1194=650%:%
%:%1195=651%:%
%:%1198=652%:%
%:%1202=652%:%
%:%1203=652%:%
%:%1204=653%:%
%:%1205=653%:%
%:%1206=654%:%
%:%1207=654%:%
%:%1208=655%:%
%:%1209=655%:%
%:%1210=656%:%
%:%1211=656%:%
%:%1212=657%:%
%:%1213=657%:%
%:%1214=658%:%
%:%1215=658%:%
%:%1216=659%:%
%:%1217=659%:%
%:%1218=660%:%
%:%1219=660%:%
%:%1220=661%:%
%:%1221=661%:%
%:%1222=662%:%
%:%1223=662%:%
%:%1224=663%:%
%:%1225=663%:%
%:%1226=664%:%
%:%1227=664%:%
%:%1228=665%:%
%:%1229=666%:%
%:%1230=667%:%
%:%1231=667%:%
%:%1232=668%:%
%:%1233=669%:%
%:%1234=670%:%
%:%1235=671%:%
%:%1236=671%:%
%:%1237=672%:%
%:%1238=672%:%
%:%1239=673%:%
%:%1240=673%:%
%:%1241=674%:%
%:%1242=674%:%
%:%1243=675%:%
%:%1244=675%:%
%:%1245=676%:%
%:%1246=676%:%
%:%1247=677%:%
%:%1248=677%:%
%:%1249=678%:%
%:%1250=678%:%
%:%1251=679%:%
%:%1252=679%:%
%:%1253=680%:%
%:%1254=680%:%
%:%1255=681%:%
%:%1256=681%:%
%:%1257=681%:%
%:%1258=682%:%
%:%1259=683%:%
%:%1260=683%:%
%:%1261=684%:%
%:%1262=684%:%
%:%1263=685%:%
%:%1264=685%:%
%:%1265=685%:%
%:%1266=686%:%
%:%1267=687%:%
%:%1268=687%:%
%:%1269=688%:%
%:%1270=688%:%
%:%1271=689%:%
%:%1272=689%:%
%:%1273=690%:%
%:%1274=690%:%
%:%1275=690%:%
%:%1276=691%:%
%:%1277=692%:%
%:%1278=693%:%
%:%1279=693%:%
%:%1280=694%:%
%:%1281=694%:%
%:%1282=695%:%
%:%1283=695%:%
%:%1284=695%:%
%:%1285=696%:%
%:%1287=698%:%
%:%1288=699%:%
%:%1289=699%:%
%:%1290=700%:%
%:%1291=700%:%
%:%1292=701%:%
%:%1293=701%:%
%:%1294=702%:%
%:%1295=702%:%
%:%1296=703%:%
%:%1297=703%:%
%:%1298=704%:%
%:%1299=704%:%
%:%1300=705%:%
%:%1301=705%:%
%:%1302=706%:%
%:%1303=706%:%
%:%1304=707%:%
%:%1305=707%:%
%:%1306=708%:%
%:%1307=708%:%
%:%1308=708%:%
%:%1309=709%:%
%:%1310=710%:%
%:%1311=710%:%
%:%1312=711%:%
%:%1313=711%:%
%:%1314=712%:%
%:%1315=712%:%
%:%1316=713%:%
%:%1317=713%:%
%:%1318=714%:%
%:%1319=715%:%
%:%1320=716%:%
%:%1321=716%:%
%:%1322=717%:%
%:%1323=717%:%
%:%1324=718%:%
%:%1325=718%:%
%:%1326=719%:%
%:%1327=719%:%
%:%1328=720%:%
%:%1329=721%:%
%:%1330=721%:%
%:%1331=722%:%
%:%1332=722%:%
%:%1333=723%:%
%:%1339=723%:%
%:%1344=724%:%
%:%1349=725%:%