%
\begin{isabellebody}%
\setisabellecontext{Maximum{\isacharunderscore}{\kern0pt}Aggregator}%
%
\isadelimdocument
\isanewline
%
\endisadelimdocument
%
\isatagdocument
\isanewline
\isanewline
%
\isamarkupsection{Maximum Aggregator%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Maximum{\isacharunderscore}{\kern0pt}Aggregator\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Aggregator{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
The max(imum) aggregator takes two partitions of an alternative set A as
input. It returns a partition where every alternative receives the maximum
result of the two input partitions.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}aggregator\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Aggregator{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}max{\isacharunderscore}{\kern0pt}aggregator\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}d{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Auxiliary Lemma%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}r\ {\isacharparenleft}{\kern0pt}max{\isacharunderscore}{\kern0pt}aggregator\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isadigit{1}}\ {\isasyminter}\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ result{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rej{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ result{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rej{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}{\isacharcomma}{\kern0pt}\ r{\isadigit{1}}{\isacharcomma}{\kern0pt}\ d{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymand}\ well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}e{\isadigit{2}}{\isacharcomma}{\kern0pt}\ r{\isadigit{2}}{\isacharcomma}{\kern0pt}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isadigit{1}}\ {\isasyminter}\ r{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}l\ {\isasymin}\ A{\isachardot}{\kern0pt}\ l\ {\isasymnotin}\ e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}e{\isadigit{1}}\ {\isasymunion}\ e{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Soundness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{theorem}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}agg{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}aggregator\ max{\isacharunderscore}{\kern0pt}aggregator{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ aggregator{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ e{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ e{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ d{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ d{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ asm{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e{\isadigit{2}}\ {\isasymunion}\ r{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ e{\isadigit{1}}\ {\isasymunion}\ r{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ asm{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ d{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ asm{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ r{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ asm{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ e{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ e{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ asm{\isadigit{1}}\ asm{\isadigit{2}}\ asm{\isadigit{3}}\ asm{\isadigit{4}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ e{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ e{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ d{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ d{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ asm{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e{\isadigit{2}}\ {\isasymunion}\ r{\isadigit{2}}\ {\isasymunion}\ d{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ e{\isadigit{1}}\ {\isasymunion}\ r{\isadigit{1}}\ {\isasymunion}\ d{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ asm{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ d{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ asm{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ r{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ asm{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ d{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ e{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ asm{\isadigit{1}}\ asm{\isadigit{2}}\ asm{\isadigit{3}}\ asm{\isadigit{4}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/verifiedVotingRuleConstruction/theories/Compositional_Framework/Components/Basic_Modules/Maximum_Aggregator.thy%:%
%:%6=3%:%
%:%11=4%:%
%:%12=5%:%
%:%14=8%:%
%:%30=10%:%
%:%31=10%:%
%:%32=11%:%
%:%33=12%:%
%:%42=15%:%
%:%43=16%:%
%:%44=17%:%
%:%53=19%:%
%:%63=21%:%
%:%64=21%:%
%:%65=22%:%
%:%75=27%:%
%:%85=29%:%
%:%86=29%:%
%:%88=31%:%
%:%95=32%:%
%:%96=32%:%
%:%97=33%:%
%:%98=33%:%
%:%99=34%:%
%:%100=34%:%
%:%101=35%:%
%:%102=35%:%
%:%103=35%:%
%:%104=36%:%
%:%105=37%:%
%:%106=37%:%
%:%107=38%:%
%:%108=38%:%
%:%109=38%:%
%:%110=39%:%
%:%111=40%:%
%:%112=41%:%
%:%113=41%:%
%:%114=42%:%
%:%115=42%:%
%:%116=42%:%
%:%117=43%:%
%:%118=44%:%
%:%119=44%:%
%:%120=45%:%
%:%121=45%:%
%:%122=45%:%
%:%123=46%:%
%:%124=46%:%
%:%125=47%:%
%:%140=49%:%
%:%150=51%:%
%:%151=51%:%
%:%154=52%:%
%:%158=52%:%
%:%159=52%:%
%:%160=53%:%
%:%161=53%:%
%:%162=54%:%
%:%163=54%:%
%:%164=55%:%
%:%165=56%:%
%:%166=57%:%
%:%167=58%:%
%:%168=59%:%
%:%169=60%:%
%:%170=61%:%
%:%171=62%:%
%:%172=63%:%
%:%173=63%:%
%:%174=64%:%
%:%175=65%:%
%:%176=66%:%
%:%177=67%:%
%:%178=68%:%
%:%179=68%:%
%:%180=69%:%
%:%181=69%:%
%:%182=70%:%
%:%183=70%:%
%:%184=71%:%
%:%185=71%:%
%:%186=72%:%
%:%187=72%:%
%:%188=73%:%
%:%189=74%:%
%:%190=75%:%
%:%191=76%:%
%:%192=77%:%
%:%193=78%:%
%:%194=79%:%
%:%195=80%:%
%:%196=81%:%
%:%197=81%:%
%:%198=82%:%
%:%199=83%:%
%:%200=84%:%
%:%201=85%:%
%:%202=86%:%
%:%203=86%:%
%:%204=87%:%
%:%205=87%:%
%:%206=88%:%
%:%207=88%:%
%:%208=89%:%
%:%214=89%:%
%:%219=90%:%
%:%224=91%:%