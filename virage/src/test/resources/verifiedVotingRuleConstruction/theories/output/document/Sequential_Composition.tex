%
\begin{isabellebody}%
\setisabellecontext{Sequential{\isacharunderscore}{\kern0pt}Composition}%
%
\isadelimdocument
\isanewline
%
\endisadelimdocument
%
\isatagdocument
\isanewline
\isanewline
%
\isamarkupsection{Sequential Composition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Sequential{\isacharunderscore}{\kern0pt}Composition\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Electoral{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Properties{\isacharslash}{\kern0pt}Result{\isacharunderscore}{\kern0pt}Properties{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
The sequential composition creates a new electoral module from
two electoral modules. In a sequential composition, the second
electoral module makes decisions over alternatives deferred by
the first electoral module.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Definition%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sequential{\isacharunderscore}{\kern0pt}composition\ m\ n\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}let\ new{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ p{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ limit{\isacharunderscore}{\kern0pt}profile\ new{\isacharunderscore}{\kern0pt}A\ p\ in\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}elect\ n\ new{\isacharunderscore}{\kern0pt}A\ new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}reject\ n\ new{\isacharunderscore}{\kern0pt}A\ new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ defer\ n\ new{\isacharunderscore}{\kern0pt}A\ new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ sequence\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ Electoral{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymtriangleright}{\isachardoublequoteclose}\ {\isadigit{5}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}m\ {\isasymtriangleright}\ n\ {\isacharequal}{\kern0pt}{\isacharequal}{\kern0pt}\ sequential{\isacharunderscore}{\kern0pt}composition\ m\ n{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}disjoint{\isadigit{3}}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}disjoint{\isadigit{3}}\ {\isacharparenleft}{\kern0pt}m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ well{\isacharunderscore}{\kern0pt}formed{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}disjoint{\isadigit{3}}\ {\isacharparenleft}{\kern0pt}n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ well{\isacharunderscore}{\kern0pt}formed{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasyminter}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\ subset{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasyminter}\ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\isanewline
\ \ \ \ \ \ \ \ \ \ rev{\isacharunderscore}{\kern0pt}subsetD\ result{\isacharunderscore}{\kern0pt}disj\ distrib{\isacharunderscore}{\kern0pt}imp{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ Int{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}distrib{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ result{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts\ sup{\isacharunderscore}{\kern0pt}bot{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}bot{\isachardot}{\kern0pt}neutr{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ sup{\isacharunderscore}{\kern0pt}bot{\isacharunderscore}{\kern0pt}right\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasyminter}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ set{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}mp\ result{\isacharunderscore}{\kern0pt}disj\ Int{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ Un{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}Int\ boolean{\isacharunderscore}{\kern0pt}algebra{\isacharunderscore}{\kern0pt}cancel{\isachardot}{\kern0pt}inf{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ inf{\isachardot}{\kern0pt}order{\isacharunderscore}{\kern0pt}iff\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}aci{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ subsetD\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasyminter}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ set{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}mp\isanewline
\ \ \ \ \ \ \ \ \ \ result{\isacharunderscore}{\kern0pt}disj\ Int{\isacharunderscore}{\kern0pt}commute\ boolean{\isacharunderscore}{\kern0pt}algebra{\isacharunderscore}{\kern0pt}cancel{\isachardot}{\kern0pt}inf{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}rej\ inf{\isachardot}{\kern0pt}commute\ inf{\isachardot}{\kern0pt}orderE\ inf{\isacharunderscore}{\kern0pt}commute\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ {\isadigit{3}}\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}aci{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ inf{\isacharunderscore}{\kern0pt}sup{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ result{\isacharunderscore}{\kern0pt}disj\ sup{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}absorb\ sup{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}distrib{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ distrib{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}bot{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}threshold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ {\isadigit{3}}\ disjoint{\isacharunderscore}{\kern0pt}n\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\ Un{\isacharunderscore}{\kern0pt}empty\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ {\isadigit{3}}\ f{\isacharunderscore}{\kern0pt}prof\ disjoint{\isacharunderscore}{\kern0pt}m\ disjoint{\isacharunderscore}{\kern0pt}n\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isadigit{2}}\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ distrib{\isacharunderscore}{\kern0pt}imp{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\ subset{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}distrib{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}disjoint{\isadigit{3}}\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ A\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ A\ {\isacharparenleft}{\kern0pt}m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isasymunion}\ reject\ m\ A\ p\ {\isasymunion}\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ result{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}n\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ f{\isacharunderscore}{\kern0pt}prof\ module{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharparenleft}{\kern0pt}n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\ well{\isacharunderscore}{\kern0pt}formed{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ \ \ \ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ A\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p\ {\isasymunion}\ elect\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ reject\ m\ A\ p\ {\isasymunion}\ reject\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ defer\ n\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}A\ {\isacharquery}{\kern0pt}new{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Soundness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{theorem}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ fin{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}r{\isachardot}{\kern0pt}\ well{\isacharunderscore}{\kern0pt}formed\ {\isacharparenleft}{\kern0pt}A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\ set{\isacharparenright}{\kern0pt}\ r\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}disjoint{\isadigit{3}}\ r\ {\isasymand}\ set{\isacharunderscore}{\kern0pt}equals{\isacharunderscore}{\kern0pt}partition\ A\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \ \ \ \ \ \ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}alts\ fin{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Lemmata%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ empty{\isacharunderscore}{\kern0pt}defer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ \ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{1}}\ Un{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}\ bot{\isachardot}{\kern0pt}extremum{\isacharunderscore}{\kern0pt}uniqueI\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ empty{\isacharunderscore}{\kern0pt}defer\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ prod{\isachardot}{\kern0pt}collapse\isanewline
\ \ \ \ \ \ \ \ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}then{\isacharunderscore}{\kern0pt}elect{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ electing{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electing\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}n\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bot{\isachardot}{\kern0pt}extremum{\isacharunderscore}{\kern0pt}uniqueI\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ electing{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ ele{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assm\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ finite\ \isacommand{have}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\ defers{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ singletonI\ subsetCE\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ele\ def\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ \isacommand{have}\isamarkupfalse%
\ rej{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ reject\ m\ A\ p\ {\isacharequal}{\kern0pt}\ A{\isacharminus}{\kern0pt}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}empty\ def{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}m\ defers{\isacharunderscore}{\kern0pt}def\ f{\isacharunderscore}{\kern0pt}prof\ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ele\ rej\ def\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A{\isacharminus}{\kern0pt}{\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}empty\ combine{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ elect\ n\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}bot{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}card\ def\ electing{\isacharunderscore}{\kern0pt}n\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymexists}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ electing{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}alt\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ prod{\isachardot}{\kern0pt}sel\isanewline
\ \ \ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}bot{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ def\ def{\isacharunderscore}{\kern0pt}card\ electing{\isacharunderscore}{\kern0pt}n\ n{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}m\ f{\isacharunderscore}{\kern0pt}prof\ res{\isacharunderscore}{\kern0pt}m\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}disjoint\ Diff{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}absorb\ Int{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}right\isanewline
\ \ \ \ \ \ \ \ \ \ Un{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}Int\ electing{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}alt\ empty{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\ prod{\isachardot}{\kern0pt}sel\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ singletonI\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}bounded{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}mono\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}then{\isacharunderscore}{\kern0pt}elect{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}elect\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ elect\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}commute\ fst{\isacharunderscore}{\kern0pt}conv\ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}red{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ module{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eliminates\ {\isadigit{1}}\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ enough{\isacharunderscore}{\kern0pt}leftover{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubset}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ enough{\isacharunderscore}{\kern0pt}leftover\ module{\isacharunderscore}{\kern0pt}m\ module{\isacharunderscore}{\kern0pt}n\ f{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ sequential{\isacharunderscore}{\kern0pt}composition{\isachardot}{\kern0pt}simps\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \ \ \ \ single{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}red{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\ snd{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymsubseteq}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}A\ p{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymlongrightarrow}\ well{\isacharunderscore}{\kern0pt}formed\ A\ {\isacharparenleft}{\kern0pt}n\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ electoral{\isacharunderscore}{\kern0pt}module{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ well{\isacharunderscore}{\kern0pt}formed\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}well{\isacharunderscore}{\kern0pt}formed\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ def{\isacharunderscore}{\kern0pt}presv{\isacharunderscore}{\kern0pt}fin{\isacharunderscore}{\kern0pt}prof\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ {\isacharparenleft}{\kern0pt}defer\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ n{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymand}\ electoral{\isacharunderscore}{\kern0pt}module\ n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}a\ {\isasymin}\ defer\ n\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}limit{\isacharunderscore}{\kern0pt}profile\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ a\ {\isasymin}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}bounded\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}mono\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}defers{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimML
\isanewline
%
\endisadelimML
%
\isatagML
\isacommand{ML}\isamarkupfalse%
\ {\isacartoucheopen}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharasterisk}{\kern0pt}\ val\ w\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Defs{\isachardot}{\kern0pt}all{\isacharunderscore}{\kern0pt}specifications{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}Theory{\isachardot}{\kern0pt}defs{\isacharunderscore}{\kern0pt}of\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ x\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ String{\isachardot}{\kern0pt}isPrefix\ {\isachardoublequote}{\kern0pt}Seq{\isachardoublequote}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ snd\ {\isacharparenleft}{\kern0pt}fst\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Defs{\isachardot}{\kern0pt}all{\isacharunderscore}{\kern0pt}specifications{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}Theory{\isachardot}{\kern0pt}defs{\isacharunderscore}{\kern0pt}of\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ y\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}String{\isachardot}{\kern0pt}isPrefix\ {\isacharparenleft}{\kern0pt}{\isachardoublequote}{\kern0pt}Sequential{\isacharunderscore}{\kern0pt}Composition{\isachardot}{\kern0pt}sequential{\isacharunderscore}{\kern0pt}composition{\isachardoublequote}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}fst\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Defs{\isachardot}{\kern0pt}all{\isacharunderscore}{\kern0pt}specifications{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}Theory{\isachardot}{\kern0pt}defs{\isacharunderscore}{\kern0pt}of\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ z\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ String{\isachardot}{\kern0pt}isPrefix\ {\isacharparenleft}{\kern0pt}{\isachardoublequote}{\kern0pt}Sequential{\isacharunderscore}{\kern0pt}Composition{\isachardot}{\kern0pt}sequential{\isacharunderscore}{\kern0pt}composition{\isacharunderscore}{\kern0pt}def{\isachardoublequote}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}description\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hd\ {\isacharparenleft}{\kern0pt}snd\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ val\ def\ {\isacharequal}{\kern0pt}\ hd\ z\isanewline
\ \ \ \ val\ def{\isacharunderscore}{\kern0pt}rhs\ {\isacharequal}{\kern0pt}\ {\isacharhash}{\kern0pt}rhs\ def\isanewline
\isanewline
\ \ \ \ val\ def{\isacharunderscore}{\kern0pt}funs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ String{\isachardot}{\kern0pt}isPrefix\ {\isacharparenleft}{\kern0pt}{\isachardoublequote}{\kern0pt}fun{\isachardoublequote}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}fst\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}def{\isacharunderscore}{\kern0pt}rhs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ def{\isacharunderscore}{\kern0pt}consts\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ not\ {\isacharparenleft}{\kern0pt}String{\isachardot}{\kern0pt}isPrefix\ {\isacharparenleft}{\kern0pt}{\isachardoublequote}{\kern0pt}fun{\isachardoublequote}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}fst\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}def{\isacharunderscore}{\kern0pt}rhs{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ val\ fun{\isacharunderscore}{\kern0pt}type\ {\isacharequal}{\kern0pt}\ Defs{\isachardot}{\kern0pt}pretty{\isacharunderscore}{\kern0pt}entry\ {\isacharparenleft}{\kern0pt}Defs{\isachardot}{\kern0pt}global{\isacharunderscore}{\kern0pt}context\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}last\ def{\isacharunderscore}{\kern0pt}funs{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}{\isacharasterisk}{\kern0pt}\ val\ a\ {\isacharequal}{\kern0pt}\ Defs{\isachardot}{\kern0pt}pretty{\isacharunderscore}{\kern0pt}entry\ {\isacharparenleft}{\kern0pt}Defs{\isachardot}{\kern0pt}global{\isacharunderscore}{\kern0pt}context\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nth\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}lhs\ {\isacharparenleft}{\kern0pt}hd\ z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharhash}{\kern0pt}rhs\ {\isacharparenleft}{\kern0pt}hd\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenright}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ {\isacartoucheclose}\isanewline
\isanewline
\isacommand{ML}\isamarkupfalse%
\ {\isacartoucheopen}\ val\ facts\ {\isacharequal}{\kern0pt}\ Global{\isacharunderscore}{\kern0pt}Theory{\isachardot}{\kern0pt}facts{\isacharunderscore}{\kern0pt}of\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}\ \isanewline
\ \ \ \ \ val\ filtered\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ true{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacartoucheclose}\isanewline
\isanewline
\isacommand{ML{\isacharunderscore}{\kern0pt}val}\isamarkupfalse%
\ {\isacartoucheopen}val\ seq{\isacharunderscore}{\kern0pt}consts\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}String{\isachardot}{\kern0pt}isPrefix\ {\isacharparenleft}{\kern0pt}Context{\isachardot}{\kern0pt}theory{\isacharunderscore}{\kern0pt}name\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ {\isacharparenleft}{\kern0pt}fst\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}Defs{\isachardot}{\kern0pt}all{\isacharunderscore}{\kern0pt}specifications{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}Theory{\isachardot}{\kern0pt}defs{\isacharunderscore}{\kern0pt}of\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ names\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}description\ {\isacharparenleft}{\kern0pt}hd\ {\isacharparenleft}{\kern0pt}snd{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ seq{\isacharunderscore}{\kern0pt}consts\isanewline
\ \ \ \ val\ seq{\isacharunderscore}{\kern0pt}defs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}String{\isachardot}{\kern0pt}isSuffix\ {\isacharparenleft}{\kern0pt}{\isachardoublequote}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isachardoublequote}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ names\ \isanewline
\ \ \ \ val\ strip{\isacharunderscore}{\kern0pt}fun\ {\isacharequal}{\kern0pt}\ fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ String{\isachardot}{\kern0pt}substring\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}String{\isachardot}{\kern0pt}size\ x{\isacharparenright}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ seq{\isacharunderscore}{\kern0pt}defs{\isacharunderscore}{\kern0pt}stripped\ {\isacharequal}{\kern0pt}\ map\ strip{\isacharunderscore}{\kern0pt}fun\ seq{\isacharunderscore}{\kern0pt}defs\isanewline
\isanewline
\ \ \ \ fun\ member{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}item{\isacharcomma}{\kern0pt}\ list{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ List{\isachardot}{\kern0pt}exists\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ item{\isacharparenright}{\kern0pt}\ list\isanewline
\ \ \ \ val\ filter{\isacharunderscore}{\kern0pt}fun\ {\isacharequal}{\kern0pt}\ fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ member{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ seq{\isacharunderscore}{\kern0pt}defs{\isacharunderscore}{\kern0pt}stripped{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ val\ constants\ {\isacharequal}{\kern0pt}\ {\isacharhash}{\kern0pt}constants\ {\isacharparenleft}{\kern0pt}Consts{\isachardot}{\kern0pt}dest\ {\isacharparenleft}{\kern0pt}Sign{\isachardot}{\kern0pt}consts{\isacharunderscore}{\kern0pt}of\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ filtered{\isacharunderscore}{\kern0pt}constants\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}filter{\isacharunderscore}{\kern0pt}fun{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ fst\ constants{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ val\ reduce{\isacharunderscore}{\kern0pt}noise\ {\isacharequal}{\kern0pt}\ fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ not\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}String{\isachardot}{\kern0pt}isSuffix\ {\isachardoublequote}{\kern0pt}{\isacharunderscore}{\kern0pt}graph{\isachardoublequote}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orelse\ {\isacharparenleft}{\kern0pt}String{\isachardot}{\kern0pt}isSuffix\ {\isachardoublequote}{\kern0pt}{\isacharunderscore}{\kern0pt}sumC{\isachardoublequote}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ orelse\ {\isacharparenleft}{\kern0pt}String{\isachardot}{\kern0pt}isSuffix\ {\isachardoublequote}{\kern0pt}{\isacharunderscore}{\kern0pt}rel{\isachardoublequote}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\isanewline
\ \ \ \ val\ actual{\isacharunderscore}{\kern0pt}constants\ {\isacharequal}{\kern0pt}\ filter\ reduce{\isacharunderscore}{\kern0pt}noise\ filtered{\isacharunderscore}{\kern0pt}constants\isanewline
\isanewline
\ \ \ \ val\ constants\ {\isacharequal}{\kern0pt}\ {\isacharhash}{\kern0pt}constants\ {\isacharparenleft}{\kern0pt}Consts{\isachardot}{\kern0pt}dest\ {\isacharparenleft}{\kern0pt}Sign{\isachardot}{\kern0pt}consts{\isacharunderscore}{\kern0pt}of\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ filter{\isacharunderscore}{\kern0pt}fun{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ member{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}fst\ x{\isacharcomma}{\kern0pt}\ actual{\isacharunderscore}{\kern0pt}constants{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ val\ sign\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ {\isacharparenleft}{\kern0pt}snd\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}filter\ filter{\isacharunderscore}{\kern0pt}fun{\isadigit{2}}\ constants{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\isanewline
\isanewline
\ \ \ \ val\ x\ {\isacharequal}{\kern0pt}\ hd\ sign\isanewline
\isanewline
\ \ \ \ val\ x{\isacharunderscore}{\kern0pt}string\ {\isacharequal}{\kern0pt}\ Syntax{\isachardot}{\kern0pt}string{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}typ{\isacharunderscore}{\kern0pt}global\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}\ x\isanewline
\isanewline
\ \ \ \ val\ x{\isacharunderscore}{\kern0pt}pretty\ {\isacharequal}{\kern0pt}\ Syntax{\isachardot}{\kern0pt}pretty{\isacharunderscore}{\kern0pt}typ{\isacharunderscore}{\kern0pt}global\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}\ x\isanewline
\isanewline
\ \ \ \ val\ x{\isacharunderscore}{\kern0pt}pretty{\isacharunderscore}{\kern0pt}string\ {\isacharequal}{\kern0pt}\ Pretty{\isachardot}{\kern0pt}string{\isacharunderscore}{\kern0pt}of\ x{\isacharunderscore}{\kern0pt}pretty\isanewline
\isanewline
\ \ \ \ val\ y\ {\isacharequal}{\kern0pt}\ Logic{\isachardot}{\kern0pt}mk{\isacharunderscore}{\kern0pt}type\ x\isanewline
\isanewline
\ \ \ \ val\ n\ {\isacharequal}{\kern0pt}\ Term{\isachardot}{\kern0pt}size{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}typ\ x\isanewline
\isanewline
\ \ \ \ val\ pm\ {\isacharequal}{\kern0pt}\ fn\ Basic{\isacharunderscore}{\kern0pt}Term{\isachardot}{\kern0pt}Type\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ snd\ x\isanewline
\isanewline
\ \ \ \ fun\ collapse\ {\isacharparenleft}{\kern0pt}lst{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ list\ list{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ case\ lst\ of\isanewline
\ \ \ \ \ \ \ \ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharbar}{\kern0pt}\ hd{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}tl\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ hd\ {\isacharat}{\kern0pt}\ collapse\ tl\isanewline
\isanewline
\ \ \ \ val\ a\ {\isacharequal}{\kern0pt}\ fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\isanewline
\ \ \ \ \ \ let\isanewline
\ \ \ \ \ \ \ \ fun\ typ{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}string\ {\isacharparenleft}{\kern0pt}x{\isacharcolon}{\kern0pt}\ Basic{\isacharunderscore}{\kern0pt}Term{\isachardot}{\kern0pt}typ{\isacharparenright}{\kern0pt}{\isacharcolon}{\kern0pt}\ string\ {\isacharequal}{\kern0pt}\ case\ x\ of\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Type\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isachardoublequote}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isachardoublequote}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ x{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ String{\isachardot}{\kern0pt}concat\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}typ{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}string{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isachardoublequote}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequote}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbar}{\kern0pt}\ \ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isachardoublequote}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequote}{\kern0pt}\isanewline
\ \ \ \ \ \ \ in\isanewline
\ \ \ \ \ \ \ \ typ{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}string\ x\isanewline
\ \ \ \ \ \ end\isanewline
\ \ \ \ \ \ \ \isanewline
\ \ \ \ val\ x{\isacharunderscore}{\kern0pt}string{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ a\ x\isanewline
\isanewline
\ \ \ \ val\ z\ {\isacharequal}{\kern0pt}\ Term{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}Bound\ y\isanewline
\isanewline
\isanewline
\isanewline
val\ a\ {\isacharequal}{\kern0pt}\ fn\ thy\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}constants\ {\isacharparenleft}{\kern0pt}Consts{\isachardot}{\kern0pt}dest\ {\isacharparenleft}{\kern0pt}Sign{\isachardot}{\kern0pt}consts{\isacharunderscore}{\kern0pt}of\ thy{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ let\ fun\ typ{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}string\ {\isacharparenleft}{\kern0pt}x{\isacharcolon}{\kern0pt}\ Basic{\isacharunderscore}{\kern0pt}Term{\isachardot}{\kern0pt}typ{\isacharparenright}{\kern0pt}{\isacharcolon}{\kern0pt}\ string\ {\isacharequal}{\kern0pt}\ case\ x\ of\isanewline
Type\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isachardoublequote}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isachardoublequote}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ x{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ String{\isachardot}{\kern0pt}concat\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}typ{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}string{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isachardoublequote}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequote}{\kern0pt}\isanewline
{\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isachardoublequote}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequote}{\kern0pt}\ in\ typ{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}string\ x\ end{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ {\isacharparenleft}{\kern0pt}snd\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}constants\ {\isacharparenleft}{\kern0pt}Consts{\isachardot}{\kern0pt}dest\ {\isacharparenleft}{\kern0pt}Sign{\isachardot}{\kern0pt}consts{\isacharunderscore}{\kern0pt}of\ thy{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ val\ b\ {\isacharequal}{\kern0pt}\ rev\ {\isacharparenleft}{\kern0pt}ListPair{\isachardot}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}a\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ {\isacartoucheclose}\isanewline
\isanewline
\isacommand{ML}\isamarkupfalse%
\ {\isacartoucheopen}\isanewline
\ \ \ \ val\ constants\ {\isacharequal}{\kern0pt}\ {\isacharhash}{\kern0pt}constants\ {\isacharparenleft}{\kern0pt}Consts{\isachardot}{\kern0pt}dest\ {\isacharparenleft}{\kern0pt}Sign{\isachardot}{\kern0pt}consts{\isacharunderscore}{\kern0pt}of\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ val\ sign{\isadigit{2}}\ {\isacharequal}{\kern0pt}rev\ \ {\isacharparenleft}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fst\ \ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ constants\ {\isacharparenright}{\kern0pt}\ {\isacartoucheclose}\isanewline
\isanewline
\isanewline
\isacommand{ML{\isacharunderscore}{\kern0pt}val}\isamarkupfalse%
\ {\isacartoucheopen}\isanewline
val\ thms\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}fn\ x\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ fst\ {\isacharparenleft}{\kern0pt}snd\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Global{\isacharunderscore}{\kern0pt}Theory{\isachardot}{\kern0pt}dest{\isacharunderscore}{\kern0pt}thm{\isacharunderscore}{\kern0pt}names\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
val\ thm\ {\isacharequal}{\kern0pt}\ Global{\isacharunderscore}{\kern0pt}Theory{\isachardot}{\kern0pt}get{\isacharunderscore}{\kern0pt}thm\ {\isacharat}{\kern0pt}{\isacharbraceleft}{\kern0pt}theory{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hd\ {\isacharparenleft}{\kern0pt}rev\ thms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
{\isacharparenleft}{\kern0pt}Syntax{\isachardot}{\kern0pt}string{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}global\ \isactrltheory {\isasymopen}Main{\isasymclose}\ {\isacharparenleft}{\kern0pt}Thm{\isachardot}{\kern0pt}prop{\isacharunderscore}{\kern0pt}of\ thm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}{\isachargreater}{\kern0pt}\ writeln\isanewline
{\isacartoucheclose}%
\endisatagML
{\isafoldML}%
%
\isadelimML
\ \isanewline
%
\endisadelimML
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/verifiedVotingRuleConstruction/theories/Compositional_Framework/Components/Compositional_Structures/Sequential_Composition.thy%:%
%:%6=3%:%
%:%11=4%:%
%:%12=5%:%
%:%14=8%:%
%:%30=10%:%
%:%31=10%:%
%:%32=11%:%
%:%33=12%:%
%:%34=13%:%
%:%35=14%:%
%:%44=17%:%
%:%45=18%:%
%:%46=19%:%
%:%47=20%:%
%:%56=22%:%
%:%66=24%:%
%:%67=24%:%
%:%68=25%:%
%:%69=26%:%
%:%74=31%:%
%:%75=32%:%
%:%76=33%:%
%:%77=33%:%
%:%78=34%:%
%:%79=35%:%
%:%80=36%:%
%:%81=37%:%
%:%82=38%:%
%:%83=38%:%
%:%84=39%:%
%:%85=40%:%
%:%86=41%:%
%:%87=42%:%
%:%94=43%:%
%:%95=43%:%
%:%96=44%:%
%:%97=44%:%
%:%98=45%:%
%:%99=45%:%
%:%100=46%:%
%:%101=46%:%
%:%102=46%:%
%:%103=47%:%
%:%104=47%:%
%:%105=48%:%
%:%106=48%:%
%:%107=49%:%
%:%108=49%:%
%:%109=49%:%
%:%110=50%:%
%:%111=51%:%
%:%112=51%:%
%:%113=52%:%
%:%114=52%:%
%:%115=53%:%
%:%116=53%:%
%:%117=53%:%
%:%118=54%:%
%:%119=55%:%
%:%120=55%:%
%:%121=56%:%
%:%122=57%:%
%:%123=57%:%
%:%124=58%:%
%:%125=58%:%
%:%126=59%:%
%:%127=59%:%
%:%128=60%:%
%:%129=61%:%
%:%130=61%:%
%:%131=62%:%
%:%132=63%:%
%:%133=64%:%
%:%134=65%:%
%:%135=66%:%
%:%136=66%:%
%:%137=67%:%
%:%138=67%:%
%:%139=68%:%
%:%140=68%:%
%:%141=69%:%
%:%142=70%:%
%:%143=70%:%
%:%144=71%:%
%:%145=72%:%
%:%146=73%:%
%:%147=74%:%
%:%148=74%:%
%:%149=75%:%
%:%150=75%:%
%:%151=76%:%
%:%152=76%:%
%:%153=77%:%
%:%154=78%:%
%:%155=78%:%
%:%156=79%:%
%:%157=80%:%
%:%158=81%:%
%:%159=81%:%
%:%160=82%:%
%:%161=82%:%
%:%162=82%:%
%:%163=83%:%
%:%164=84%:%
%:%165=85%:%
%:%166=85%:%
%:%167=86%:%
%:%168=87%:%
%:%169=88%:%
%:%170=88%:%
%:%171=89%:%
%:%172=89%:%
%:%173=89%:%
%:%174=89%:%
%:%175=90%:%
%:%176=91%:%
%:%177=92%:%
%:%178=92%:%
%:%179=93%:%
%:%180=93%:%
%:%181=94%:%
%:%182=94%:%
%:%183=94%:%
%:%184=95%:%
%:%185=95%:%
%:%186=96%:%
%:%187=97%:%
%:%188=98%:%
%:%189=98%:%
%:%190=99%:%
%:%191=100%:%
%:%192=101%:%
%:%193=101%:%
%:%194=102%:%
%:%195=102%:%
%:%196=102%:%
%:%197=103%:%
%:%199=105%:%
%:%200=106%:%
%:%201=106%:%
%:%202=107%:%
%:%203=107%:%
%:%204=108%:%
%:%205=108%:%
%:%206=109%:%
%:%207=109%:%
%:%208=110%:%
%:%214=110%:%
%:%217=111%:%
%:%218=112%:%
%:%219=112%:%
%:%220=113%:%
%:%221=114%:%
%:%222=115%:%
%:%223=116%:%
%:%230=117%:%
%:%231=117%:%
%:%232=118%:%
%:%233=118%:%
%:%234=119%:%
%:%235=119%:%
%:%236=120%:%
%:%237=120%:%
%:%238=120%:%
%:%239=121%:%
%:%240=121%:%
%:%241=122%:%
%:%242=122%:%
%:%243=122%:%
%:%244=123%:%
%:%245=124%:%
%:%246=124%:%
%:%247=125%:%
%:%248=125%:%
%:%249=125%:%
%:%250=126%:%
%:%251=127%:%
%:%252=127%:%
%:%253=128%:%
%:%254=128%:%
%:%255=129%:%
%:%256=129%:%
%:%257=129%:%
%:%258=130%:%
%:%260=132%:%
%:%261=133%:%
%:%262=133%:%
%:%263=134%:%
%:%264=134%:%
%:%265=135%:%
%:%266=135%:%
%:%267=135%:%
%:%268=136%:%
%:%270=138%:%
%:%271=139%:%
%:%272=139%:%
%:%273=140%:%
%:%274=140%:%
%:%275=141%:%
%:%278=144%:%
%:%279=145%:%
%:%280=145%:%
%:%281=146%:%
%:%282=146%:%
%:%283=147%:%
%:%284=147%:%
%:%285=148%:%
%:%286=148%:%
%:%287=149%:%
%:%302=151%:%
%:%312=153%:%
%:%313=153%:%
%:%314=154%:%
%:%315=155%:%
%:%316=156%:%
%:%319=157%:%
%:%323=157%:%
%:%324=157%:%
%:%325=158%:%
%:%326=158%:%
%:%327=159%:%
%:%328=159%:%
%:%329=160%:%
%:%330=161%:%
%:%331=162%:%
%:%332=162%:%
%:%333=163%:%
%:%334=164%:%
%:%335=165%:%
%:%336=165%:%
%:%337=166%:%
%:%338=167%:%
%:%339=167%:%
%:%340=168%:%
%:%341=168%:%
%:%342=169%:%
%:%343=169%:%
%:%344=170%:%
%:%345=171%:%
%:%346=171%:%
%:%347=172%:%
%:%362=174%:%
%:%372=176%:%
%:%373=176%:%
%:%374=177%:%
%:%375=178%:%
%:%376=179%:%
%:%377=180%:%
%:%378=181%:%
%:%379=182%:%
%:%382=183%:%
%:%386=183%:%
%:%387=183%:%
%:%388=184%:%
%:%389=185%:%
%:%390=186%:%
%:%391=187%:%
%:%392=187%:%
%:%397=187%:%
%:%400=188%:%
%:%401=189%:%
%:%402=189%:%
%:%403=190%:%
%:%404=191%:%
%:%405=192%:%
%:%406=193%:%
%:%407=194%:%
%:%408=195%:%
%:%415=196%:%
%:%416=196%:%
%:%417=197%:%
%:%418=197%:%
%:%419=198%:%
%:%420=198%:%
%:%421=198%:%
%:%422=199%:%
%:%423=199%:%
%:%424=200%:%
%:%425=201%:%
%:%426=201%:%
%:%427=202%:%
%:%428=202%:%
%:%429=203%:%
%:%430=203%:%
%:%431=204%:%
%:%432=204%:%
%:%433=204%:%
%:%434=205%:%
%:%435=205%:%
%:%436=206%:%
%:%437=206%:%
%:%438=207%:%
%:%439=207%:%
%:%440=207%:%
%:%441=208%:%
%:%442=209%:%
%:%443=209%:%
%:%444=210%:%
%:%445=210%:%
%:%446=210%:%
%:%447=211%:%
%:%448=212%:%
%:%449=212%:%
%:%450=213%:%
%:%451=214%:%
%:%452=214%:%
%:%453=215%:%
%:%454=215%:%
%:%455=215%:%
%:%456=216%:%
%:%457=217%:%
%:%458=217%:%
%:%459=218%:%
%:%460=218%:%
%:%461=219%:%
%:%462=219%:%
%:%463=219%:%
%:%464=220%:%
%:%465=221%:%
%:%466=221%:%
%:%467=222%:%
%:%468=223%:%
%:%469=223%:%
%:%470=224%:%
%:%471=224%:%
%:%472=225%:%
%:%473=226%:%
%:%474=227%:%
%:%475=227%:%
%:%476=228%:%
%:%477=229%:%
%:%478=229%:%
%:%479=230%:%
%:%480=230%:%
%:%481=230%:%
%:%482=231%:%
%:%483=232%:%
%:%484=232%:%
%:%485=233%:%
%:%486=234%:%
%:%487=235%:%
%:%488=235%:%
%:%489=236%:%
%:%490=236%:%
%:%491=237%:%
%:%492=237%:%
%:%493=238%:%
%:%494=238%:%
%:%495=239%:%
%:%496=240%:%
%:%497=241%:%
%:%498=242%:%
%:%499=242%:%
%:%500=243%:%
%:%506=243%:%
%:%509=244%:%
%:%510=245%:%
%:%511=245%:%
%:%512=246%:%
%:%513=247%:%
%:%514=248%:%
%:%515=249%:%
%:%516=250%:%
%:%519=251%:%
%:%523=251%:%
%:%524=251%:%
%:%525=252%:%
%:%526=253%:%
%:%527=253%:%
%:%532=253%:%
%:%535=254%:%
%:%536=255%:%
%:%537=255%:%
%:%538=256%:%
%:%539=257%:%
%:%540=258%:%
%:%541=259%:%
%:%542=260%:%
%:%545=261%:%
%:%549=261%:%
%:%550=261%:%
%:%551=262%:%
%:%552=263%:%
%:%553=263%:%
%:%558=263%:%
%:%561=264%:%
%:%562=265%:%
%:%563=265%:%
%:%564=266%:%
%:%565=267%:%
%:%566=268%:%
%:%567=269%:%
%:%568=270%:%
%:%569=271%:%
%:%570=272%:%
%:%573=273%:%
%:%577=273%:%
%:%578=273%:%
%:%579=274%:%
%:%580=274%:%
%:%585=274%:%
%:%588=275%:%
%:%589=276%:%
%:%590=276%:%
%:%591=277%:%
%:%592=278%:%
%:%593=279%:%
%:%594=280%:%
%:%595=281%:%
%:%596=282%:%
%:%598=284%:%
%:%601=285%:%
%:%605=285%:%
%:%606=285%:%
%:%607=286%:%
%:%608=286%:%
%:%613=286%:%
%:%616=287%:%
%:%617=288%:%
%:%618=288%:%
%:%619=289%:%
%:%620=290%:%
%:%621=291%:%
%:%622=292%:%
%:%623=293%:%
%:%624=294%:%
%:%627=295%:%
%:%631=295%:%
%:%632=295%:%
%:%633=296%:%
%:%634=297%:%
%:%635=298%:%
%:%636=298%:%
%:%641=298%:%
%:%644=299%:%
%:%645=300%:%
%:%646=300%:%
%:%647=301%:%
%:%648=302%:%
%:%649=303%:%
%:%650=304%:%
%:%651=305%:%
%:%658=306%:%
%:%659=306%:%
%:%660=307%:%
%:%661=307%:%
%:%662=308%:%
%:%663=308%:%
%:%664=309%:%
%:%665=309%:%
%:%666=310%:%
%:%667=310%:%
%:%668=311%:%
%:%670=313%:%
%:%671=314%:%
%:%672=314%:%
%:%673=315%:%
%:%674=315%:%
%:%675=316%:%
%:%676=317%:%
%:%677=318%:%
%:%678=318%:%
%:%679=319%:%
%:%680=319%:%
%:%681=320%:%
%:%682=320%:%
%:%683=321%:%
%:%684=321%:%
%:%685=322%:%
%:%686=322%:%
%:%687=323%:%
%:%693=323%:%
%:%696=324%:%
%:%697=325%:%
%:%698=325%:%
%:%699=326%:%
%:%700=327%:%
%:%701=328%:%
%:%702=329%:%
%:%703=330%:%
%:%704=331%:%
%:%706=333%:%
%:%709=334%:%
%:%713=334%:%
%:%714=334%:%
%:%715=335%:%
%:%716=336%:%
%:%717=336%:%
%:%722=336%:%
%:%727=337%:%
%:%732=338%:%
%:%733=338%:%
%:%750=355%:%
%:%751=356%:%
%:%752=357%:%
%:%753=357%:%
%:%754=358%:%
%:%755=359%:%
%:%756=360%:%
%:%757=360%:%
%:%821=424%:%
%:%822=425%:%
%:%823=426%:%
%:%824=426%:%
%:%827=429%:%
%:%828=430%:%
%:%829=431%:%
%:%830=432%:%
%:%831=432%:%
%:%840=436%:%
%:%845=437%:%
%:%850=438%:%