%
\begin{isabellebody}%
\setisabellecontext{Condorcet{\isacharunderscore}{\kern0pt}Rules}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Condorcet{\isacharunderscore}{\kern0pt}Rules\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Properties{\isacharslash}{\kern0pt}Condorcet{\isacharunderscore}{\kern0pt}Properties{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Social{\isacharunderscore}{\kern0pt}Choice{\isacharunderscore}{\kern0pt}Properties{\isacharslash}{\kern0pt}Condorcet{\isacharunderscore}{\kern0pt}Consistency{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Compositional{\isacharunderscore}{\kern0pt}Structures{\isacharslash}{\kern0pt}Sequential{\isacharunderscore}{\kern0pt}Composition{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Composites{\isacharslash}{\kern0pt}Composite{\isacharunderscore}{\kern0pt}Elimination{\isacharunderscore}{\kern0pt}Modules{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Composites{\isacharslash}{\kern0pt}Composite{\isacharunderscore}{\kern0pt}Structures{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Components{\isacharslash}{\kern0pt}Basic{\isacharunderscore}{\kern0pt}Modules{\isacharslash}{\kern0pt}Elect{\isacharunderscore}{\kern0pt}Module{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}val{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ rating{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}rating\ e{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ winner{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}e\ w\ A\ p\ {\isacharequal}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ a\ A\ p\ {\isacharbar}{\kern0pt}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}set\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}e\ a\ A\ p\ {\isacharbar}{\kern0pt}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ {\isacharquery}{\kern0pt}eMax\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Max\ {\isacharbraceleft}{\kern0pt}e\ a\ A\ p\ {\isacharbar}{\kern0pt}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ {\isacharquery}{\kern0pt}eW\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}e\ w\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}prof\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}set\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}winner{\isachardot}{\kern0pt}simps\ winner\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}eW\ {\isasymin}\ {\isacharquery}{\kern0pt}set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ CollectI\ condorcet{\isacharunderscore}{\kern0pt}winner{\isachardot}{\kern0pt}simps\ winner\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}\ e\ {\isasymin}\ {\isacharquery}{\kern0pt}set\ {\isachardot}{\kern0pt}\ e\ {\isasymle}\ {\isacharquery}{\kern0pt}eW{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ CollectD\ condorcet{\isacharunderscore}{\kern0pt}rating{\isacharunderscore}{\kern0pt}def\ eq{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}order\ rating\ winner\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{2}}\ {\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{4}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}eW\ {\isasymin}\ {\isacharquery}{\kern0pt}set\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}a\ {\isasymin}\ {\isacharquery}{\kern0pt}set{\isachardot}{\kern0pt}\ a\ {\isasymle}\ {\isacharquery}{\kern0pt}eW{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{4}}\ Max{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}eval{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ rating{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}rating\ e{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ winner{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ linA{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}l\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ loser{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymnoteq}\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}e\ l\ A\ p\ {\isacharless}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ a\ A\ p\ {\isacharbar}{\kern0pt}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ l\ A\ p\ {\isacharless}{\kern0pt}\ e\ w\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}rating{\isacharunderscore}{\kern0pt}def\ linA\ loser\ rating\ winner\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ w\ A\ p\ {\isacharequal}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ a\ A\ p\ {\isacharbar}{\kern0pt}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}val\ f{\isacharunderscore}{\kern0pt}prof\ rating\ winner\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ cr{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}ccomp{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}elim{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ profile{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rating{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}rating\ e{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}compatibility\ {\isacharparenleft}{\kern0pt}max{\isacharunderscore}{\kern0pt}eliminator\ e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}A\ p\ w\ x{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ finite\ A\ {\isasymLongrightarrow}\ w\ {\isasymin}\ A\ {\isasymLongrightarrow}\ e\ w\ A\ p\ {\isacharless}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ x\ A\ p\ {\isacharbar}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ x\ {\isasymin}\ A\ {\isasymLongrightarrow}\ e\ x\ A\ p\ {\isacharless}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ x\ A\ p\ {\isacharbar}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rating\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}val{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}A\ p\ w\ x{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ profile\ A\ p\ {\isasymLongrightarrow}\ w\ {\isasymin}\ A\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ finite\ A\ {\isasymLongrightarrow}\ e\ w\ A\ p\ {\isacharless}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ x\ A\ p\ {\isacharbar}{\kern0pt}\ x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ x\ {\isasymin}\ A\ {\isasymLongrightarrow}\ e\ x\ A\ p\ {\isacharless}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ x\ A\ p\ {\isacharbar}{\kern0pt}\ x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ dcc{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}cc{\isacharunderscore}{\kern0pt}elector{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ dcc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}consistency\ {\isacharparenleft}{\kern0pt}elector\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ {\isacharparenleft}{\kern0pt}m\ {\isasymtriangleright}\ elect{\isacharunderscore}{\kern0pt}module{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dcc\ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ elect{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}sound\ seq{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}A\ p\ w\ x{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ finite\ A\ {\isasymLongrightarrow}\ profile\ A\ p\ {\isasymLongrightarrow}\ w\ {\isasymin}\ A\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ x\ {\isasymin}\ elect\ m\ A\ p\ {\isasymLongrightarrow}\ x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ x\ {\isasymin}\ elect\ m\ A\ p\ {\isasymLongrightarrow}\ x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dcc\ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elect{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ subset{\isacharunderscore}{\kern0pt}eq\ finite\ prof{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ elect\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xa\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}winner{\isachardot}{\kern0pt}simps\ dcc\ fst{\isacharunderscore}{\kern0pt}conv\ insert{\isacharunderscore}{\kern0pt}Diff\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ insert{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ condorcet{\isacharunderscore}{\kern0pt}winner{\isachardot}{\kern0pt}simps\ dcc\ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ order{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \ \ \ \ subset{\isacharunderscore}{\kern0pt}Compl{\isacharunderscore}{\kern0pt}singleton\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ xa\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ xa{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xa\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ xa{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}xa{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}xa\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\ condorcet{\isacharunderscore}{\kern0pt}winner{\isachardot}{\kern0pt}simps\ dcc\ empty{\isacharunderscore}{\kern0pt}iff\ xa{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardoublequoteclose}\ DiffI\isanewline
\ \ \ \ \ \ \ \ \ \ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{3}}\ insert{\isacharunderscore}{\kern0pt}iff\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ defer\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ elect\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ condorcet{\isacharunderscore}{\kern0pt}winner{\isachardot}{\kern0pt}simps\ dcc\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{3}}\ insert{\isacharunderscore}{\kern0pt}iff\ eq{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ dcc\ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ finite\isanewline
\ \ \ \ \ \ \ \ \ \ prof{\isacharunderscore}{\kern0pt}A\ reject{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ subsetD\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ elect\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ condorcet{\isacharunderscore}{\kern0pt}winner{\isachardot}{\kern0pt}simps\ dcc\ IntI\ empty{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ reject\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ defer\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ dcc\ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ IntI\isanewline
\ \ \ \ \ \ \ \ \ \ Diff{\isacharunderscore}{\kern0pt}empty\ Diff{\isacharunderscore}{\kern0pt}iff\ finite\ prof{\isacharunderscore}{\kern0pt}A\ result{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ reject\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ defer\ m\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ elect\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardoublequoteclose}\ condorcet{\isacharunderscore}{\kern0pt}winner{\isachardot}{\kern0pt}simps\ dcc\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ccomp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}dd{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}winner{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ ccomp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}compatibility\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ dd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}deciding\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ winner{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ dd\ \isacommand{have}\isamarkupfalse%
\ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}defers\ {\isadigit{1}}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}deciding{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}win{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p\ {\isasymand}\ \ w\ {\isasymin}\ A\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ {\isachardot}{\kern0pt}\ wins\ w\ p\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ winner\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}defer\ m\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}leI\ card{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ def{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ defers{\isacharunderscore}{\kern0pt}def\ equals{\isadigit{0}}D\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}x\ {\isasymin}\ A\ {\isachardot}{\kern0pt}\ defer\ m\ A\ p\ {\isacharequal}{\kern0pt}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}singletonE\ dd\ defer{\isacharunderscore}{\kern0pt}deciding{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ defer{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}alts\ insert{\isacharunderscore}{\kern0pt}subset\ c{\isacharunderscore}{\kern0pt}win\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}w\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}l\ {\isasymin}\ A\ {\isachardot}{\kern0pt}\ l\ {\isasymnoteq}\ w\ {\isasymand}\ defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}l{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}defer{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymnotin}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}non{\isacharunderscore}{\kern0pt}electing\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dd\ defer{\isacharunderscore}{\kern0pt}deciding{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}elect{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymnotin}\ elect\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}win\ equals{\isadigit{0}}D\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}defer\ not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}elect\ \isacommand{have}\isamarkupfalse%
\ one{\isacharunderscore}{\kern0pt}side{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}w\ {\isasymin}\ reject\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ccomp\ condorcet{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ c{\isacharunderscore}{\kern0pt}win\isanewline
\ \ \ \ \ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}defer{\isacharunderscore}{\kern0pt}elem\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ccomp\ \isacommand{have}\isamarkupfalse%
\ other{\isacharunderscore}{\kern0pt}side{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymnotin}\ reject\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}compatibility{\isacharunderscore}{\kern0pt}def\ c{\isacharunderscore}{\kern0pt}win\ winner\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ hide{\isacharunderscore}{\kern0pt}lams{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ one{\isacharunderscore}{\kern0pt}side{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ ccomp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}dd{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dcc{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ ccomp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}compatibility\ m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ dd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}deciding\ m{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency\ m{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}unfold\ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dd\ defer{\isacharunderscore}{\kern0pt}deciding{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ finiteness{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ winner{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ finiteness\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ defer\ m\ A\ p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}d\ {\isasymin}\ A{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ d{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ dd\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}elect\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}deciding{\isacharunderscore}{\kern0pt}def\ non{\isacharunderscore}{\kern0pt}electing{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ winner\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ dd\ ccomp\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}defer\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ccomp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}dd{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}winner\ winner\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}reject\ m\ A\ p\ {\isacharequal}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ defer\ m\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Diff{\isacharunderscore}{\kern0pt}empty\ dd\ defer{\isacharunderscore}{\kern0pt}deciding{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ reject{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}elec{\isacharunderscore}{\kern0pt}or{\isacharunderscore}{\kern0pt}def\ winner\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isadigit{0}}\ {\isadigit{1}}\ {\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ defer\ m\ A\ p{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}ele{\isacharunderscore}{\kern0pt}rej{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}d\ {\isasymin}\ A{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ d{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{3}}\ winner\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ defer\ m\ A\ p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}d\ {\isasymin}\ A{\isachardot}{\kern0pt}\ {\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}d{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ wins\ d\ p\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finiteness\ prof{\isacharunderscore}{\kern0pt}A\ winner\ Collect{\isacharunderscore}{\kern0pt}cong\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ defer\ m\ A\ p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}d\ {\isasymin}\ A{\isachardot}{\kern0pt}\ {\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}d{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ d\ {\isacharless}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ d\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ defer\ m\ A\ p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}d\ {\isasymin}\ A{\isachardot}{\kern0pt}\ {\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}d{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}d\ {\isasympreceq}\isactrlsub r\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}let\ r\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}\ in\ {\isacharparenleft}{\kern0pt}x\ {\isasympreceq}\isactrlsub r\ d{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}m\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ defer\ m\ A\ p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}d\ {\isasymin}\ A{\isachardot}{\kern0pt}\ {\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}d{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}d{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ d{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cr{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dcc{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}helper{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}prof{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ rating{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}rating\ e{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ winner{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}elimination{\isacharunderscore}{\kern0pt}set\ e\ {\isacharparenleft}{\kern0pt}Max\ {\isacharbraceleft}{\kern0pt}e\ x\ A\ p\ {\isacharbar}{\kern0pt}\ x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}{\isacharparenright}{\kern0pt}\ A\ p\ {\isacharequal}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ safe{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ max{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ w\ A\ p\ {\isacharless}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ x\ A\ p\ {\isacharbar}{\kern0pt}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}val\isanewline
\ \ \ \ \ \ \ \ \ \ rating\ winner\ f{\isacharunderscore}{\kern0pt}prof\ max\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ not{\isacharunderscore}{\kern0pt}max{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ e\ x\ A\ p\ {\isacharless}{\kern0pt}\ Max\ {\isacharbraceleft}{\kern0pt}e\ y\ A\ p\ {\isacharbar}{\kern0pt}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}eval\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \ \ \ \ \ \ \ \ rating\ winner\ f{\isacharunderscore}{\kern0pt}prof\ not{\isacharunderscore}{\kern0pt}max\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ cr{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dcc{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}elim{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ rating{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}rating\ e{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency\ {\isacharparenleft}{\kern0pt}max{\isacharunderscore}{\kern0pt}eliminator\ e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ defer{\isacharunderscore}{\kern0pt}condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}safe{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ winner{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}trsh\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Max\ {\isacharbraceleft}{\kern0pt}e\ y\ A\ p\ {\isacharbar}{\kern0pt}\ y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ A{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}max{\isacharunderscore}{\kern0pt}eliminator\ e\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ defer\ {\isacharparenleft}{\kern0pt}max{\isacharunderscore}{\kern0pt}eliminator\ e{\isacharparenright}{\kern0pt}\ A\ p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}a\ {\isasymin}\ A{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}elimination{\isacharunderscore}{\kern0pt}set\ e\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}trsh{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}{\isacharparenright}{\kern0pt}\ A\ p\ {\isasymnoteq}\ A{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ profile{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}profile\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ winner\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ rating\ winner\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}elimination{\isacharunderscore}{\kern0pt}set\ e\ {\isacharquery}{\kern0pt}trsh\ {\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cr{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dcc{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}helper{\isadigit{1}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}max{\isacharunderscore}{\kern0pt}eliminator\ e\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}elimination{\isacharunderscore}{\kern0pt}set\ e\ {\isacharquery}{\kern0pt}trsh\ {\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}elimination{\isacharunderscore}{\kern0pt}set\ e\ {\isacharquery}{\kern0pt}trsh\ {\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}{\isacharparenright}{\kern0pt}\ A\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ winner\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}A\ {\isacharminus}{\kern0pt}\ defer\ {\isacharparenleft}{\kern0pt}max{\isacharunderscore}{\kern0pt}eliminator\ e{\isacharparenright}{\kern0pt}\ A\ p{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ calculation\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ A\ {\isacharminus}{\kern0pt}\ defer\ {\isacharparenleft}{\kern0pt}max{\isacharunderscore}{\kern0pt}eliminator\ e{\isacharparenright}{\kern0pt}\ A\ p{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}d\ {\isasymin}\ A{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ d{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{3}}\ winner\ Collect{\isacharunderscore}{\kern0pt}cong\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite\ winner\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ f{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}finite\ A\ {\isasymand}\ profile\ A\ p\ {\isasymand}\ w\ {\isasymin}\ A\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}a{\isachardot}{\kern0pt}\ a\ {\isasymnotin}\ A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ {\isasymor}\ wins\ w\ p\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ winner\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}trsh\ {\isacharequal}{\kern0pt}\ e\ w\ A\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rating\ winner\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}val{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isadigit{1}}\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}consistency{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}consistency\ m\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}\ A\ p\ w{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}m\ A\ p\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}elect\ m\ A\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}consistency\ m\ {\isasymLongrightarrow}\ electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\isanewline
\ \ \ \ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ p\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ Profile{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ cc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}consistency\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ assm{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w\ {\isasymLongrightarrow}\ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ elect\ m\ A\ p{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{3}}\ condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ cc\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ prof{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}profile\ A\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}w\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ prefer{\isacharunderscore}{\kern0pt}count\ p\ w\ x\ {\isachargreater}{\kern0pt}\ prefer{\isacharunderscore}{\kern0pt}count\ p\ x\ w\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}A\ prof{\isacharunderscore}{\kern0pt}A\ w{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}A\ wins{\isachardot}{\kern0pt}elims\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ elect\ m\ A\ p{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ assm{\isadigit{0}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymforall}A\ p\ w{\isachardot}{\kern0pt}\ condorcet{\isacharunderscore}{\kern0pt}winner\ A\ p\ w\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ elect\ m\ A\ p{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ condorcet{\isacharunderscore}{\kern0pt}consistency\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ condorcet{\isacharunderscore}{\kern0pt}consistency{\isacharunderscore}{\kern0pt}def\ cond{\isacharunderscore}{\kern0pt}winner{\isacharunderscore}{\kern0pt}unique{\isadigit{3}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}mod{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}electoral{\isacharunderscore}{\kern0pt}module\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}A\ p\ w{\isachardot}{\kern0pt}\ finite\ A\ {\isasymand}\ profile\ A\ p\ {\isasymand}\ w\ {\isasymin}\ A\ {\isasymand}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isasymin}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}i{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}p{\isacharbang}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ m\ A\ p\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A\ {\isacharminus}{\kern0pt}\ elect\ m\ A\ p{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ condorcet{\isacharunderscore}{\kern0pt}consistency\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm{\isadigit{0}}\ e{\isacharunderscore}{\kern0pt}mod\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/Studies/VotingRuleGenerator/virage/src/test/resources/verifiedVotingRuleConstruction/theories/Compositional_Framework/Composition_Rules/Condorcet_Rules.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%14=4%:%
%:%15=5%:%
%:%16=6%:%
%:%17=7%:%
%:%18=8%:%
%:%23=8%:%
%:%26=9%:%
%:%27=13%:%
%:%28=14%:%
%:%29=14%:%
%:%30=15%:%
%:%31=16%:%
%:%32=17%:%
%:%33=18%:%
%:%34=19%:%
%:%41=20%:%
%:%42=20%:%
%:%43=21%:%
%:%43=24%:%
%:%44=25%:%
%:%45=25%:%
%:%46=26%:%
%:%47=27%:%
%:%48=28%:%
%:%49=29%:%
%:%50=29%:%
%:%51=29%:%
%:%52=30%:%
%:%53=30%:%
%:%54=31%:%
%:%55=32%:%
%:%56=32%:%
%:%57=33%:%
%:%58=33%:%
%:%59=34%:%
%:%60=34%:%
%:%61=35%:%
%:%62=36%:%
%:%63=36%:%
%:%64=37%:%
%:%65=37%:%
%:%66=38%:%
%:%67=38%:%
%:%68=39%:%
%:%69=40%:%
%:%70=40%:%
%:%71=41%:%
%:%72=41%:%
%:%73=42%:%
%:%74=43%:%
%:%75=43%:%
%:%76=44%:%
%:%77=45%:%
%:%78=45%:%
%:%79=45%:%
%:%80=46%:%
%:%81=47%:%
%:%82=47%:%
%:%83=48%:%
%:%84=48%:%
%:%85=48%:%
%:%86=49%:%
%:%87=49%:%
%:%88=50%:%
%:%94=50%:%
%:%97=51%:%
%:%98=57%:%
%:%99=58%:%
%:%100=58%:%
%:%101=59%:%
%:%102=60%:%
%:%103=61%:%
%:%104=62%:%
%:%105=63%:%
%:%106=64%:%
%:%107=65%:%
%:%114=66%:%
%:%115=66%:%
%:%116=67%:%
%:%117=67%:%
%:%118=68%:%
%:%119=68%:%
%:%120=69%:%
%:%121=69%:%
%:%122=70%:%
%:%123=70%:%
%:%124=70%:%
%:%125=71%:%
%:%126=71%:%
%:%127=72%:%
%:%128=72%:%
%:%129=73%:%
%:%130=73%:%
%:%131=73%:%
%:%132=74%:%
%:%133=74%:%
%:%134=75%:%
%:%140=75%:%
%:%143=76%:%
%:%144=78%:%
%:%145=79%:%
%:%146=79%:%
%:%147=80%:%
%:%148=81%:%
%:%149=82%:%
%:%150=83%:%
%:%151=84%:%
%:%154=85%:%
%:%158=85%:%
%:%159=85%:%
%:%160=86%:%
%:%161=86%:%
%:%162=87%:%
%:%163=87%:%
%:%164=88%:%
%:%166=90%:%
%:%167=91%:%
%:%168=91%:%
%:%169=92%:%
%:%170=92%:%
%:%171=93%:%
%:%172=93%:%
%:%173=94%:%
%:%179=100%:%
%:%180=101%:%
%:%181=101%:%
%:%182=102%:%
%:%188=102%:%
%:%191=103%:%
%:%192=104%:%
%:%193=105%:%
%:%194=105%:%
%:%195=106%:%
%:%196=107%:%
%:%203=108%:%
%:%204=108%:%
%:%205=109%:%
%:%206=110%:%
%:%207=110%:%
%:%208=111%:%
%:%209=111%:%
%:%210=112%:%
%:%211=113%:%
%:%212=113%:%
%:%213=114%:%
%:%214=114%:%
%:%215=115%:%
%:%216=115%:%
%:%217=116%:%
%:%221=120%:%
%:%222=121%:%
%:%223=121%:%
%:%224=122%:%
%:%225=122%:%
%:%226=123%:%
%:%227=124%:%
%:%228=125%:%
%:%229=126%:%
%:%230=127%:%
%:%231=127%:%
%:%232=128%:%
%:%233=129%:%
%:%234=130%:%
%:%235=130%:%
%:%236=131%:%
%:%239=134%:%
%:%240=135%:%
%:%241=135%:%
%:%242=136%:%
%:%243=137%:%
%:%244=137%:%
%:%245=138%:%
%:%246=138%:%
%:%247=139%:%
%:%248=139%:%
%:%249=140%:%
%:%250=140%:%
%:%251=141%:%
%:%252=142%:%
%:%253=143%:%
%:%254=144%:%
%:%255=145%:%
%:%256=146%:%
%:%257=146%:%
%:%258=147%:%
%:%259=148%:%
%:%260=149%:%
%:%261=150%:%
%:%262=151%:%
%:%264=153%:%
%:%265=154%:%
%:%266=154%:%
%:%267=155%:%
%:%268=155%:%
%:%269=156%:%
%:%270=156%:%
%:%271=157%:%
%:%272=157%:%
%:%273=158%:%
%:%274=158%:%
%:%275=159%:%
%:%276=160%:%
%:%277=160%:%
%:%278=161%:%
%:%279=161%:%
%:%280=162%:%
%:%281=162%:%
%:%282=163%:%
%:%283=164%:%
%:%284=165%:%
%:%285=166%:%
%:%286=167%:%
%:%287=167%:%
%:%288=168%:%
%:%289=169%:%
%:%290=170%:%
%:%291=171%:%
%:%293=173%:%
%:%294=174%:%
%:%295=175%:%
%:%296=175%:%
%:%297=176%:%
%:%298=176%:%
%:%299=177%:%
%:%300=177%:%
%:%301=178%:%
%:%302=178%:%
%:%303=179%:%
%:%304=179%:%
%:%305=180%:%
%:%306=181%:%
%:%307=182%:%
%:%308=182%:%
%:%309=183%:%
%:%310=183%:%
%:%311=184%:%
%:%312=184%:%
%:%313=185%:%
%:%314=186%:%
%:%315=187%:%
%:%316=188%:%
%:%317=189%:%
%:%318=190%:%
%:%319=190%:%
%:%320=191%:%
%:%321=192%:%
%:%322=193%:%
%:%323=194%:%
%:%324=195%:%
%:%325=196%:%
%:%327=198%:%
%:%328=199%:%
%:%329=200%:%
%:%330=201%:%
%:%331=201%:%
%:%332=202%:%
%:%333=202%:%
%:%334=203%:%
%:%335=203%:%
%:%336=204%:%
%:%337=204%:%
%:%338=205%:%
%:%339=205%:%
%:%340=206%:%
%:%341=207%:%
%:%342=208%:%
%:%343=208%:%
%:%344=209%:%
%:%345=209%:%
%:%346=210%:%
%:%347=210%:%
%:%348=211%:%
%:%349=212%:%
%:%350=213%:%
%:%351=214%:%
%:%352=215%:%
%:%353=215%:%
%:%354=216%:%
%:%355=217%:%
%:%356=218%:%
%:%357=219%:%
%:%358=220%:%
%:%359=221%:%
%:%361=223%:%
%:%362=224%:%
%:%364=226%:%
%:%365=227%:%
%:%366=227%:%
%:%367=228%:%
%:%368=228%:%
%:%369=229%:%
%:%370=229%:%
%:%371=230%:%
%:%372=230%:%
%:%373=230%:%
%:%374=231%:%
%:%375=231%:%
%:%376=232%:%
%:%377=232%:%
%:%378=233%:%
%:%379=233%:%
%:%380=233%:%
%:%381=234%:%
%:%382=234%:%
%:%383=235%:%
%:%384=236%:%
%:%385=237%:%
%:%386=237%:%
%:%387=238%:%
%:%388=238%:%
%:%389=239%:%
%:%390=239%:%
%:%391=240%:%
%:%392=241%:%
%:%393=242%:%
%:%394=243%:%
%:%395=244%:%
%:%396=244%:%
%:%397=245%:%
%:%398=246%:%
%:%399=247%:%
%:%400=248%:%
%:%401=249%:%
%:%403=251%:%
%:%404=252%:%
%:%405=252%:%
%:%406=253%:%
%:%407=253%:%
%:%408=254%:%
%:%409=254%:%
%:%410=255%:%
%:%411=255%:%
%:%412=256%:%
%:%413=256%:%
%:%414=257%:%
%:%415=258%:%
%:%416=258%:%
%:%417=259%:%
%:%418=259%:%
%:%419=260%:%
%:%420=260%:%
%:%421=261%:%
%:%422=262%:%
%:%423=263%:%
%:%424=264%:%
%:%425=265%:%
%:%426=265%:%
%:%427=266%:%
%:%428=267%:%
%:%429=268%:%
%:%430=269%:%
%:%431=270%:%
%:%432=271%:%
%:%434=273%:%
%:%435=274%:%
%:%436=274%:%
%:%437=275%:%
%:%438=275%:%
%:%439=276%:%
%:%440=276%:%
%:%441=277%:%
%:%442=277%:%
%:%443=278%:%
%:%444=278%:%
%:%445=279%:%
%:%446=280%:%
%:%447=280%:%
%:%448=281%:%
%:%449=281%:%
%:%450=282%:%
%:%451=282%:%
%:%452=283%:%
%:%453=284%:%
%:%454=285%:%
%:%455=286%:%
%:%456=287%:%
%:%457=287%:%
%:%458=288%:%
%:%459=289%:%
%:%460=290%:%
%:%461=291%:%
%:%462=292%:%
%:%463=293%:%
%:%465=295%:%
%:%466=296%:%
%:%467=296%:%
%:%468=297%:%
%:%469=297%:%
%:%470=298%:%
%:%471=298%:%
%:%472=299%:%
%:%473=299%:%
%:%474=300%:%
%:%475=300%:%
%:%476=301%:%
%:%477=302%:%
%:%478=302%:%
%:%479=303%:%
%:%480=303%:%
%:%481=304%:%
%:%482=304%:%
%:%483=305%:%
%:%484=306%:%
%:%485=307%:%
%:%486=308%:%
%:%487=309%:%
%:%488=309%:%
%:%489=310%:%
%:%490=311%:%
%:%491=312%:%
%:%492=313%:%
%:%493=314%:%
%:%494=315%:%
%:%495=316%:%
%:%497=318%:%
%:%498=319%:%
%:%499=319%:%
%:%500=320%:%
%:%501=320%:%
%:%502=321%:%
%:%503=321%:%
%:%504=322%:%
%:%505=322%:%
%:%506=323%:%
%:%507=323%:%
%:%508=324%:%
%:%509=325%:%
%:%510=325%:%
%:%511=326%:%
%:%517=326%:%
%:%520=327%:%
%:%521=328%:%
%:%522=328%:%
%:%523=329%:%
%:%524=330%:%
%:%525=331%:%
%:%526=332%:%
%:%533=333%:%
%:%534=333%:%
%:%535=334%:%
%:%536=334%:%
%:%537=335%:%
%:%538=335%:%
%:%539=335%:%
%:%540=336%:%
%:%541=337%:%
%:%542=337%:%
%:%543=338%:%
%:%544=338%:%
%:%545=339%:%
%:%546=339%:%
%:%547=340%:%
%:%548=341%:%
%:%549=341%:%
%:%550=342%:%
%:%551=342%:%
%:%552=343%:%
%:%553=343%:%
%:%554=344%:%
%:%555=344%:%
%:%556=345%:%
%:%557=346%:%
%:%558=346%:%
%:%559=347%:%
%:%560=347%:%
%:%561=348%:%
%:%562=348%:%
%:%563=349%:%
%:%564=350%:%
%:%565=350%:%
%:%566=351%:%
%:%567=351%:%
%:%568=351%:%
%:%569=352%:%
%:%570=352%:%
%:%571=353%:%
%:%572=353%:%
%:%573=354%:%
%:%574=354%:%
%:%575=355%:%
%:%576=355%:%
%:%577=356%:%
%:%578=356%:%
%:%579=357%:%
%:%580=357%:%
%:%581=358%:%
%:%582=358%:%
%:%583=359%:%
%:%584=359%:%
%:%585=360%:%
%:%586=360%:%
%:%587=361%:%
%:%588=361%:%
%:%589=361%:%
%:%590=362%:%
%:%591=363%:%
%:%592=363%:%
%:%593=364%:%
%:%594=365%:%
%:%595=365%:%
%:%596=366%:%
%:%597=366%:%
%:%598=366%:%
%:%599=367%:%
%:%600=367%:%
%:%601=368%:%
%:%602=368%:%
%:%603=369%:%
%:%604=369%:%
%:%605=370%:%
%:%606=370%:%
%:%607=371%:%
%:%613=371%:%
%:%616=372%:%
%:%617=373%:%
%:%618=373%:%
%:%619=374%:%
%:%620=375%:%
%:%621=376%:%
%:%628=377%:%
%:%629=377%:%
%:%630=378%:%
%:%631=378%:%
%:%632=379%:%
%:%633=379%:%
%:%634=380%:%
%:%635=380%:%
%:%636=381%:%
%:%637=381%:%
%:%638=382%:%
%:%639=382%:%
%:%640=383%:%
%:%641=384%:%
%:%642=385%:%
%:%643=386%:%
%:%644=386%:%
%:%645=387%:%
%:%646=388%:%
%:%647=389%:%
%:%648=390%:%
%:%650=392%:%
%:%651=393%:%
%:%652=393%:%
%:%653=394%:%
%:%654=394%:%
%:%655=395%:%
%:%656=395%:%
%:%657=396%:%
%:%658=396%:%
%:%659=397%:%
%:%662=400%:%
%:%663=401%:%
%:%664=401%:%
%:%665=402%:%
%:%666=403%:%
%:%667=403%:%
%:%668=403%:%
%:%669=404%:%
%:%670=405%:%
%:%671=405%:%
%:%672=406%:%
%:%673=407%:%
%:%674=407%:%
%:%675=408%:%
%:%676=409%:%
%:%677=409%:%
%:%678=409%:%
%:%679=410%:%
%:%680=410%:%
%:%681=411%:%
%:%682=411%:%
%:%683=412%:%
%:%684=413%:%
%:%685=413%:%
%:%686=413%:%
%:%687=414%:%
%:%688=414%:%
%:%689=415%:%
%:%690=416%:%
%:%691=416%:%
%:%692=417%:%
%:%693=417%:%
%:%694=417%:%
%:%695=418%:%
%:%696=418%:%
%:%697=419%:%
%:%698=419%:%
%:%699=420%:%
%:%700=420%:%
%:%701=421%:%
%:%702=421%:%
%:%703=422%:%
%:%704=422%:%
%:%705=423%:%
%:%706=423%:%
%:%707=424%:%
%:%708=424%:%
%:%709=425%:%
%:%710=425%:%
%:%711=426%:%
%:%712=426%:%
%:%713=427%:%
%:%714=427%:%
%:%715=428%:%
%:%718=431%:%
%:%719=432%:%
%:%720=432%:%
%:%721=433%:%
%:%722=433%:%
%:%723=434%:%
%:%724=434%:%
%:%725=435%:%
%:%729=439%:%
%:%730=440%:%
%:%731=440%:%
%:%732=441%:%
%:%733=441%:%
%:%734=442%:%
%:%739=447%:%
%:%740=448%:%
%:%741=448%:%
%:%742=449%:%
%:%743=449%:%
%:%744=450%:%
%:%749=455%:%
%:%750=456%:%
%:%751=456%:%
%:%752=457%:%
%:%758=457%:%
%:%761=458%:%
%:%762=459%:%
%:%763=459%:%
%:%764=460%:%
%:%765=461%:%
%:%766=462%:%
%:%767=463%:%
%:%768=464%:%
%:%775=465%:%
%:%776=465%:%
%:%777=466%:%
%:%778=466%:%
%:%779=467%:%
%:%780=468%:%
%:%781=469%:%
%:%782=469%:%
%:%783=470%:%
%:%784=470%:%
%:%785=471%:%
%:%786=472%:%
%:%787=472%:%
%:%788=473%:%
%:%789=473%:%
%:%790=474%:%
%:%791=474%:%
%:%792=475%:%
%:%793=476%:%
%:%794=476%:%
%:%795=477%:%
%:%796=478%:%
%:%797=479%:%
%:%798=479%:%
%:%799=480%:%
%:%800=480%:%
%:%801=481%:%
%:%802=482%:%
%:%803=482%:%
%:%804=483%:%
%:%810=483%:%
%:%813=484%:%
%:%814=488%:%
%:%815=489%:%
%:%816=489%:%
%:%817=490%:%
%:%818=491%:%
%:%821=492%:%
%:%825=492%:%
%:%826=492%:%
%:%827=493%:%
%:%828=493%:%
%:%829=494%:%
%:%830=494%:%
%:%831=495%:%
%:%832=496%:%
%:%833=497%:%
%:%834=498%:%
%:%835=498%:%
%:%836=499%:%
%:%837=500%:%
%:%838=501%:%
%:%839=501%:%
%:%840=502%:%
%:%841=502%:%
%:%842=503%:%
%:%845=506%:%
%:%846=507%:%
%:%847=507%:%
%:%848=508%:%
%:%849=508%:%
%:%850=509%:%
%:%851=509%:%
%:%852=510%:%
%:%853=510%:%
%:%854=511%:%
%:%855=511%:%
%:%856=512%:%
%:%857=512%:%
%:%858=512%:%
%:%859=513%:%
%:%860=514%:%
%:%861=514%:%
%:%862=515%:%
%:%863=515%:%
%:%864=516%:%
%:%865=516%:%
%:%866=517%:%
%:%869=520%:%
%:%870=521%:%
%:%871=521%:%
%:%872=522%:%
%:%873=522%:%
%:%874=523%:%
%:%875=523%:%
%:%876=523%:%
%:%877=524%:%
%:%878=524%:%
%:%879=525%:%
%:%880=525%:%
%:%881=526%:%
%:%882=526%:%
%:%883=526%:%
%:%884=527%:%
%:%885=527%:%
%:%886=528%:%
%:%887=528%:%
%:%888=529%:%
%:%889=529%:%
%:%890=529%:%
%:%891=530%:%
%:%892=530%:%
%:%893=531%:%
%:%894=531%:%
%:%895=532%:%
%:%896=532%:%
%:%897=532%:%
%:%898=533%:%
%:%901=536%:%
%:%902=537%:%
%:%903=537%:%
%:%904=538%:%
%:%905=538%:%
%:%906=539%:%
%:%907=539%:%
%:%908=539%:%
%:%909=540%:%
%:%910=540%:%
%:%911=541%:%
%:%912=541%:%
%:%913=542%:%
%:%914=542%:%
%:%915=543%:%
%:%916=543%:%
%:%917=544%:%
%:%918=544%:%
%:%919=545%:%
%:%920=545%:%
%:%921=546%:%
%:%922=546%:%
%:%923=547%:%
%:%924=548%:%
%:%925=548%:%
%:%926=549%:%
%:%927=549%:%
%:%928=550%:%
%:%929=550%:%
%:%930=551%:%
%:%931=552%:%
%:%932=552%:%
%:%933=553%:%
%:%934=553%:%
%:%935=554%:%
%:%936=554%:%
%:%937=555%:%
%:%938=555%:%
%:%939=556%:%
%:%940=556%:%
%:%941=557%:%
%:%942=557%:%
%:%943=558%:%
%:%944=558%:%
%:%945=559%:%
%:%946=559%:%
%:%947=560%:%
%:%948=560%:%
%:%949=561%:%
%:%955=561%:%
%:%958=562%:%
%:%959=563%:%
%:%960=563%:%
%:%961=564%:%
%:%965=568%:%
%:%972=569%:%
%:%973=569%:%
%:%974=570%:%
%:%975=570%:%
%:%976=571%:%
%:%977=571%:%
%:%978=572%:%
%:%979=572%:%
%:%980=573%:%
%:%981=573%:%
%:%982=574%:%
%:%983=574%:%
%:%984=575%:%
%:%985=576%:%
%:%986=577%:%
%:%987=578%:%
%:%988=578%:%
%:%989=579%:%
%:%990=580%:%
%:%991=580%:%
%:%992=581%:%
%:%993=582%:%
%:%994=582%:%
%:%995=583%:%
%:%996=583%:%
%:%997=584%:%
%:%998=584%:%
%:%999=585%:%
%:%1000=586%:%
%:%1001=587%:%
%:%1002=588%:%
%:%1003=588%:%
%:%1004=588%:%
%:%1005=589%:%
%:%1007=591%:%
%:%1008=592%:%
%:%1009=592%:%
%:%1010=593%:%
%:%1011=593%:%
%:%1012=594%:%
%:%1013=594%:%
%:%1014=594%:%
%:%1015=595%:%
%:%1018=598%:%
%:%1019=599%:%
%:%1020=599%:%
%:%1021=600%:%
%:%1022=600%:%
%:%1023=601%:%
%:%1024=601%:%
%:%1025=602%:%
%:%1026=602%:%
%:%1027=603%:%
%:%1030=606%:%
%:%1031=607%:%
%:%1032=607%:%
%:%1033=608%:%
%:%1034=608%:%
%:%1035=609%:%
%:%1036=609%:%
%:%1037=610%:%
%:%1038=611%:%
%:%1039=611%:%
%:%1040=612%:%
%:%1045=617%:%
%:%1046=618%:%
%:%1047=618%:%
%:%1048=619%:%
%:%1049=619%:%
%:%1050=620%:%
%:%1056=620%:%
%:%1061=621%:%
%:%1066=622%:%